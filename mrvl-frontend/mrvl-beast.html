<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>MRVL - Professional Marvel Rivals Esports Platform</title>
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=inter:300,400,500,600,700,800,900&family=space-mono:400,700" rel="stylesheet" />
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ['Inter', 'system-ui', 'sans-serif'],
                            mono: ['Space Mono', 'monospace'],
                        },
                        colors: {
                            primary: {
                                50: '#f0f9ff',
                                100: '#e0f2fe',
                                200: '#bae6fd',
                                300: '#7dd3fc',
                                400: '#38bdf8',
                                500: '#0ea5e9',
                                600: '#0284c7',
                                700: '#0369a1',
                                800: '#075985',
                                900: '#0c4a6e',
                            }
                        }
                    }
                }
            }
        </script>
        <style>
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            @keyframes slideUp {
                from { transform: translateY(10px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            
            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
            }
            
            .animate-fade-in {
                animation: fadeIn 0.5s ease-in-out;
            }
            
            .animate-slide-up {
                animation: slideUp 0.3s ease-out;
            }
            
            .animate-pulse {
                animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            
            /* Professional Glass Effect */
            .glass {
                background: rgba(15, 23, 42, 0.85);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(148, 163, 184, 0.1);
            }
            
            .glass-light {
                background: rgba(255, 255, 255, 0.85);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(0, 0, 0, 0.1);
            }
            
            /* Light Mode Styles */
            .light .glass {
                background: rgba(255, 255, 255, 0.85);
                border: 1px solid rgba(0, 0, 0, 0.1);
            }
            
            /* Professional Logo */
            .logo-professional {
                font-family: 'Space Mono', monospace;
                font-weight: 700;
                letter-spacing: 2px;
                color: #0284c7;
            }
            
            /* Marvel Rivals Game Theme */
            .marvel-bg {
                background: linear-gradient(135deg, #0c1426 0%, #1e293b 50%, #334155 100%);
            }
            
            .marvel-bg-light {
                background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);
            }
            
            /* Professional Dark/Light Theme */
            .dark {
                color-scheme: dark;
            }
            
            .light {
                color-scheme: light;
            }
            
            /* Custom Scrollbar */
            ::-webkit-scrollbar {
                width: 6px;
            }
            
            ::-webkit-scrollbar-track {
                background: transparent;
            }
            
            .dark ::-webkit-scrollbar-thumb {
                background: #475569;
                border-radius: 3px;
            }
            
            .light ::-webkit-scrollbar-thumb {
                background: #cbd5e1;
                border-radius: 3px;
            }
            
            /* Professional Theme Transitions */
            * {
                transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            }
        </style>
    </head>
    <body class="marvel-bg dark:marvel-bg light:marvel-bg-light text-slate-900 dark:text-white font-sans antialiased">
        <div id="app"></div>
        <script type="module">
            import { createRoot } from 'https://esm.sh/react-dom@18/client';
            import { createElement as h, useState, useEffect, useCallback } from 'https://esm.sh/react@18';

            // PRODUCTION API CONFIGURATION
            const API_CONFIG = {
                BASE_URL: window.location.hostname === 'localhost' 
                    ? 'http://localhost:8000/api'
                    : 'https://staging.mrvl.net/api',
                WEB_URL: window.location.hostname === 'localhost'
                    ? 'http://localhost:8000'
                    : 'https://staging.mrvl.net'
            };

            // COMPREHENSIVE MARVEL RIVALS DATA
            const mockData = {
                matches: [
                    {
                        id: 1,
                        team1: { 
                            name: "Team Stark Industries", 
                            shortName: "STARK",
                            logo: "üî•", 
                            region: "NA",
                            country: "US",
                            flag: "üá∫üá∏"
                        },
                        team2: { 
                            name: "Wakanda Protectors", 
                            shortName: "WAKANDA",
                            logo: "‚ö°", 
                            region: "NA",
                            country: "US",
                            flag: "üá∫üá∏"
                        },
                        scheduled_at: new Date(Date.now() + 30 * 60 * 1000).toISOString(),
                        status: "live",
                        event: { 
                            name: "Marvel Rivals Championship", 
                            type: "International",
                            stage: "Grand Finals"
                        },
                        map: "Asgard Throne Room",
                        team1_score: 8,
                        team2_score: 6,
                        best_of: 5,
                        current_map: 3,
                        viewers: 45720,
                        format: "BO5",
                        prize_pool: "$50,000",
                        streamer: "marvel_esports"
                    },
                    {
                        id: 2,
                        team1: { 
                            name: "S.H.I.E.L.D. Tactical", 
                            shortName: "SHIELD",
                            logo: "üõ°Ô∏è", 
                            region: "EU",
                            country: "UK",
                            flag: "üá¨üáß"
                        },
                        team2: { 
                            name: "Hydra Supremacy", 
                            shortName: "HYDRA",
                            logo: "üêô", 
                            region: "EU",
                            country: "DE",
                            flag: "üá©üá™"
                        },
                        scheduled_at: new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),
                        status: "upcoming",
                        event: { 
                            name: "European Rivals League", 
                            type: "Regional",
                            stage: "Semifinals"
                        },
                        map: "Helicarrier Command",
                        format: "BO3",
                        prize_pool: "$15,000"
                    },
                    {
                        id: 3,
                        team1: { 
                            name: "Asgardian Warriors", 
                            shortName: "ASGARD",
                            logo: "‚ö°", 
                            region: "APAC",
                            country: "KR",
                            flag: "üá∞üá∑"
                        },
                        team2: { 
                            name: "Dark Dimension", 
                            shortName: "DARK",
                            logo: "üåë", 
                            region: "APAC",
                            country: "JP",
                            flag: "üáØüáµ"
                        },
                        scheduled_at: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),
                        status: "completed",
                        event: { 
                            name: "APAC Rivals Championship", 
                            type: "Regional",
                            stage: "Finals"
                        },
                        map: "Bifrost Arena",
                        team1_score: 13,
                        team2_score: 8,
                        format: "BO5",
                        duration: "2h 45m",
                        mvp: "ThorGod"
                    }
                ],

                rankings: [
                    { 
                        rank: 1, 
                        team: "Team Stark Industries", 
                        shortName: "STARK",
                        logo: "üî•", 
                        rating: 1847, 
                        region: "NA", 
                        country: "US",
                        flag: "üá∫üá∏",
                        winRate: "87%",
                        wins: 26,
                        losses: 4,
                        maps_won: 58,
                        maps_lost: 19,
                        trend: "up",
                        lastMatch: "2h ago",
                        earnings: "$125,000"
                    },
                    { 
                        rank: 2, 
                        team: "Wakanda Protectors", 
                        shortName: "WAKANDA",
                        logo: "‚ö°", 
                        rating: 1823, 
                        region: "NA", 
                        country: "US",
                        flag: "üá∫üá∏",
                        winRate: "84%",
                        wins: 21,
                        losses: 4,
                        maps_won: 52,
                        maps_lost: 23,
                        trend: "stable",
                        lastMatch: "1d ago",
                        earnings: "$87,500"
                    },
                    { 
                        rank: 3, 
                        team: "S.H.I.E.L.D. Tactical", 
                        shortName: "SHIELD",
                        logo: "üõ°Ô∏è", 
                        rating: 1791, 
                        region: "EU", 
                        country: "UK",
                        flag: "üá¨üáß",
                        winRate: "82%",
                        wins: 18,
                        losses: 4,
                        maps_won: 45,
                        maps_lost: 21,
                        trend: "up",
                        lastMatch: "6h ago",
                        earnings: "$65,000"
                    }
                ],

                teams: [
                    {
                        id: 1,
                        name: "Team Stark Industries",
                        shortName: "STARK",
                        logo: "üî•",
                        region: "North America",
                        country: "United States",
                        flag: "üá∫üá∏",
                        founded: "2024-01-15",
                        coach: "Nick Fury",
                        captain: "TonyStark",
                        players: [
                            { 
                                name: "TonyStark", 
                                role: "Vanguard", 
                                heroes: ["Iron Man", "War Machine"], 
                                rating: 1923,
                                age: 24, 
                                country: "US",
                                flag: "üá∫üá∏"
                            },
                            { 
                                name: "SteveRogers", 
                                role: "Vanguard", 
                                heroes: ["Captain America", "Bucky"], 
                                rating: 1887,
                                age: 26, 
                                country: "US",
                                flag: "üá∫üá∏"
                            },
                            { 
                                name: "ThorGod", 
                                role: "Duelist", 
                                heroes: ["Thor", "Beta Ray Bill"], 
                                rating: 1945,
                                age: 23, 
                                country: "NO",
                                flag: "üá≥üá¥"
                            },
                            { 
                                name: "BruceSmash", 
                                role: "Vanguard", 
                                heroes: ["Hulk", "She-Hulk"], 
                                rating: 1856,
                                age: 25, 
                                country: "US",
                                flag: "üá∫üá∏"
                            },
                            { 
                                name: "NatRush", 
                                role: "Duelist", 
                                heroes: ["Black Widow", "Hawkeye"], 
                                rating: 1912,
                                age: 22, 
                                country: "RU",
                                flag: "üá∑üá∫"
                            }
                        ],
                        wins: 26,
                        losses: 4,
                        rating: 1847,
                        earnings: "$125,000",
                        achievements: ["Marvel Rivals Championship 2024", "NA Regional Champions"],
                        socialMedia: {
                            twitter: "@StarkIndustriesGG",
                            instagram: "@starkindustries_esports",
                            youtube: "StarkIndustriesEsports"
                        }
                    }
                ],

                heroes: [
                    { 
                        name: "Iron Man", 
                        role: "Vanguard", 
                        pickRate: "23.4%", 
                        winRate: "52.1%",
                        banRate: "15.3%",
                        difficulty: "Hard",
                        abilities: ["Repulsors", "Unibeam", "Mark Armor"],
                        description: "Versatile armored hero with high-tech weaponry",
                        winRateByMap: {
                            "Asgard Throne Room": "58%",
                            "Helicarrier Command": "51%",
                            "Bifrost Arena": "49%"
                        }
                    },
                    { 
                        name: "Spider-Man", 
                        role: "Duelist", 
                        pickRate: "21.8%", 
                        winRate: "54.3%",
                        banRate: "12.7%",
                        difficulty: "Medium",
                        abilities: ["Web Swing", "Spider Sense", "Web Shooters"],
                        description: "Agile damage dealer with exceptional mobility"
                    },
                    { 
                        name: "Storm", 
                        role: "Strategist", 
                        pickRate: "19.2%", 
                        winRate: "58.7%",
                        banRate: "8.9%",
                        difficulty: "Medium",
                        abilities: ["Lightning Strike", "Weather Control", "Wind Barrier"],
                        description: "Support hero with environmental manipulation"
                    }
                ],

                forums: [
                    {
                        id: 1,
                        name: "General Discussion",
                        description: "General Marvel Rivals gameplay and community discussion",
                        threadCount: 2847,
                        postCount: 45672,
                        icon: "üí¨",
                        moderators: ["FuryMod", "StarkMod"],
                        latestThreads: [
                            {
                                id: 101,
                                title: "Best team compositions for ranked play?",
                                author: "WebSlinger_Pro",
                                replies: 23,
                                views: 456,
                                lastActivity: "5 minutes ago",
                                isPinned: false
                            },
                            {
                                id: 102,
                                title: "Marvel Rivals Championship Discussion",
                                author: "MRVL_Admin",
                                replies: 89,
                                views: 2341,
                                lastActivity: "12 minutes ago",
                                isPinned: true
                            }
                        ]
                    },
                    {
                        id: 2,
                        name: "Strategy & Meta",
                        description: "Hero guides, team strategies, and meta analysis",
                        threadCount: 1523,
                        postCount: 28934,
                        icon: "üß†",
                        moderators: ["StrategyMod", "MetaMod"],
                        latestThreads: [
                            {
                                id: 201,
                                title: "Iron Man positioning guide for Asgard map",
                                author: "TankMaster",
                                replies: 34,
                                views: 789,
                                lastActivity: "8 minutes ago"
                            }
                        ]
                    }
                ],

                events: [
                    {
                        id: 1,
                        name: "Marvel Rivals World Championship 2025",
                        description: "The ultimate Marvel Rivals tournament featuring the world's best teams",
                        startDate: "2025-06-15",
                        endDate: "2025-06-18",
                        prizePool: "$500,000",
                        status: "upcoming",
                        teams: 24,
                        format: "Double Elimination",
                        region: "Global",
                        location: "Los Angeles Convention Center",
                        organizer: "Marvel Games",
                        sponsors: ["Marvel", "Disney", "Twitch"],
                        stream: "marvel_esports"
                    }
                ]
            };

            // Theme Management
            function useTheme() {
                const [theme, setTheme] = useState('dark');

                useEffect(() => {
                    const savedTheme = localStorage.getItem('theme') || 'dark';
                    setTheme(savedTheme);
                    document.documentElement.className = savedTheme;
                }, []);

                const toggleTheme = () => {
                    const newTheme = theme === 'dark' ? 'light' : 'dark';
                    setTheme(newTheme);
                    localStorage.setItem('theme', newTheme);
                    document.documentElement.className = newTheme;
                };

                return { theme, toggleTheme };
            }

            // Enhanced Auth Hook
            function useAuth() {
                const [user, setUser] = useState(null);
                const [loading, setLoading] = useState(true);

                useEffect(() => {
                    const token = localStorage.getItem('auth_token');
                    const savedUser = localStorage.getItem('user');
                    
                    if (token && savedUser) {
                        setUser(JSON.parse(savedUser));
                    }
                    setLoading(false);
                }, []);

                const login = async (email, password) => {
                    try {
                        // Mock successful login for demo
                        const mockUser = {
                            id: 1,
                            name: email.split('@')[0],
                            email: email,
                            roles: email.includes('admin') ? ['admin', 'moderator'] : ['user'],
                            avatar: null,
                            created_at: new Date().toISOString()
                        };
                        
                        localStorage.setItem('auth_token', 'mock-token-' + Date.now());
                        localStorage.setItem('user', JSON.stringify(mockUser));
                        setUser(mockUser);
                        return { success: true };
                    } catch (error) {
                        return { success: false, error: 'Login failed' };
                    }
                };

                const register = async (name, email, password) => {
                    try {
                        const mockUser = {
                            id: Date.now(),
                            name: name,
                            email: email,
                            roles: ['user'],
                            avatar: null,
                            created_at: new Date().toISOString()
                        };
                        
                        localStorage.setItem('auth_token', 'mock-token-' + Date.now());
                        localStorage.setItem('user', JSON.stringify(mockUser));
                        setUser(mockUser);
                        return { success: true };
                    } catch (error) {
                        return { success: false, error: 'Registration failed' };
                    }
                };

                const logout = () => {
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user');
                    setUser(null);
                };

                const hasRole = (role) => {
                    return user && user.roles && user.roles.includes(role);
                };

                const isAdmin = hasRole('admin');
                const isModerator = hasRole('moderator') || hasRole('admin');

                return { user, loading, login, register, logout, hasRole, isAdmin, isModerator };
            }

            // Professional Navigation Component
            function Navigation({ currentPage, setCurrentPage, onShowAuth }) {
                const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
                const [searchOpen, setSearchOpen] = useState(false);
                const [searchTerm, setSearchTerm] = useState('');
                const { theme, toggleTheme } = useTheme();
                const { user, logout, isAdmin, isModerator } = useAuth();

                const navItems = [
                    { id: 'home', label: 'Home', icon: 'üè†' },
                    { id: 'matches', label: 'Matches', icon: '‚öîÔ∏è' },
                    { id: 'rankings', label: 'Rankings', icon: 'üèÜ' },
                    { id: 'teams', label: 'Teams', icon: 'üë•' },
                    { id: 'heroes', label: 'Heroes', icon: 'ü¶∏' },
                    { id: 'events', label: 'Events', icon: 'üéÆ' },
                    { id: 'forums', label: 'Forums', icon: 'üí¨' },
                    { id: 'news', label: 'News', icon: 'üì∞' }
                ];

                return h('header', { className: 'sticky top-0 z-50 glass border-b border-slate-200/10 dark:border-slate-700/50' },
                    h('div', { className: 'max-w-7xl mx-auto px-4' },
                        h('div', { className: 'flex items-center justify-between h-16' },
                            // Professional Logo
                            h('div', { 
                                className: 'flex items-center space-x-4 cursor-pointer group',
                                onClick: () => setCurrentPage('home')
                            },
                                h('div', { className: 'logo-professional text-2xl' }, 'MRVL'),
                                h('div', { className: 'hidden lg:block text-sm text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-300 transition-colors' }, 
                                    'Marvel Rivals Esports'
                                )
                            ),
                            
                            // Desktop Navigation
                            h('nav', { className: 'hidden lg:flex items-center space-x-1' },
                                ...navItems.map(item =>
                                    h('button', {
                                        key: item.id,
                                        onClick: () => setCurrentPage(item.id),
                                        className: `group flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${
                                            currentPage === item.id 
                                                ? 'bg-primary-600 text-white shadow-lg' 
                                                : 'text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700/50'
                                        }`
                                    },
                                        h('span', { className: 'text-base' }, item.icon),
                                        h('span', null, item.label)
                                    )
                                )
                            ),

                            // Controls
                            h('div', { className: 'flex items-center space-x-3' },
                                // Search
                                searchOpen ? h('div', { className: 'hidden md:flex items-center space-x-2 animate-fade-in' },
                                    h('input', {
                                        type: 'text',
                                        placeholder: 'Search teams, players, matches...',
                                        value: searchTerm,
                                        onChange: (e) => setSearchTerm(e.target.value),
                                        className: 'bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-4 py-2 text-sm text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500 w-64',
                                        autoFocus: true
                                    }),
                                    h('button', {
                                        onClick: () => setSearchOpen(false),
                                        className: 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-white p-1'
                                    }, '‚úï')
                                ) : h('button', {
                                    onClick: () => setSearchOpen(true),
                                    className: 'hidden md:flex items-center justify-center w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors'
                                }, 'üîç'),

                                // Theme Toggle
                                h('button', {
                                    onClick: toggleTheme,
                                    className: 'flex items-center justify-center w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors'
                                }, theme === 'dark' ? '‚òÄÔ∏è' : 'üåô'),

                                // Live indicator
                                h('div', { className: 'hidden md:flex items-center space-x-2 px-3 py-1 bg-red-600/20 rounded-lg' },
                                    h('div', { className: 'w-2 h-2 bg-red-500 rounded-full animate-pulse' }),
                                    h('span', { className: 'text-xs font-medium text-red-600 dark:text-red-400' }, '3 Live')
                                ),

                                // User Menu
                                user ? h('div', { className: 'relative group' },
                                    h('button', { className: 'flex items-center space-x-2 px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors' },
                                        h('div', { className: 'w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center text-xs font-bold text-white' }, 
                                            user.name?.charAt(0).toUpperCase() || 'U'
                                        ),
                                        h('span', { className: 'text-sm hidden sm:block text-slate-900 dark:text-white' }, user.name || 'User')
                                    ),
                                    h('div', { className: 'absolute right-0 mt-2 w-48 glass border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all' },
                                        h('div', { className: 'py-1' },
                                            h('button', { 
                                                className: 'block w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700',
                                                onClick: () => setCurrentPage('profile')
                                            }, 'Profile'),
                                            user.roles?.includes('admin') && h('button', { 
                                                className: 'block w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700',
                                                onClick: () => setCurrentPage('admin')
                                            }, 'Admin Panel'),
                                            user.roles?.includes('moderator') && h('button', { 
                                                className: 'block w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700',
                                                onClick: () => setCurrentPage('moderation')
                                            }, 'Moderation'),
                                            h('hr', { className: 'border-slate-200 dark:border-slate-700 my-1' }),
                                            h('button', { 
                                                className: 'block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-slate-100 dark:hover:bg-slate-700',
                                                onClick: logout
                                            }, 'Sign Out')
                                        )
                                    )
                                ) : h('button', {
                                    onClick: onShowAuth,
                                    className: 'px-4 py-2 bg-primary-600 hover:bg-primary-700 rounded-lg text-sm font-medium text-white transition-colors'
                                }, 'Sign In'),
                                
                                // Mobile menu button
                                h('button', {
                                    className: 'lg:hidden p-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors',
                                    onClick: () => setMobileMenuOpen(!mobileMenuOpen)
                                }, mobileMenuOpen ? '‚úï' : '‚ò∞')
                            )
                        ),

                        // Mobile Navigation
                        mobileMenuOpen && h('div', { className: 'lg:hidden py-4 border-t border-slate-200 dark:border-slate-700 animate-slide-up' },
                            h('nav', { className: 'flex flex-col space-y-1' },
                                ...navItems.map(item =>
                                    h('button', {
                                        key: item.id,
                                        onClick: () => {
                                            setCurrentPage(item.id);
                                            setMobileMenuOpen(false);
                                        },
                                        className: `flex items-center space-x-3 py-3 px-4 text-sm font-medium rounded-lg transition-colors ${
                                            currentPage === item.id 
                                                ? 'text-primary-600 bg-primary-50 dark:bg-primary-900/20' 
                                                : 'text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700'
                                        }`
                                    },
                                        h('span', { className: 'text-lg' }, item.icon),
                                        h('span', null, item.label)
                                    )
                                )
                            )
                        )
                    )
                );
            }

            // Professional Auth Modal Component
            function AuthModal({ isOpen, onClose }) {
                const [mode, setMode] = useState('login'); // 'login' or 'register'
                const [formData, setFormData] = useState({
                    name: '',
                    email: '',
                    password: '',
                    password_confirmation: ''
                });
                const [loading, setLoading] = useState(false);
                const [error, setError] = useState('');
                const { login, register } = useAuth();

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setLoading(true);
                    setError('');

                    let result;
                    if (mode === 'login') {
                        result = await login(formData.email, formData.password);
                    } else {
                        if (formData.password !== formData.password_confirmation) {
                            setError('Passwords do not match');
                            setLoading(false);
                            return;
                        }
                        result = await register(formData.name, formData.email, formData.password);
                    }

                    if (result.success) {
                        onClose();
                        setFormData({ name: '', email: '', password: '', password_confirmation: '' });
                    } else {
                        setError(result.error);
                    }
                    setLoading(false);
                };

                if (!isOpen) return null;

                return h('div', { className: 'fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4' },
                    h('div', { className: 'glass border border-slate-200 dark:border-slate-700 rounded-xl w-full max-w-md animate-fade-in' },
                        h('div', { className: 'p-6' },
                            h('div', { className: 'flex items-center justify-between mb-6' },
                                h('h2', { className: 'text-2xl font-bold text-slate-900 dark:text-white' }, 
                                    mode === 'login' ? 'Welcome Back' : 'Join MRVL'
                                ),
                                h('button', { 
                                    onClick: onClose,
                                    className: 'text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 text-xl'
                                }, '‚úï')
                            ),

                            h('form', { onSubmit: handleSubmit, className: 'space-y-4' },
                                mode === 'register' && h('div', null,
                                    h('label', { className: 'block text-sm font-medium mb-2 text-slate-900 dark:text-white' }, 'Full Name'),
                                    h('input', {
                                        type: 'text',
                                        value: formData.name,
                                        onChange: (e) => setFormData(prev => ({ ...prev, name: e.target.value })),
                                        className: 'w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500',
                                        placeholder: 'Enter your name',
                                        required: true
                                    })
                                ),

                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium mb-2 text-slate-900 dark:text-white' }, 'Email'),
                                    h('input', {
                                        type: 'email',
                                        value: formData.email,
                                        onChange: (e) => setFormData(prev => ({ ...prev, email: e.target.value })),
                                        className: 'w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500',
                                        placeholder: 'Enter your email',
                                        required: true
                                    })
                                ),

                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium mb-2 text-slate-900 dark:text-white' }, 'Password'),
                                    h('input', {
                                        type: 'password',
                                        value: formData.password,
                                        onChange: (e) => setFormData(prev => ({ ...prev, password: e.target.value })),
                                        className: 'w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500',
                                        placeholder: 'Enter your password',
                                        required: true
                                    })
                                ),

                                mode === 'register' && h('div', null,
                                    h('label', { className: 'block text-sm font-medium mb-2 text-slate-900 dark:text-white' }, 'Confirm Password'),
                                    h('input', {
                                        type: 'password',
                                        value: formData.password_confirmation,
                                        onChange: (e) => setFormData(prev => ({ ...prev, password_confirmation: e.target.value })),
                                        className: 'w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500',
                                        placeholder: 'Confirm your password',
                                        required: true
                                    })
                                ),

                                error && h('div', { className: 'text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg' }, error),

                                h('button', {
                                    type: 'submit',
                                    disabled: loading,
                                    className: 'w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 rounded-lg font-medium text-white transition-colors'
                                }, loading ? 'Loading...' : (mode === 'login' ? 'Sign In' : 'Create Account'))
                            ),

                            h('div', { className: 'mt-6 text-center' },
                                h('button', {
                                    onClick: () => {
                                        setMode(mode === 'login' ? 'register' : 'login');
                                        setError('');
                                        setFormData({ name: '', email: '', password: '', password_confirmation: '' });
                                    },
                                    className: 'text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm'
                                }, mode === 'login' ? 
                                    "Don't have an account? Sign up" : 
                                    "Already have an account? Sign in"
                                )
                            )
                        )
                    )
                );
            }

            // Professional Match Card Component
            function MatchCard({ match, showDetailedInfo = false }) {
                const getStatusColor = (status) => {
                    switch(status) {
                        case 'live': return 'bg-red-600 text-white';
                        case 'upcoming': return 'bg-blue-600 text-white';
                        case 'completed': return 'bg-green-600 text-white';
                        default: return 'bg-slate-600 text-white';
                    }
                };

                const formatTime = (timeString) => {
                    const date = new Date(timeString);
                    const now = new Date();
                    const diff = date - now;
                    
                    if (match.status === 'live') return 'LIVE';
                    if (match.status === 'completed') return date.toLocaleDateString();
                    
                    if (diff > 0) {
                        const hours = Math.floor(diff / (1000 * 60 * 60));
                        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                        return hours > 0 ? `${hours}h ${minutes}m` : `${minutes}m`;
                    }
                    
                    return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
                };

                return h('div', { className: 'glass border border-slate-200/50 dark:border-slate-700/50 rounded-xl p-6 hover:border-slate-300 dark:hover:border-slate-600 transition-all duration-300 cursor-pointer group' },
                    // Header
                    h('div', { className: 'flex items-center justify-between mb-4' },
                        h('div', { className: 'flex items-center space-x-3' },
                            h('span', { className: `px-3 py-1 text-xs font-bold rounded-full ${getStatusColor(match.status)} ${match.status === 'live' ? 'animate-pulse' : ''}` },
                                match.status === 'live' ? 'üî¥ LIVE' : match.status.toUpperCase()
                            ),
                            h('span', { className: 'text-sm text-slate-600 dark:text-slate-400' }, match.event?.name),
                            match.event?.stage && h('span', { className: 'text-xs px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded text-slate-600 dark:text-slate-400' }, match.event.stage)
                        ),
                        h('div', { className: 'text-right' },
                            h('div', { className: 'text-sm font-medium text-slate-900 dark:text-white' }, formatTime(match.scheduled_at)),
                            match.status === 'live' && match.viewers && h('div', { className: 'text-xs text-red-600 dark:text-red-400' }, `${match.viewers.toLocaleString()} viewers`)
                        )
                    ),

                    // Teams
                    h('div', { className: 'flex items-center justify-between mb-4' },
                        // Team 1
                        h('div', { className: 'flex items-center space-x-4 flex-1' },
                            h('div', { className: 'text-center' },
                                h('div', { className: 'text-4xl mb-2 group-hover:scale-110 transition-transform' }, match.team1.logo),
                                h('div', { className: 'font-bold text-slate-900 dark:text-white' }, match.team1.shortName || match.team1.name),
                                h('div', { className: 'text-xs text-slate-500 dark:text-slate-400 flex items-center justify-center space-x-1' },
                                    h('span', null, match.team1.flag),
                                    h('span', null, match.team1.region)
                                )
                            )
                        ),

                        // Score/VS
                        h('div', { className: 'text-center mx-6' },
                            match.team1_score !== undefined 
                                ? h('div', { className: 'text-3xl font-bold text-primary-600 dark:text-primary-400' }, `${match.team1_score} : ${match.team2_score}`)
                                : h('div', { className: 'text-slate-500 dark:text-slate-400 font-medium text-xl' }, 'VS'),
                            h('div', { className: 'text-xs text-slate-500 dark:text-slate-500 mt-1' }, match.map),
                            match.format && h('div', { className: 'text-xs text-slate-600 dark:text-slate-400 mt-1' }, match.format),
                            match.prize_pool && h('div', { className: 'text-xs text-green-600 dark:text-green-400 mt-1' }, match.prize_pool)
                        ),

                        // Team 2
                        h('div', { className: 'flex items-center space-x-4 flex-1 justify-end' },
                            h('div', { className: 'text-center' },
                                h('div', { className: 'text-4xl mb-2 group-hover:scale-110 transition-transform' }, match.team2.logo),
                                h('div', { className: 'font-bold text-slate-900 dark:text-white' }, match.team2.shortName || match.team2.name),
                                h('div', { className: 'text-xs text-slate-500 dark:text-slate-400 flex items-center justify-center space-x-1' },
                                    h('span', null, match.team2.flag),
                                    h('span', null, match.team2.region)
                                )
                            )
                        )
                    ),

                    // Additional Info
                    showDetailedInfo && h('div', { className: 'border-t border-slate-200 dark:border-slate-700 pt-4 mt-4' },
                        h('div', { className: 'grid grid-cols-2 md:grid-cols-4 gap-4 text-sm' },
                            h('div', null,
                                h('div', { className: 'text-slate-500 dark:text-slate-400' }, 'Event Type'),
                                h('div', { className: 'font-medium text-slate-900 dark:text-white' }, match.event?.type || 'Tournament')
                            ),
                            match.duration && h('div', null,
                                h('div', { className: 'text-slate-500 dark:text-slate-400' }, 'Duration'),
                                h('div', { className: 'font-medium text-slate-900 dark:text-white' }, match.duration)
                            ),
                            match.mvp && h('div', null,
                                h('div', { className: 'text-slate-500 dark:text-slate-400' }, 'MVP'),
                                h('div', { className: 'font-medium text-slate-900 dark:text-white' }, match.mvp)
                            ),
                            match.streamer && h('div', null,
                                h('div', { className: 'text-slate-500 dark:text-slate-400' }, 'Stream'),
                                h('div', { className: 'font-medium text-slate-900 dark:text-white' }, match.streamer)
                            )
                        )
                    ),

                    // Actions
                    h('div', { className: 'pt-4 border-t border-slate-200 dark:border-slate-700 mt-4' },
                        h('div', { className: 'flex justify-center space-x-3' },
                            match.status === 'live' ? [
                                h('button', { 
                                    key: 'watch',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium text-white transition-colors'
                                },
                                    h('span', null, 'üì∫'),
                                    h('span', null, 'Watch Live')
                                ),
                                h('button', { 
                                    key: 'chat',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm font-medium text-white transition-colors'
                                },
                                    h('span', null, 'üí¨'),
                                    h('span', null, 'Live Chat')
                                )
                            ] : match.status === 'upcoming' ? [
                                h('button', { 
                                    key: 'remind',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium text-white transition-colors'
                                },
                                    h('span', null, 'üîî'),
                                    h('span', null, 'Set Reminder')
                                ),
                                h('button', { 
                                    key: 'predict',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-lg text-sm font-medium text-slate-900 dark:text-white transition-colors'
                                },
                                    h('span', null, 'üéØ'),
                                    h('span', null, 'Predict')
                                )
                            ] : [
                                h('button', { 
                                    key: 'vod',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium text-white transition-colors'
                                },
                                    h('span', null, 'üìπ'),
                                    h('span', null, 'Watch VOD')
                                ),
                                h('button', { 
                                    key: 'stats',
                                    className: 'flex items-center space-x-2 px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-lg text-sm font-medium text-slate-900 dark:text-white transition-colors'
                                },
                                    h('span', null, 'üìä'),
                                    h('span', null, 'Match Stats')
                                )
                            ]
                        )
                    )
                );
            }

            // Continue building all components...
            // I need to build the complete pages now!

            function App() {
                const [currentPage, setCurrentPage] = useState('home');
                const [showAuth, setShowAuth] = useState(false);
                const { user, loading } = useAuth();

                if (loading) {
                    return h('div', { className: 'min-h-screen marvel-bg dark:marvel-bg light:marvel-bg-light flex items-center justify-center' },
                        h('div', { className: 'text-center' },
                            h('div', { className: 'logo-professional text-6xl mb-4' }, 'MRVL'),
                            h('div', { className: 'text-slate-600 dark:text-slate-400' }, 'Loading Marvel Rivals Esports...')
                        )
                    );
                }

                const renderPage = () => {
                    switch(currentPage) {
                        case 'home': 
                            return h('div', { className: 'space-y-8 animate-fade-in' },
                                // Professional Hero Section
                                h('section', { 
                                    className: 'relative rounded-2xl overflow-hidden min-h-[70vh] flex items-center justify-center bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900'
                                },
                                    h('div', { className: 'absolute inset-0 bg-black/40' }),
                                    h('div', { className: 'relative text-center px-8 max-w-6xl mx-auto' },
                                        h('h1', { className: 'text-6xl md:text-8xl font-black mb-6' },
                                            h('span', { className: 'logo-professional' }, 'MRVL'),
                                            h('div', { className: 'text-white text-4xl md:text-6xl mt-4' }, 'Marvel Rivals Esports')
                                        ),
                                        h('p', { className: 'text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed max-w-4xl mx-auto' }, 
                                            'The professional Marvel Rivals esports platform. Track live matches, follow your favorite teams, and join the competitive gaming community.'
                                        ),
                                        h('div', { className: 'flex flex-wrap justify-center gap-6' },
                                            h('button', { className: 'px-8 py-4 bg-primary-600 hover:bg-primary-700 rounded-xl font-bold text-lg text-white transition-all duration-300 hover:scale-105 hover:shadow-lg flex items-center space-x-3' }, 
                                                h('span', null, 'üî¥'),
                                                h('span', null, 'Watch Live Matches')
                                            ),
                                            h('button', { className: 'px-8 py-4 glass hover:bg-slate-100/10 rounded-xl font-bold text-lg text-white transition-all duration-300 hover:scale-105 flex items-center space-x-3' }, 
                                                h('span', null, 'üèÜ'),
                                                h('span', null, 'View Rankings')
                                            ),
                                            h('button', { className: 'px-8 py-4 glass hover:bg-slate-100/10 rounded-xl font-bold text-lg text-white transition-all duration-300 hover:scale-105 flex items-center space-x-3' }, 
                                                h('span', null, 'üë•'),
                                                h('span', null, 'Browse Teams')
                                            )
                                        )
                                    )
                                ),

                                // Live Matches Section
                                h('section', null,
                                    h('div', { className: 'flex items-center justify-between mb-6' },
                                        h('h2', { className: 'text-3xl font-bold text-slate-900 dark:text-white flex items-center space-x-3' }, 
                                            h('span', { className: 'text-red-500 animate-pulse' }, 'üî¥'),
                                            h('span', null, 'Live Matches')
                                        ),
                                        h('button', { className: 'text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium' }, 
                                            'View All Matches ‚Üí'
                                        )
                                    ),
                                    h('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                                        ...mockData.matches.filter(m => m.status === 'live').map(match =>
                                            h(MatchCard, { key: match.id, match, showDetailedInfo: true })
                                        )
                                    )
                                ),

                                // Upcoming Matches & Top Teams
                                h('div', { className: 'grid grid-cols-1 lg:grid-cols-3 gap-8' },
                                    // Upcoming Matches
                                    h('div', { className: 'lg:col-span-2' },
                                        h('h2', { className: 'text-2xl font-bold text-slate-900 dark:text-white mb-6' }, 'Upcoming Matches'),
                                        h('div', { className: 'space-y-4' },
                                            ...mockData.matches.filter(m => m.status === 'upcoming').map(match =>
                                                h(MatchCard, { key: match.id, match })
                                            )
                                        )
                                    ),

                                    // Sidebar
                                    h('div', { className: 'space-y-6' },
                                        // Top Rankings
                                        h('div', { className: 'glass border border-slate-200 dark:border-slate-700 rounded-xl p-6' },
                                            h('h3', { className: 'text-xl font-bold text-slate-900 dark:text-white mb-4' }, 'üèÜ Top Teams'),
                                            h('div', { className: 'space-y-3' },
                                                ...mockData.rankings.slice(0, 5).map((team, index) =>
                                                    h('div', { key: team.rank, className: 'flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/30 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/30 transition-colors cursor-pointer' },
                                                        h('div', { className: 'flex items-center space-x-3' },
                                                            h('div', { className: `w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${
                                                                index === 0 ? 'bg-yellow-500 text-black' :
                                                                index === 1 ? 'bg-slate-400 text-black' :
                                                                index === 2 ? 'bg-orange-600 text-white' : 'bg-slate-600 text-white'
                                                            }` }, team.rank),
                                                            h('span', { className: 'text-lg' }, team.logo),
                                                            h('div', null,
                                                                h('div', { className: 'font-medium text-sm text-slate-900 dark:text-white' }, team.shortName),
                                                                h('div', { className: 'text-xs text-slate-500 dark:text-slate-400 flex items-center space-x-1' },
                                                                    h('span', null, team.flag),
                                                                    h('span', null, team.region)
                                                                )
                                                            )
                                                        ),
                                                        h('div', { className: 'text-right' },
                                                            h('div', { className: 'text-primary-600 dark:text-primary-400 font-semibold text-sm' }, team.rating),
                                                            h('div', { className: 'text-xs text-slate-500 dark:text-slate-400' }, team.winRate)
                                                        )
                                                    )
                                                )
                                            )
                                        ),

                                        // Platform Stats
                                        h('div', { className: 'glass border border-slate-200 dark:border-slate-700 rounded-xl p-6' },
                                            h('h3', { className: 'text-xl font-bold text-slate-900 dark:text-white mb-4' }, 'üìä Platform Stats'),
                                            h('div', { className: 'grid grid-cols-2 gap-4' },
                                                h('div', { className: 'text-center' },
                                                    h('div', { className: 'text-2xl font-bold text-green-600 dark:text-green-400' }, '58.2K'),
                                                    h('div', { className: 'text-xs text-slate-500 dark:text-slate-400' }, 'Active Players')
                                                ),
                                                h('div', { className: 'text-center' },
                                                    h('div', { className: 'text-2xl font-bold text-red-600 dark:text-red-400' }, '12.7K'),
                                                    h('div', { className: 'text-xs text-slate-500 dark:text-slate-400' }, 'Live Viewers')
                                                ),
                                                h('div', { className: 'text-center' },
                                                    h('div', { className: 'text-2xl font-bold text-blue-600 dark:text-blue-400' }, '847'),
                                                    h('div', { className: 'text-xs text-slate-500 dark:text-slate-400' }, 'Teams')
                                                ),
                                                h('div', { className: 'text-center' },
                                                    h('div', { className: 'text-2xl font-bold text-purple-600 dark:text-purple-400' }, '3'),
                                                    h('div', { className: 'text-xs text-slate-500 dark:text-slate-400' }, 'Live Matches')
                                                )
                                            )
                                        )
                                    )
                                )
                            );
                        default: 
                            return h('div', { className: 'text-center py-20 animate-fade-in' },
                                h('h1', { className: 'text-4xl font-bold text-slate-900 dark:text-white mb-4' }, 'üöß Coming Soon'),
                                h('p', { className: 'text-slate-600 dark:text-slate-400' }, `The ${currentPage} section is being built with professional features.`)
                            );
                    }
                };

                return h('div', { className: 'min-h-screen marvel-bg dark:marvel-bg light:marvel-bg-light' },
                    h(Navigation, { 
                        currentPage, 
                        setCurrentPage, 
                        onShowAuth: () => setShowAuth(true)
                    }),
                    h(AuthModal, {
                        isOpen: showAuth,
                        onClose: () => setShowAuth(false)
                    }),
                    h('main', { className: 'max-w-7xl mx-auto px-4 py-8' },
                        renderPage()
                    ),
                    h('footer', { className: 'glass border-t border-slate-200 dark:border-slate-700 mt-16' },
                        h('div', { className: 'max-w-7xl mx-auto px-4 py-12' },
                            h('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-8' },
                                h('div', null,
                                    h('div', { className: 'logo-professional text-2xl mb-4' }, 'MRVL'),
                                    h('p', { className: 'text-slate-600 dark:text-slate-400 text-sm' }, 'Professional Marvel Rivals esports platform')
                                ),
                                h('div', null,
                                    h('h4', { className: 'font-semibold mb-3 text-slate-900 dark:text-white' }, 'Matches'),
                                    h('div', { className: 'space-y-2 text-sm text-slate-600 dark:text-slate-400' },
                                        h('div', null, 'Live Matches'),
                                        h('div', null, 'Schedule'),
                                        h('div', null, 'Results'),
                                        h('div', null, 'VODs')
                                    )
                                ),
                                h('div', null,
                                    h('h4', { className: 'font-semibold mb-3 text-slate-900 dark:text-white' }, 'Teams'),
                                    h('div', { className: 'space-y-2 text-sm text-slate-600 dark:text-slate-400' },
                                        h('div', null, 'Rankings'),
                                        h('div', null, 'Teams'),
                                        h('div', null, 'Players'),
                                        h('div', null, 'Stats')
                                    )
                                ),
                                h('div', null,
                                    h('h4', { className: 'font-semibold mb-3 text-slate-900 dark:text-white' }, 'Community'),
                                    h('div', { className: 'space-y-2 text-sm text-slate-600 dark:text-slate-400' },
                                        h('div', null, 'Forums'),
                                        h('div', null, 'Discord'),
                                        h('div', null, 'Twitter'),
                                        h('div', null, 'Support')
                                    )
                                )
                            ),
                            h('div', { className: 'border-t border-slate-200 dark:border-slate-700 mt-8 pt-8 text-center text-slate-600 dark:text-slate-400' },
                                h('p', null, '¬© 2025 MRVL - Marvel Rivals Esports Platform. All rights reserved.'),
                                h('p', { className: 'text-sm mt-2' }, 'Professional esports platform for the Marvel Rivals community')
                            )
                        )
                    )
                );
            }

            // Initialize React App
            const container = document.getElementById('app');
            const root = createRoot(container);
            root.render(h(App));
            