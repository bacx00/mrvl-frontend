<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Scoring Synchronization Test</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            font-weight: bold;
        }
        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .test-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        .panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
        }
        .panel h3 {
            margin: 0 0 20px 0;
            color: #495057;
            font-size: 1.4em;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 10px;
        }
        .live-scoring-panel {
            border-left: 5px solid #28a745;
        }
        .match-detail-panel {
            border-left: 5px solid #007bff;
        }
        .score-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .team-score {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .score-display {
            font-size: 2em;
            font-weight: bold;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border-radius: 10px;
            min-width: 60px;
            text-align: center;
        }
        .team2 .score-display {
            background: #dc3545;
        }
        .score-controls {
            display: flex;
            gap: 10px;
        }
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .btn-primary {
            background: #007bff;
            color: white;
        }
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .player-stats {
            margin: 20px 0;
        }
        .player-row {
            display: grid;
            grid-template-columns: 150px 1fr;
            gap: 15px;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .player-name {
            font-weight: bold;
            color: #495057;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
        }
        .stat {
            text-align: center;
            padding: 5px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .stat-label {
            font-size: 0.8em;
            color: #6c757d;
            margin-bottom: 2px;
        }
        .stat-value {
            font-weight: bold;
            font-size: 1.1em;
            color: #495057;
        }
        .map-tabs {
            display: flex;
            gap: 5px;
            margin: 20px 0;
        }
        .map-tab {
            padding: 10px 20px;
            background: #e9ecef;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .map-tab.active {
            background: #007bff;
            color: white;
        }
        .sync-status {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: bold;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        .sync-status.error {
            background: #dc3545;
        }
        .sync-status.warning {
            background: #ffc107;
            color: #333;
        }
        .test-results {
            grid-column: 1 / -1;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            margin-top: 20px;
        }
        .test-result {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .test-result.passed {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .test-result.failed {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .hero-display {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 10px;
            background: #fff3cd;
            border-radius: 5px;
            border: 1px solid #ffeaa7;
        }
        .hero-icon {
            width: 20px;
            height: 20px;
            background: #007bff;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÜ Live Scoring Synchronization Audit</h1>
            <p>Real-time verification of LiveScoringPanel ‚Üî MatchDetailPage data flow</p>
        </div>

        <div class="test-panel">
            <!-- LiveScoringPanel Simulation -->
            <div class="panel live-scoring-panel">
                <h3>üìä LiveScoringPanel (Control)</h3>
                
                <div class="map-tabs">
                    <button class="map-tab active" onclick="switchMap(0)">Map 1</button>
                    <button class="map-tab" onclick="switchMap(1)">Map 2</button>
                    <button class="map-tab" onclick="switchMap(2)">Map 3</button>
                </div>

                <div class="score-section">
                    <div class="team-score">
                        <span>Team 1</span>
                        <div class="score-display" id="lsp-team1-score">0</div>
                        <div class="score-controls">
                            <button class="btn btn-primary" onclick="updateScore(1, 1)">+1</button>
                            <button class="btn btn-danger" onclick="updateScore(1, -1)">-1</button>
                        </div>
                    </div>
                    <div class="team-score team2">
                        <span>Team 2</span>
                        <div class="score-display" id="lsp-team2-score">0</div>
                        <div class="score-controls">
                            <button class="btn btn-primary" onclick="updateScore(2, 1)">+1</button>
                            <button class="btn btn-danger" onclick="updateScore(2, -1)">-1</button>
                        </div>
                    </div>
                </div>

                <div class="player-stats">
                    <h4>Player Statistics</h4>
                    <div class="player-row">
                        <div class="player-name">Player 1</div>
                        <div class="stats">
                            <div class="stat">
                                <div class="stat-label">K</div>
                                <div class="stat-value" id="lsp-p1-kills">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">D</div>
                                <div class="stat-value" id="lsp-p1-deaths">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">A</div>
                                <div class="stat-value" id="lsp-p1-assists">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">DMG</div>
                                <div class="stat-value" id="lsp-p1-damage">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">HEAL</div>
                                <div class="stat-value" id="lsp-p1-healing">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">BLK</div>
                                <div class="stat-value" id="lsp-p1-blocked">0</div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin: 15px 0;">
                        <button class="btn btn-success" onclick="updatePlayerStat('p1', 'kills', 1)">+Kill</button>
                        <button class="btn btn-success" onclick="updatePlayerStat('p1', 'damage', 250)">+Damage</button>
                        <button class="btn btn-success" onclick="updatePlayerStat('p1', 'healing', 150)">+Healing</button>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button class="btn btn-success" onclick="runSyncTest()">üß™ Run Sync Test</button>
                    <button class="btn btn-primary" onclick="simulateRapidUpdates()">‚ö° Rapid Updates</button>
                </div>
            </div>

            <!-- MatchDetailPage Simulation -->
            <div class="panel match-detail-panel">
                <h3>üìã MatchDetailPage (Mirror)</h3>
                
                <div class="map-tabs">
                    <button class="map-tab active" data-map="0">Map 1</button>
                    <button class="map-tab" data-map="1">Map 2</button>
                    <button class="map-tab" data-map="2">Map 3</button>
                </div>

                <div class="score-section">
                    <div class="team-score">
                        <span>Team 1</span>
                        <div class="score-display" id="mdp-team1-score">0</div>
                    </div>
                    <div class="team-score team2">
                        <span>Team 2</span>
                        <div class="score-display" id="mdp-team2-score">0</div>
                    </div>
                </div>

                <div class="score-section">
                    <div style="text-align: center; width: 100%;">
                        <strong>Overall Match Score</strong>
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 10px;">
                            <div>Team 1: <span id="overall-team1-score" style="font-weight: bold; font-size: 1.5em;">0</span></div>
                            <div>Team 2: <span id="overall-team2-score" style="font-weight: bold; font-size: 1.5em;">0</span></div>
                        </div>
                    </div>
                </div>

                <div class="player-stats">
                    <h4>Player Statistics (Mirror)</h4>
                    <div class="player-row">
                        <div class="player-name">
                            Player 1
                            <div class="hero-display">
                                <div class="hero-icon"></div>
                                <span id="mdp-p1-hero">Spider-Man</span>
                            </div>
                        </div>
                        <div class="stats">
                            <div class="stat">
                                <div class="stat-label">K</div>
                                <div class="stat-value" id="mdp-p1-kills">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">D</div>
                                <div class="stat-value" id="mdp-p1-deaths">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">A</div>
                                <div class="stat-value" id="mdp-p1-assists">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">DMG</div>
                                <div class="stat-value" id="mdp-p1-damage">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">HEAL</div>
                                <div class="stat-value" id="mdp-p1-healing">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">BLK</div>
                                <div class="stat-value" id="mdp-p1-blocked">0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin: 20px 0;">
                    <div id="sync-delay" style="font-size: 0.9em; color: #6c757d;">
                        Last sync: <span id="last-sync-time">Never</span>
                    </div>
                </div>
            </div>

            <!-- Test Results -->
            <div class="test-results">
                <h3>üß™ Test Results</h3>
                <div id="test-results-container">
                    <div class="test-result" style="background: #fff3cd; color: #856404;">
                        <span>Ready to run synchronization tests</span>
                        <span>Click "Run Sync Test" to begin</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="sync-status" id="sync-status">üü¢ Sync Ready</div>

    <script>
        // Simulated match data structure
        let matchData = {
            currentMap: 0,
            maps: [
                { team1Score: 0, team2Score: 0, team1Players: [{ kills: 0, deaths: 0, assists: 0, damage: 0, healing: 0, blocked: 0, hero: 'Spider-Man' }] },
                { team1Score: 0, team2Score: 0, team1Players: [{ kills: 0, deaths: 0, assists: 0, damage: 0, healing: 0, blocked: 0, hero: 'Iron Man' }] },
                { team1Score: 0, team2Score: 0, team1Players: [{ kills: 0, deaths: 0, assists: 0, damage: 0, healing: 0, blocked: 0, hero: 'Hulk' }] }
            ],
            overallScore: { team1: 0, team2: 0 }
        };

        let testResults = [];
        let syncDelays = [];

        // Core synchronization function
        function syncToMatchDetailPage() {
            const startTime = performance.now();
            
            try {
                const currentMapData = matchData.maps[matchData.currentMap];
                
                // Update map scores
                document.getElementById('mdp-team1-score').textContent = currentMapData.team1Score;
                document.getElementById('mdp-team2-score').textContent = currentMapData.team2Score;
                
                // Update overall scores
                document.getElementById('overall-team1-score').textContent = matchData.overallScore.team1;
                document.getElementById('overall-team2-score').textContent = matchData.overallScore.team2;
                
                // Update player stats
                const player = currentMapData.team1Players[0];
                document.getElementById('mdp-p1-kills').textContent = player.kills;
                document.getElementById('mdp-p1-deaths').textContent = player.deaths;
                document.getElementById('mdp-p1-assists').textContent = player.assists;
                document.getElementById('mdp-p1-damage').textContent = player.damage;
                document.getElementById('mdp-p1-healing').textContent = player.healing;
                document.getElementById('mdp-p1-blocked').textContent = player.blocked;
                document.getElementById('mdp-p1-hero').textContent = player.hero;
                
                const endTime = performance.now();
                const syncTime = endTime - startTime;
                syncDelays.push(syncTime);
                
                // Update sync status
                document.getElementById('last-sync-time').textContent = new Date().toLocaleTimeString();
                updateSyncStatus(syncTime < 5 ? 'success' : syncTime < 20 ? 'warning' : 'error');
                
                return syncTime;
            } catch (error) {
                updateSyncStatus('error');
                console.error('Sync failed:', error);
                return -1;
            }
        }

        // Update score function (LiveScoringPanel)
        function updateScore(team, delta) {
            const currentMapData = matchData.maps[matchData.currentMap];
            const scoreKey = `team${team}Score`;
            
            currentMapData[scoreKey] = Math.max(0, currentMapData[scoreKey] + delta);
            
            // Update LiveScoringPanel display
            document.getElementById(`lsp-team${team}-score`).textContent = currentMapData[scoreKey];
            
            // Calculate overall score
            calculateOverallScore();
            
            // Sync to MatchDetailPage
            const syncTime = syncToMatchDetailPage();
            
            // Record test result
            recordSyncTest('Score Update', syncTime, syncTime >= 0);
        }

        // Update player stat function
        function updatePlayerStat(player, stat, delta) {
            const currentMapData = matchData.maps[matchData.currentMap];
            const playerData = currentMapData.team1Players[0];
            
            playerData[stat] = Math.max(0, playerData[stat] + delta);
            
            // Update LiveScoringPanel display
            document.getElementById(`lsp-${player}-${stat}`).textContent = playerData[stat];
            
            // Sync to MatchDetailPage
            const syncTime = syncToMatchDetailPage();
            
            // Record test result
            recordSyncTest(`Player ${stat.charAt(0).toUpperCase() + stat.slice(1)} Update`, syncTime, syncTime >= 0);
        }

        // Switch map function
        function switchMap(mapIndex) {
            matchData.currentMap = mapIndex;
            
            // Update active tab styling
            document.querySelectorAll('.map-tab').forEach((tab, index) => {
                tab.classList.toggle('active', index === mapIndex);
            });
            
            // Update displays
            updateLiveScoringDisplay();
            const syncTime = syncToMatchDetailPage();
            
            recordSyncTest('Map Switch', syncTime, syncTime >= 0);
        }

        // Update LiveScoringPanel display
        function updateLiveScoringDisplay() {
            const currentMapData = matchData.maps[matchData.currentMap];
            const player = currentMapData.team1Players[0];
            
            document.getElementById('lsp-team1-score').textContent = currentMapData.team1Score;
            document.getElementById('lsp-team2-score').textContent = currentMapData.team2Score;
            document.getElementById('lsp-p1-kills').textContent = player.kills;
            document.getElementById('lsp-p1-deaths').textContent = player.deaths;
            document.getElementById('lsp-p1-assists').textContent = player.assists;
            document.getElementById('lsp-p1-damage').textContent = player.damage;
            document.getElementById('lsp-p1-healing').textContent = player.healing;
            document.getElementById('lsp-p1-blocked').textContent = player.blocked;
        }

        // Calculate overall match score
        function calculateOverallScore() {
            let team1Wins = 0;
            let team2Wins = 0;
            
            matchData.maps.forEach(map => {
                if (map.team1Score > map.team2Score) team1Wins++;
                else if (map.team2Score > map.team1Score) team2Wins++;
            });
            
            matchData.overallScore.team1 = team1Wins;
            matchData.overallScore.team2 = team2Wins;
        }

        // Run comprehensive sync test
        function runSyncTest() {
            console.log('üß™ Running comprehensive sync test...');
            testResults = [];
            
            // Test 1: Map Score Updates
            testMapScoreSync();
            
            // Test 2: Player Stat Updates
            testPlayerStatSync();
            
            // Test 3: Multi-Map Data Separation
            testMultiMapSeparation();
            
            // Test 4: Rapid Updates Performance
            testRapidUpdatesPerformance();
            
            // Display results
            displayTestResults();
        }

        function testMapScoreSync() {
            console.log('  Testing map score synchronization...');
            
            // Set specific scores on each map
            for (let mapIndex = 0; mapIndex < 3; mapIndex++) {
                switchMap(mapIndex);
                
                const team1Score = mapIndex + 1;
                const team2Score = (mapIndex + 1) * 2;
                
                // Set scores
                matchData.maps[mapIndex].team1Score = team1Score;
                matchData.maps[mapIndex].team2Score = team2Score;
                
                updateLiveScoringDisplay();
                const syncTime = syncToMatchDetailPage();
                
                // Verify sync
                const mdpTeam1 = parseInt(document.getElementById('mdp-team1-score').textContent);
                const mdpTeam2 = parseInt(document.getElementById('mdp-team2-score').textContent);
                
                const syncSuccess = mdpTeam1 === team1Score && mdpTeam2 === team2Score;
                
                testResults.push({
                    name: `Map ${mapIndex + 1} Score Sync`,
                    passed: syncSuccess && syncTime >= 0,
                    details: `Expected: ${team1Score}-${team2Score}, Got: ${mdpTeam1}-${mdpTeam2}, Sync: ${syncTime.toFixed(2)}ms`
                });
            }
        }

        function testPlayerStatSync() {
            console.log('  Testing player stat synchronization...');
            
            const stats = ['kills', 'damage', 'healing'];
            
            stats.forEach(stat => {
                // Update stat
                const currentMapData = matchData.maps[matchData.currentMap];
                const testValue = 10;
                currentMapData.team1Players[0][stat] = testValue;
                
                document.getElementById(`lsp-p1-${stat}`).textContent = testValue;
                const syncTime = syncToMatchDetailPage();
                
                // Verify sync
                const mdpValue = parseInt(document.getElementById(`mdp-p1-${stat}`).textContent);
                const syncSuccess = mdpValue === testValue;
                
                testResults.push({
                    name: `Player ${stat.charAt(0).toUpperCase() + stat.slice(1)} Sync`,
                    passed: syncSuccess && syncTime >= 0,
                    details: `Expected: ${testValue}, Got: ${mdpValue}, Sync: ${syncTime.toFixed(2)}ms`
                });
            });
        }

        function testMultiMapSeparation() {
            console.log('  Testing multi-map data separation...');
            
            // Set unique data for each map
            for (let mapIndex = 0; mapIndex < 3; mapIndex++) {
                matchData.maps[mapIndex].team1Score = mapIndex + 1;
                matchData.maps[mapIndex].team1Players[0].kills = (mapIndex + 1) * 5;
            }
            
            // Test switching between maps preserves data
            let separationSuccess = true;
            
            for (let mapIndex = 0; mapIndex < 3; mapIndex++) {
                switchMap(mapIndex);
                
                const expectedScore = mapIndex + 1;
                const expectedKills = (mapIndex + 1) * 5;
                
                const actualScore = parseInt(document.getElementById('mdp-team1-score').textContent);
                const actualKills = parseInt(document.getElementById('mdp-p1-kills').textContent);
                
                if (actualScore !== expectedScore || actualKills !== expectedKills) {
                    separationSuccess = false;
                    break;
                }
            }
            
            testResults.push({
                name: 'Multi-Map Data Separation',
                passed: separationSuccess,
                details: separationSuccess ? 'All maps maintain separate data' : 'Data bleeding between maps detected'
            });
        }

        function testRapidUpdatesPerformance() {
            console.log('  Testing rapid updates performance...');
            
            const startTime = performance.now();
            const updateCount = 50;
            
            // Perform rapid updates
            for (let i = 0; i < updateCount; i++) {
                const currentMapData = matchData.maps[matchData.currentMap];
                currentMapData.team1Score++;
                syncToMatchDetailPage();
            }
            
            const endTime = performance.now();
            const totalTime = endTime - startTime;
            const avgTimePerUpdate = totalTime / updateCount;
            
            const performanceAcceptable = avgTimePerUpdate < 5; // Under 5ms per update
            
            testResults.push({
                name: 'Rapid Updates Performance',
                passed: performanceAcceptable,
                details: `${updateCount} updates in ${totalTime.toFixed(2)}ms (${avgTimePerUpdate.toFixed(2)}ms avg)`
            });
        }

        // Simulate rapid updates
        function simulateRapidUpdates() {
            console.log('‚ö° Simulating rapid updates...');
            
            let updateCount = 0;
            const maxUpdates = 20;
            
            const rapidUpdateInterval = setInterval(() => {
                if (updateCount >= maxUpdates) {
                    clearInterval(rapidUpdateInterval);
                    updateSyncStatus('success');
                    return;
                }
                
                // Alternate between different types of updates
                const updateTypes = [
                    () => updateScore(1, 1),
                    () => updatePlayerStat('p1', 'kills', 1),
                    () => updatePlayerStat('p1', 'damage', 100),
                    () => switchMap((updateCount % 3))
                ];
                
                const updateType = updateTypes[updateCount % updateTypes.length];
                updateType();
                
                updateCount++;
                updateSyncStatus('warning');
            }, 100); // 100ms between updates
        }

        // Record sync test result
        function recordSyncTest(testName, syncTime, success) {
            const result = {
                name: testName,
                syncTime: syncTime >= 0 ? `${syncTime.toFixed(2)}ms` : 'Failed',
                success: success && syncTime >= 0,
                timestamp: new Date().toLocaleTimeString()
            };
            
            // Add to recent results (keep last 10)
            if (testResults.length >= 10) {
                testResults.shift();
            }
            testResults.push(result);
        }

        // Display test results
        function displayTestResults() {
            const container = document.getElementById('test-results-container');
            container.innerHTML = '';
            
            if (testResults.length === 0) {
                container.innerHTML = '<div class="test-result" style="background: #fff3cd; color: #856404;"><span>No tests run yet</span></div>';
                return;
            }
            
            testResults.forEach(result => {
                const resultDiv = document.createElement('div');
                resultDiv.className = `test-result ${result.passed ? 'passed' : 'failed'}`;
                resultDiv.innerHTML = `
                    <span>${result.name}</span>
                    <span>${result.details || (result.passed ? '‚úÖ PASSED' : '‚ùå FAILED')}</span>
                `;
                container.appendChild(resultDiv);
            });
            
            // Add summary
            const passed = testResults.filter(r => r.passed).length;
            const total = testResults.length;
            const passRate = ((passed / total) * 100).toFixed(1);
            
            const summaryDiv = document.createElement('div');
            summaryDiv.className = `test-result ${passed === total ? 'passed' : 'failed'}`;
            summaryDiv.style.fontWeight = 'bold';
            summaryDiv.style.marginTop = '15px';
            summaryDiv.innerHTML = `
                <span>üìä Test Summary</span>
                <span>${passed}/${total} tests passed (${passRate}%)</span>
            `;
            container.appendChild(summaryDiv);
        }

        // Update sync status indicator
        function updateSyncStatus(status) {
            const statusEl = document.getElementById('sync-status');
            
            statusEl.className = 'sync-status';
            
            switch (status) {
                case 'success':
                    statusEl.textContent = 'üü¢ Sync Active';
                    break;
                case 'warning':
                    statusEl.className += ' warning';
                    statusEl.textContent = 'üü° Syncing...';
                    break;
                case 'error':
                    statusEl.className += ' error';
                    statusEl.textContent = 'üî¥ Sync Error';
                    break;
            }
        }

        // Initialize the test environment
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Live Scoring Synchronization Test initialized');
            syncToMatchDetailPage();
            updateSyncStatus('success');
        });

        // Auto-run basic sync test on page load
        setTimeout(() => {
            console.log('üîÑ Running initial sync verification...');
            
            // Test basic functionality
            updateScore(1, 1);
            updatePlayerStat('p1', 'kills', 1);
            switchMap(1);
            switchMap(0);
            
            console.log('‚úÖ Initial sync verification complete');
        }, 1000);
    </script>
</body>
</html>