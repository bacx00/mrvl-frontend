{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';// ✅ MARVEL RIVALS GAME LOGIC - Maps, formats, and initialization\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MARVEL_RIVALS_CONFIG={maps:['Asgard Throne Room','Wakanda Palace','Sanctum Sanctorum','Tokyo 2099','Klyntar Symbiote World','Midtown Manhattan','Helicarrier Command','Bifrost Arena'],formats:[{value:'BO1',label:'BO1 - Best of 1',maps:1},{value:'BO3',label:'BO3 - Best of 3',maps:3},{value:'BO5',label:'BO5 - Best of 5',maps:5}],statuses:[{value:'upcoming',label:'Upcoming',color:'blue'},{value:'live',label:'Live',color:'red'},{value:'completed',label:'Completed',color:'green'},{value:'cancelled',label:'Cancelled',color:'gray'},{value:'postponed',label:'Postponed',color:'yellow'}]};// Helper function to get a default future date (1 hour from now)\nconst getDefaultFutureDate=()=>{const now=new Date();now.setHours(now.getHours()+1);return now.toISOString().slice(0,16);};// ✅ FIXED: Initialize match with proper Marvel Rivals scoring structure\nconst getInitialMatchData=function(){let format=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'BO3';const formatConfig=MARVEL_RIVALS_CONFIG.formats.find(f=>f.value===format);const mapCount=formatConfig?formatConfig.maps:3;return{team1Id:'',team2Id:'',eventId:'',scheduledAt:getDefaultFutureDate(),format:format,status:'upcoming',streamUrl:'',description:'',mapPool:MARVEL_RIVALS_CONFIG.maps.slice(0,mapCount),// ✅ CRITICAL: Initialize all scores to 0\nteam1_score:0,team2_score:0,// ✅ CRITICAL: Initialize map data structure\nmaps:Array.from({length:mapCount},(_,index)=>({map_number:index+1,map_name:MARVEL_RIVALS_CONFIG.maps[index%MARVEL_RIVALS_CONFIG.maps.length],team1_score:0,team2_score:0,status:'upcoming',winner_id:null,duration:null,// ✅ Initialize player stats structure for live scoring\nteam1_stats:{},team2_stats:{}}))};};function MatchForm(_ref){let{matchId,navigateTo}=_ref;const[formData,setFormData]=useState(getInitialMatchData());const[teams,setTeams]=useState([]);const[events,setEvents]=useState([]);const[loading,setLoading]=useState(false);const[saving,setSaving]=useState(false);const[selectedTeam1,setSelectedTeam1]=useState(null);const[selectedTeam2,setSelectedTeam2]=useState(null);const{api}=useAuth();const isEdit=Boolean(matchId);const fetchData=async()=>{try{setLoading(true);// Fetch teams and events\nconst[teamsResponse,eventsResponse]=await Promise.all([api.get('/teams'),api.get('/events')]);const teamsData=teamsResponse.data||teamsResponse||[];const eventsData=eventsResponse.data||eventsResponse||[];setTeams(teamsData);setEvents(eventsData);// If editing, fetch match data\nif(isEdit){try{const response=await api.get(\"/matches/\".concat(matchId));const match=response.data||response;// ✅ FIXED: Transform backend match data to frontend format\nconst transformedData={team1Id:match.team1_id||'',team2Id:match.team2_id||'',eventId:match.event_id||'',scheduledAt:match.scheduled_at?match.scheduled_at.slice(0,16):getDefaultFutureDate(),format:match.format||'BO3',status:match.status||'upcoming',streamUrl:match.stream_url||'',description:match.description||'',mapPool:match.map_pool||MARVEL_RIVALS_CONFIG.maps.slice(0,3),team1_score:match.team1_score||0,team2_score:match.team2_score||0,maps:match.maps||getInitialMatchData(match.format||'BO3').maps};setFormData(transformedData);// Set selected teams for UI\nconst team1=teamsData.find(t=>t.id==match.team1_id);const team2=teamsData.find(t=>t.id==match.team2_id);setSelectedTeam1(team1);setSelectedTeam2(team2);}catch(matchError){console.warn('Could not fetch match details:',matchError);}}}catch(error){console.error('Error fetching data:',error);alert('Error loading data. Please refresh and try again.');}finally{setLoading(false);}};useEffect(()=>{fetchData();},[matchId,isEdit]);const handleInputChange=e=>{const{name,value}=e.target;// ✅ SPECIAL HANDLING: When format changes, regenerate map structure\nif(name==='format'){const newMatchData=getInitialMatchData(value);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{format:value,mapPool:newMatchData.mapPool,maps:newMatchData.maps}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}// Update selected teams for UI\nif(name==='team1Id'){const team=teams.find(t=>t.id==value);setSelectedTeam1(team);}else if(name==='team2Id'){const team=teams.find(t=>t.id==value);setSelectedTeam2(team);}};const handleMapChange=(mapIndex,field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{maps:prev.maps.map((map,index)=>index===mapIndex?_objectSpread(_objectSpread({},map),{},{[field]:value}):map)}));};const validateForm=()=>{if(!formData.team1Id){alert('Please select Team 1');return false;}if(!formData.team2Id){alert('Please select Team 2');return false;}if(formData.team1Id===formData.team2Id){alert('Team 1 and Team 2 cannot be the same');return false;}if(!formData.scheduledAt){alert('Please set a match time');return false;}// Validate future time for upcoming matches\nif(formData.status==='upcoming'){const scheduledTime=new Date(formData.scheduledAt);const now=new Date();if(scheduledTime<=now){alert('Upcoming matches must be scheduled in the future');return false;}}return true;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;setSaving(true);try{// ✅ FIXED: Prepare data for backend with proper Marvel Rivals structure\nconst submitData={team1_id:parseInt(formData.team1Id),team2_id:parseInt(formData.team2Id),event_id:formData.eventId?parseInt(formData.eventId):null,scheduled_at:formData.scheduledAt,format:formData.format,status:formData.status,stream_url:formData.streamUrl||null,description:formData.description||null,map_pool:formData.mapPool,// ✅ CRITICAL: Initialize scores properly\nteam1_score:formData.team1_score||0,team2_score:formData.team2_score||0,// ✅ CRITICAL: Send map structure for live scoring setup\nmaps_data:formData.maps};console.log('📡 Submitting match data:',submitData);let response;if(isEdit){response=await api.put(\"/admin/matches/\".concat(matchId),submitData);}else{response=await api.post('/admin/matches',submitData);}const result=response.data||response;console.log('✅ Match operation successful:',result);alert(\"Match \".concat(isEdit?'updated':'created',\" successfully! \").concat(!isEdit?'All scores initialized to 0.':''));if(navigateTo){navigateTo('admin-dashboard');}}catch(error){console.error('❌ Error saving match:',error);let errorMessage=\"Error \".concat(isEdit?'updating':'creating',\" match: \");if(error.message.includes('event_id')){errorMessage+='Please select a valid event.';}else if(error.message.includes('scheduled_at')){errorMessage+='Please check the match schedule time.';}else if(error.message.includes('team')){errorMessage+='Please ensure both teams are selected and different.';}else{errorMessage+=error.message;}alert(errorMessage);}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading match data...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\",children:isEdit?'Edit Match':'Schedule New Match'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:isEdit?'Update match information and live scores':'Create a new Marvel Rivals competitive match'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo&&navigateTo('admin-dashboard'),className:\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\",children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"\\uD83C\\uDFAE Teams\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Team 1 *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"team1Id\",value:formData.team1Id,onChange:handleInputChange,className:\"form-input\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Team 1\"}),teams.map(team=>/*#__PURE__*/_jsxs(\"option\",{value:team.id,children:[team.name,\" (\",team.short_name,\") - Rating: \",team.rating||'Unranked']},team.id))]}),selectedTeam1&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 dark:text-white\",children:selectedTeam1.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:[\"Region: \",selectedTeam1.region,\" | Rating: \",selectedTeam1.rating||'Unranked']})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Team 2 *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"team2Id\",value:formData.team2Id,onChange:handleInputChange,className:\"form-input\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Team 2\"}),teams.map(team=>/*#__PURE__*/_jsxs(\"option\",{value:team.id,disabled:team.id==formData.team1Id,children:[team.name,\" (\",team.short_name,\") - Rating: \",team.rating||'Unranked']},team.id))]}),selectedTeam2&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 dark:text-white\",children:selectedTeam2.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:[\"Region: \",selectedTeam2.region,\" | Rating: \",selectedTeam2.rating||'Unranked']})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:\"\\uD83D\\uDCDD Match Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Event (Optional)\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"eventId\",value:formData.eventId,onChange:handleInputChange,className:\"form-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Standalone Match\"}),events.map(event=>/*#__PURE__*/_jsxs(\"option\",{value:event.id,children:[event.name,\" (\",event.type,\")\"]},event.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Match Format *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"format\",value:formData.format,onChange:handleInputChange,className:\"form-input\",required:true,children:MARVEL_RIVALS_CONFIG.formats.map(format=>/*#__PURE__*/_jsx(\"option\",{value:format.value,children:format.label},format.value))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"\\u2705 Changing format will reset map configuration\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Scheduled Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"scheduledAt\",value:formData.scheduledAt,onChange:handleInputChange,className:\"form-input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{name:\"status\",value:formData.status,onChange:handleInputChange,className:\"form-input\",children:MARVEL_RIVALS_CONFIG.statuses.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status.value,children:status.label},status.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Stream URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"streamUrl\",value:formData.streamUrl,onChange:handleInputChange,className:\"form-input\",placeholder:\"https://twitch.tv/marvelrivals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,rows:3,className:\"form-input\",placeholder:\"Match description, stakes, context, etc...\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4\",children:[\"\\uD83D\\uDDFA\\uFE0F Marvel Rivals Maps (\",formData.format,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:formData.maps.map((map,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900 dark:text-white\",children:[\"Map \",index+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(map.status==='completed'?'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400':map.status==='live'?'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400':'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'),children:map.status.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\",children:\"Map Name\"}),/*#__PURE__*/_jsx(\"select\",{value:map.map_name,onChange:e=>handleMapChange(index,'map_name',e.target.value),className:\"form-input text-sm\",children:MARVEL_RIVALS_CONFIG.maps.map(mapName=>/*#__PURE__*/_jsx(\"option\",{value:mapName,children:mapName},mapName))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\",children:[(selectedTeam1===null||selectedTeam1===void 0?void 0:selectedTeam1.short_name)||'Team 1',\" Score\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"10\",value:map.team1_score,onChange:e=>handleMapChange(index,'team1_score',parseInt(e.target.value)||0),className:\"form-input text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\",children:[(selectedTeam2===null||selectedTeam2===void 0?void 0:selectedTeam2.short_name)||'Team 2',\" Score\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"10\",value:map.team2_score,onChange:e=>handleMapChange(index,'team2_score',parseInt(e.target.value)||0),className:\"form-input text-sm\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-xs text-gray-600 dark:text-gray-400\",children:\"\\u2705 Scores automatically sync to overall match score \\u2022 Winner determined by higher score\"})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-800 dark:text-blue-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-1\",children:\"\\uD83C\\uDFAF Current Match Score:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg\",children:[(selectedTeam1===null||selectedTeam1===void 0?void 0:selectedTeam1.short_name)||'Team 1',\": \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formData.team1_score}),\" -\",(selectedTeam2===null||selectedTeam2===void 0?void 0:selectedTeam2.short_name)||'Team 2',\": \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formData.team2_score})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigateTo&&navigateTo('admin-dashboard'),className:\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:saving,className:\"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:saving?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),isEdit?'Updating...':'Creating...']}):isEdit?'Update Match':'Schedule Match'})]})]})]});}export default MatchForm;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","MARVEL_RIVALS_CONFIG","maps","formats","value","label","statuses","color","getDefaultFutureDate","now","Date","setHours","getHours","toISOString","slice","getInitialMatchData","format","arguments","length","undefined","formatConfig","find","f","mapCount","team1Id","team2Id","eventId","scheduledAt","status","streamUrl","description","mapPool","team1_score","team2_score","Array","from","_","index","map_number","map_name","winner_id","duration","team1_stats","team2_stats","MatchForm","_ref","matchId","navigateTo","formData","setFormData","teams","setTeams","events","setEvents","loading","setLoading","saving","setSaving","selectedTeam1","setSelectedTeam1","selectedTeam2","setSelectedTeam2","api","isEdit","Boolean","fetchData","teamsResponse","eventsResponse","Promise","all","get","teamsData","data","eventsData","response","concat","match","transformedData","team1_id","team2_id","event_id","scheduled_at","stream_url","map_pool","team1","t","id","team2","matchError","console","warn","error","alert","handleInputChange","e","name","target","newMatchData","prev","_objectSpread","team","handleMapChange","mapIndex","field","map","validateForm","scheduledTime","handleSubmit","preventDefault","submitData","parseInt","maps_data","log","put","post","result","errorMessage","message","includes","className","children","onClick","onSubmit","onChange","required","short_name","rating","region","disabled","event","type","placeholder","rows","toUpperCase","mapName","min","max"],"sources":["/app/frontend/src/components/admin/MatchForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\n\n// ✅ MARVEL RIVALS GAME LOGIC - Maps, formats, and initialization\nconst MARVEL_RIVALS_CONFIG = {\n  maps: [\n    'Asgard Throne Room',\n    'Wakanda Palace', \n    'Sanctum Sanctorum',\n    'Tokyo 2099',\n    'Klyntar Symbiote World',\n    'Midtown Manhattan',\n    'Helicarrier Command',\n    'Bifrost Arena'\n  ],\n  formats: [\n    { value: 'BO1', label: 'BO1 - Best of 1', maps: 1 },\n    { value: 'BO3', label: 'BO3 - Best of 3', maps: 3 },\n    { value: 'BO5', label: 'BO5 - Best of 5', maps: 5 }\n  ],\n  statuses: [\n    { value: 'upcoming', label: 'Upcoming', color: 'blue' },\n    { value: 'live', label: 'Live', color: 'red' },\n    { value: 'completed', label: 'Completed', color: 'green' },\n    { value: 'cancelled', label: 'Cancelled', color: 'gray' },\n    { value: 'postponed', label: 'Postponed', color: 'yellow' }\n  ]\n};\n\n// Helper function to get a default future date (1 hour from now)\nconst getDefaultFutureDate = () => {\n  const now = new Date();\n  now.setHours(now.getHours() + 1);\n  return now.toISOString().slice(0, 16);\n};\n\n// ✅ FIXED: Initialize match with proper Marvel Rivals scoring structure\nconst getInitialMatchData = (format = 'BO3') => {\n  const formatConfig = MARVEL_RIVALS_CONFIG.formats.find(f => f.value === format);\n  const mapCount = formatConfig ? formatConfig.maps : 3;\n  \n  return {\n    team1Id: '',\n    team2Id: '',\n    eventId: '',\n    scheduledAt: getDefaultFutureDate(),\n    format: format,\n    status: 'upcoming',\n    streamUrl: '',\n    description: '',\n    mapPool: MARVEL_RIVALS_CONFIG.maps.slice(0, mapCount),\n    // ✅ CRITICAL: Initialize all scores to 0\n    team1_score: 0,\n    team2_score: 0,\n    // ✅ CRITICAL: Initialize map data structure\n    maps: Array.from({ length: mapCount }, (_, index) => ({\n      map_number: index + 1,\n      map_name: MARVEL_RIVALS_CONFIG.maps[index % MARVEL_RIVALS_CONFIG.maps.length],\n      team1_score: 0,\n      team2_score: 0,\n      status: 'upcoming',\n      winner_id: null,\n      duration: null,\n      // ✅ Initialize player stats structure for live scoring\n      team1_stats: {},\n      team2_stats: {}\n    }))\n  };\n};\n\nfunction MatchForm({ matchId, navigateTo }) {\n  const [formData, setFormData] = useState(getInitialMatchData());\n  const [teams, setTeams] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [selectedTeam1, setSelectedTeam1] = useState(null);\n  const [selectedTeam2, setSelectedTeam2] = useState(null);\n  const { api } = useAuth();\n\n  const isEdit = Boolean(matchId);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch teams and events\n      const [teamsResponse, eventsResponse] = await Promise.all([\n        api.get('/teams'),\n        api.get('/events')\n      ]);\n      \n      const teamsData = teamsResponse.data || teamsResponse || [];\n      const eventsData = eventsResponse.data || eventsResponse || [];\n      \n      setTeams(teamsData);\n      setEvents(eventsData);\n\n      // If editing, fetch match data\n      if (isEdit) {\n        try {\n          const response = await api.get(`/matches/${matchId}`);\n          const match = response.data || response;\n          \n          // ✅ FIXED: Transform backend match data to frontend format\n          const transformedData = {\n            team1Id: match.team1_id || '',\n            team2Id: match.team2_id || '',\n            eventId: match.event_id || '',\n            scheduledAt: match.scheduled_at ? match.scheduled_at.slice(0, 16) : getDefaultFutureDate(),\n            format: match.format || 'BO3',\n            status: match.status || 'upcoming',\n            streamUrl: match.stream_url || '',\n            description: match.description || '',\n            mapPool: match.map_pool || MARVEL_RIVALS_CONFIG.maps.slice(0, 3),\n            team1_score: match.team1_score || 0,\n            team2_score: match.team2_score || 0,\n            maps: match.maps || getInitialMatchData(match.format || 'BO3').maps\n          };\n          \n          setFormData(transformedData);\n          \n          // Set selected teams for UI\n          const team1 = teamsData.find(t => t.id == match.team1_id);\n          const team2 = teamsData.find(t => t.id == match.team2_id);\n          setSelectedTeam1(team1);\n          setSelectedTeam2(team2);\n          \n        } catch (matchError) {\n          console.warn('Could not fetch match details:', matchError);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      alert('Error loading data. Please refresh and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [matchId, isEdit]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    // ✅ SPECIAL HANDLING: When format changes, regenerate map structure\n    if (name === 'format') {\n      const newMatchData = getInitialMatchData(value);\n      setFormData(prev => ({\n        ...prev,\n        format: value,\n        mapPool: newMatchData.mapPool,\n        maps: newMatchData.maps\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n    \n    // Update selected teams for UI\n    if (name === 'team1Id') {\n      const team = teams.find(t => t.id == value);\n      setSelectedTeam1(team);\n    } else if (name === 'team2Id') {\n      const team = teams.find(t => t.id == value);\n      setSelectedTeam2(team);\n    }\n  };\n\n  const handleMapChange = (mapIndex, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      maps: prev.maps.map((map, index) => \n        index === mapIndex ? { ...map, [field]: value } : map\n      )\n    }));\n  };\n\n  const validateForm = () => {\n    if (!formData.team1Id) {\n      alert('Please select Team 1');\n      return false;\n    }\n    \n    if (!formData.team2Id) {\n      alert('Please select Team 2');\n      return false;\n    }\n    \n    if (formData.team1Id === formData.team2Id) {\n      alert('Team 1 and Team 2 cannot be the same');\n      return false;\n    }\n    \n    if (!formData.scheduledAt) {\n      alert('Please set a match time');\n      return false;\n    }\n\n    // Validate future time for upcoming matches\n    if (formData.status === 'upcoming') {\n      const scheduledTime = new Date(formData.scheduledAt);\n      const now = new Date();\n      if (scheduledTime <= now) {\n        alert('Upcoming matches must be scheduled in the future');\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    setSaving(true);\n\n    try {\n      // ✅ FIXED: Prepare data for backend with proper Marvel Rivals structure\n      const submitData = {\n        team1_id: parseInt(formData.team1Id),\n        team2_id: parseInt(formData.team2Id),\n        event_id: formData.eventId ? parseInt(formData.eventId) : null,\n        scheduled_at: formData.scheduledAt,\n        format: formData.format,\n        status: formData.status,\n        stream_url: formData.streamUrl || null,\n        description: formData.description || null,\n        map_pool: formData.mapPool,\n        // ✅ CRITICAL: Initialize scores properly\n        team1_score: formData.team1_score || 0,\n        team2_score: formData.team2_score || 0,\n        // ✅ CRITICAL: Send map structure for live scoring setup\n        maps_data: formData.maps\n      };\n\n      console.log('📡 Submitting match data:', submitData);\n\n      let response;\n      if (isEdit) {\n        response = await api.put(`/admin/matches/${matchId}`, submitData);\n      } else {\n        response = await api.post('/admin/matches', submitData);\n      }\n\n      const result = response.data || response;\n      console.log('✅ Match operation successful:', result);\n\n      alert(`Match ${isEdit ? 'updated' : 'created'} successfully! ${!isEdit ? 'All scores initialized to 0.' : ''}`);\n      \n      if (navigateTo) {\n        navigateTo('admin-dashboard');\n      }\n    } catch (error) {\n      console.error('❌ Error saving match:', error);\n      \n      let errorMessage = `Error ${isEdit ? 'updating' : 'creating'} match: `;\n      if (error.message.includes('event_id')) {\n        errorMessage += 'Please select a valid event.';\n      } else if (error.message.includes('scheduled_at')) {\n        errorMessage += 'Please check the match schedule time.';\n      } else if (error.message.includes('team')) {\n        errorMessage += 'Please ensure both teams are selected and different.';\n      } else {\n        errorMessage += error.message;\n      }\n      \n      alert(errorMessage);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">Loading match data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\">\n            {isEdit ? 'Edit Match' : 'Schedule New Match'}\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            {isEdit ? 'Update match information and live scores' : 'Create a new Marvel Rivals competitive match'}\n          </p>\n        </div>\n        <button \n          onClick={() => navigateTo && navigateTo('admin-dashboard')}\n          className=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\n        >\n          ← Back to Dashboard\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Teams Selection */}\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">🎮 Teams</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Team 1 *\n              </label>\n              <select\n                name=\"team1Id\"\n                value={formData.team1Id}\n                onChange={handleInputChange}\n                className=\"form-input\"\n                required\n              >\n                <option value=\"\">Select Team 1</option>\n                {teams.map(team => (\n                  <option key={team.id} value={team.id}>\n                    {team.name} ({team.short_name}) - Rating: {team.rating || 'Unranked'}\n                  </option>\n                ))}\n              </select>\n              {selectedTeam1 && (\n                <div className=\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm\">\n                  <div className=\"font-medium text-gray-900 dark:text-white\">{selectedTeam1.name}</div>\n                  <div className=\"text-gray-600 dark:text-gray-400\">Region: {selectedTeam1.region} | Rating: {selectedTeam1.rating || 'Unranked'}</div>\n                </div>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Team 2 *\n              </label>\n              <select\n                name=\"team2Id\"\n                value={formData.team2Id}\n                onChange={handleInputChange}\n                className=\"form-input\"\n                required\n              >\n                <option value=\"\">Select Team 2</option>\n                {teams.map(team => (\n                  <option \n                    key={team.id} \n                    value={team.id}\n                    disabled={team.id == formData.team1Id}\n                  >\n                    {team.name} ({team.short_name}) - Rating: {team.rating || 'Unranked'}\n                  </option>\n                ))}\n              </select>\n              {selectedTeam2 && (\n                <div className=\"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm\">\n                  <div className=\"font-medium text-gray-900 dark:text-white\">{selectedTeam2.name}</div>\n                  <div className=\"text-gray-600 dark:text-gray-400\">Region: {selectedTeam2.region} | Rating: {selectedTeam2.rating || 'Unranked'}</div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Match Details */}\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">📝 Match Details</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Event (Optional)\n              </label>\n              <select\n                name=\"eventId\"\n                value={formData.eventId}\n                onChange={handleInputChange}\n                className=\"form-input\"\n              >\n                <option value=\"\">Standalone Match</option>\n                {events.map(event => (\n                  <option key={event.id} value={event.id}>\n                    {event.name} ({event.type})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Match Format *\n              </label>\n              <select\n                name=\"format\"\n                value={formData.format}\n                onChange={handleInputChange}\n                className=\"form-input\"\n                required\n              >\n                {MARVEL_RIVALS_CONFIG.formats.map(format => (\n                  <option key={format.value} value={format.value}>\n                    {format.label}\n                  </option>\n                ))}\n              </select>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                ✅ Changing format will reset map configuration\n              </p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Scheduled Time *\n              </label>\n              <input\n                type=\"datetime-local\"\n                name=\"scheduledAt\"\n                value={formData.scheduledAt}\n                onChange={handleInputChange}\n                className=\"form-input\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Status\n              </label>\n              <select\n                name=\"status\"\n                value={formData.status}\n                onChange={handleInputChange}\n                className=\"form-input\"\n              >\n                {MARVEL_RIVALS_CONFIG.statuses.map(status => (\n                  <option key={status.value} value={status.value}>\n                    {status.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Stream URL\n              </label>\n              <input\n                type=\"url\"\n                name=\"streamUrl\"\n                value={formData.streamUrl}\n                onChange={handleInputChange}\n                className=\"form-input\"\n                placeholder=\"https://twitch.tv/marvelrivals\"\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Description\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                rows={3}\n                className=\"form-input\"\n                placeholder=\"Match description, stakes, context, etc...\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Marvel Rivals Maps Configuration */}\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">🗺️ Marvel Rivals Maps ({formData.format})</h3>\n          \n          <div className=\"space-y-4\">\n            {formData.maps.map((map, index) => (\n              <div key={index} className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">Map {index + 1}</h4>\n                  <div className={`px-2 py-1 rounded text-xs font-medium ${\n                    map.status === 'completed' ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400' :\n                    map.status === 'live' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400' :\n                    'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'\n                  }`}>\n                    {map.status.toUpperCase()}\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\">\n                      Map Name\n                    </label>\n                    <select\n                      value={map.map_name}\n                      onChange={(e) => handleMapChange(index, 'map_name', e.target.value)}\n                      className=\"form-input text-sm\"\n                    >\n                      {MARVEL_RIVALS_CONFIG.maps.map(mapName => (\n                        <option key={mapName} value={mapName}>{mapName}</option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\">\n                      {selectedTeam1?.short_name || 'Team 1'} Score\n                    </label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"10\"\n                      value={map.team1_score}\n                      onChange={(e) => handleMapChange(index, 'team1_score', parseInt(e.target.value) || 0)}\n                      className=\"form-input text-sm\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\">\n                      {selectedTeam2?.short_name || 'Team 2'} Score\n                    </label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"10\"\n                      value={map.team2_score}\n                      onChange={(e) => handleMapChange(index, 'team2_score', parseInt(e.target.value) || 0)}\n                      className=\"form-input text-sm\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"mt-3 text-xs text-gray-600 dark:text-gray-400\">\n                  ✅ Scores automatically sync to overall match score • Winner determined by higher score\n                </div>\n              </div>\n            ))}\n          </div>\n          \n          <div className=\"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n            <div className=\"text-sm text-blue-800 dark:text-blue-200\">\n              <div className=\"font-medium mb-1\">🎯 Current Match Score:</div>\n              <div className=\"text-lg\">\n                {selectedTeam1?.short_name || 'Team 1'}: <span className=\"font-bold\">{formData.team1_score}</span> - \n                {selectedTeam2?.short_name || 'Team 2'}: <span className=\"font-bold\">{formData.team2_score}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Submit Buttons */}\n        <div className=\"flex justify-end space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => navigateTo && navigateTo('admin-dashboard')}\n            className=\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={saving}\n            className=\"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {saving ? (\n              <span className=\"flex items-center\">\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n                {isEdit ? 'Updating...' : 'Creating...'}\n              </span>\n            ) : (\n              isEdit ? 'Update Match' : 'Schedule Match'\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default MatchForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}