{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ForumsPage(_ref){let{navigateTo}=_ref;const{isAuthenticated,isAdmin,isModerator,api}=useAuth();const[selectedCategory,setSelectedCategory]=useState('all');const[searchQuery,setSearchQuery]=useState('');const[sortBy,setSortBy]=useState('recent');const[threads,setThreads]=useState([]);const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(true);const[showAuthModal,setShowAuthModal]=useState(false);const fetchForumData=useCallback(async()=>{try{setLoading(true);// CRITICAL FIX: Fetch REAL forum threads from backend first\nlet threadsData=[];let categoriesData=[];try{var _threadsResponse$data;console.log('🔍 ForumsPage: Fetching REAL forum data from backend...');// Get real threads from backend\nconst threadsResponse=await api.get('/forums/threads');const rawThreads=(threadsResponse===null||threadsResponse===void 0?void 0:(_threadsResponse$data=threadsResponse.data)===null||_threadsResponse$data===void 0?void 0:_threadsResponse$data.data)||(threadsResponse===null||threadsResponse===void 0?void 0:threadsResponse.data)||[];if(Array.isArray(rawThreads)&&rawThreads.length>0){threadsData=rawThreads.map(thread=>{var _thread$author,_thread$author2,_thread$author3,_thread$author4,_thread$last_reply;return{id:thread.id,// ✅ CRITICAL FIX: Use REAL thread ID from backend\ntitle:thread.title,author:{name:thread.user_name||((_thread$author=thread.author)===null||_thread$author===void 0?void 0:_thread$author.name)||'Anonymous',role:((_thread$author2=thread.author)===null||_thread$author2===void 0?void 0:_thread$author2.role)||'user',country:((_thread$author3=thread.author)===null||_thread$author3===void 0?void 0:_thread$author3.country)||'US',teamFlair:((_thread$author4=thread.author)===null||_thread$author4===void 0?void 0:_thread$author4.team_flair)||null},category:thread.category||'general',replies:thread.replies||thread.replies_count||0,views:thread.views||thread.views_count||0,lastReply:{user:((_thread$last_reply=thread.last_reply)===null||_thread$last_reply===void 0?void 0:_thread$last_reply.user)||thread.user_name||'No replies',timestamp:formatTimeAgo(thread.updated_at||thread.created_at)},created:thread.created_at,pinned:thread.pinned||false,locked:thread.locked||false,trending:thread.trending||false,excerpt:thread.content?thread.content.substring(0,150)+'...':'No preview available'};});console.log('✅ ForumsPage: Using REAL backend threads:',threadsData.length);}else{throw new Error('No real threads found');}// Try to get real categories from backend\ntry{var _categoriesResponse$d;const categoriesResponse=await api.get('/forums/categories');const rawCategories=(categoriesResponse===null||categoriesResponse===void 0?void 0:(_categoriesResponse$d=categoriesResponse.data)===null||_categoriesResponse$d===void 0?void 0:_categoriesResponse$d.data)||(categoriesResponse===null||categoriesResponse===void 0?void 0:categoriesResponse.data)||[];if(Array.isArray(rawCategories)&&rawCategories.length>0){categoriesData=[{id:'all',name:'All Categories',count:threadsData.length},...rawCategories.map(cat=>({id:cat.id||cat.slug,name:cat.name,count:cat.threads_count||0}))];console.log('✅ ForumsPage: Using REAL backend categories:',categoriesData.length);}else{throw new Error('Empty categories response');}}catch(categoriesError){console.log('⚠️ ForumsPage: Categories API unavailable, using enhanced fallback categories');categoriesData=[{id:'all',name:'All Categories',count:threadsData.length},{id:'general-discussion',name:'General Discussion',count:Math.floor(threadsData.length*0.3)},{id:'strategy',name:'Strategy & Tactics',count:Math.floor(threadsData.length*0.15)},{id:'hero-discussion',name:'Hero Discussion',count:Math.floor(threadsData.length*0.25)},{id:'esports',name:'Esports & Competitive',count:Math.floor(threadsData.length*0.1)},{id:'guides',name:'Guides & Tutorials',count:Math.floor(threadsData.length*0.05)},{id:'team-recruitment',name:'Team Recruitment',count:Math.floor(threadsData.length*0.05)},{id:'meta-discussion',name:'Meta Analysis',count:Math.floor(threadsData.length*0.05)},{id:'feedback',name:'Feedback & Suggestions',count:Math.floor(threadsData.length*0.03)},{id:'bugs',name:'Bug Reports',count:Math.floor(threadsData.length*0.02)}];}}catch(error){console.error('❌ ForumsPage: Unable to load forum data from backend');// Remove fallback data generation - dynamic from backend only\n// Remove fallback data generation - dynamic from backend only\nsetThreads([]);// Show empty state instead of mock data\n// Set basic categories without mock data - MATCH CreateThreadPage categories exactly  \ncategoriesData=[{id:'all',name:'All Categories',count:0},{id:'general',name:'General Discussion',count:0},{id:'strategy',name:'Strategy & Tactics',count:0},{id:'guides',name:'Guides & Tutorials',count:0},{id:'feedback',name:'Feedback & Suggestions',count:0}];}setCategories(categoriesData);// Filter and sort threads\nlet filteredThreads=threadsData;if(selectedCategory!=='all'){filteredThreads=filteredThreads.filter(thread=>thread.category===selectedCategory);}if(searchQuery){filteredThreads=filteredThreads.filter(thread=>thread.title.toLowerCase().includes(searchQuery.toLowerCase())||thread.excerpt.toLowerCase().includes(searchQuery.toLowerCase()));}// Apply sorting\nswitch(sortBy){case'recent':filteredThreads.sort((a,b)=>new Date(b.created)-new Date(a.created));break;case'popular':filteredThreads.sort((a,b)=>b.replies-a.replies);break;case'replies':filteredThreads.sort((a,b)=>b.replies-a.replies);break;case'views':filteredThreads.sort((a,b)=>b.views-a.views);break;default:break;}// Always put pinned posts first\nconst pinnedThreads=filteredThreads.filter(t=>t.pinned);const regularThreads=filteredThreads.filter(t=>!t.pinned);filteredThreads=[...pinnedThreads,...regularThreads];setThreads(filteredThreads);}catch(error){console.error('Error fetching forum data:',error);setThreads([]);// NO MOCK DATA - REAL BACKEND ONLY\n}finally{setLoading(false);}},[selectedCategory,searchQuery,sortBy,api]);// ✅ ENHANCED: More realistic time formatting\nconst formatTimeAgo=dateString=>{if(!dateString)return'Just now';const date=new Date(dateString);// ✅ FIXED: Handle invalid dates from backend\nif(isNaN(date.getTime())){console.warn('Invalid date format:',dateString);return'Just now';}const now=new Date();const diffMs=now-date;// ✅ FIXED: Handle negative differences (future dates)\nif(diffMs<0){return'Just now';}const diffMins=Math.floor(diffMs/60000);const diffHours=Math.floor(diffMs/3600000);const diffDays=Math.floor(diffMs/86400000);const diffWeeks=Math.floor(diffDays/7);const diffMonths=Math.floor(diffDays/30);if(diffMins<1)return'Just now';if(diffMins<60)return\"\".concat(diffMins,\"m ago\");if(diffHours<24)return\"\".concat(diffHours,\"h ago\");if(diffDays<7)return\"\".concat(diffDays,\"d ago\");if(diffWeeks<4)return\"\".concat(diffWeeks,\"w ago\");if(diffMonths<12)return\"\".concat(diffMonths,\"mo ago\");// ✅ ENHANCED: For old dates, show actual date\nreturn date.toLocaleDateString('en-US',{month:'short',day:'numeric',year:date.getFullYear()!==now.getFullYear()?'numeric':undefined});};useEffect(()=>{fetchForumData();// ✅ FIXED: Listen for category changes and refresh data\nconst handleCategoryUpdate=()=>{console.log('📢 ForumsPage: Category update detected, refreshing data...');fetchForumData();};// Listen for custom events from AdminForums\nwindow.addEventListener('mrvl-category-updated',handleCategoryUpdate);// Refresh categories periodically to catch updates\nconst refreshInterval=setInterval(()=>{fetchForumData();},30000);// Refresh every 30 seconds\nreturn()=>{window.removeEventListener('mrvl-category-updated',handleCategoryUpdate);clearInterval(refreshInterval);};},[fetchForumData]);// CRITICAL FIX: Listen for new thread creation to refresh forum list\nuseEffect(()=>{const handleNewThreadCreated=()=>{console.log('🔄 ForumsPage: New thread created, refreshing forum list...');fetchForumData();};window.addEventListener('mrvl-thread-created',handleNewThreadCreated);return()=>{window.removeEventListener('mrvl-thread-created',handleNewThreadCreated);};},[fetchForumData]);// FIXED: Properly handle sign-in by setting up the main auth modal\nconst handleSignInClick=()=>{console.log('🔑 ForumsPage: Sign in button clicked');setShowAuthModal(true);};// CRITICAL FIX: Use REAL thread ID for navigation\nconst handleThreadClick=threadId=>{console.log('🔗 ForumsPage: Navigating to thread with REAL ID:',threadId);if(navigateTo&&typeof navigateTo==='function'){navigateTo('thread-detail',{id:threadId});}};const handleCreateThread=()=>{if(isAuthenticated){if(navigateTo&&typeof navigateTo==='function'){navigateTo('create-thread');}}else{handleSignInClick();}};const getRoleColor=role=>{switch(role){case'admin':return'text-red-600 dark:text-red-400';case'moderator':return'text-yellow-600 dark:text-yellow-400';default:return'text-gray-600 dark:text-gray-400';}};const getRoleDisplay=role=>{switch(role){case'admin':return'DEV';case'moderator':return'MOD';default:return'';}};// Country flag helper function\nconst getCountryFlag=countryCode=>{const flagMap={'US':'🇺🇸','CA':'🇨🇦','UK':'🇬🇧','DE':'🇩🇪','FR':'🇫🇷','BR':'🇧🇷','KR':'🇰🇷','JP':'🇯🇵'};return flagMap[countryCode]||'🌍';};// FIXED: Inline Auth Modal Component - triggers main App.js AuthModal\nconst InlineAuthModal=()=>{if(!showAuthModal)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/60 backdrop-blur-sm\",onClick:()=>setShowAuthModal(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"relative card w-full max-w-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"\\uD83D\\uDD11 Sign In Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"Please sign in to participate in forum discussions and create posts.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAuthModal(false);window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));},className:\"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"\\uD83D\\uDE80 Sign In / Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAuthModal(false),className:\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Continue Browsing\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-xs text-gray-500 dark:text-gray-500\",children:\"Sign in to reply to posts and join the conversation!\"})]})})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"forum-layout max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(InlineAuthModal,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-red-600 dark:text-red-400\",children:\"Forums\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateThread,className:\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\",children:isAuthenticated?'New Post':'Sign In to Post'}),(isAdmin()||isModerator())&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo&&navigateTo('admin-forums'),className:\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\",children:\"Moderate\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(category.id),className:\"px-3 py-1.5 text-xs font-medium rounded transition-colors \".concat(selectedCategory===category.id?'bg-red-600 text-white':'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'),children:[category.name,/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1 text-xs opacity-75\",children:[\"(\",category.count||0,\")\"]})]},category.id))})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-b border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search posts...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-700 dark:text-gray-300\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"recent\",children:\"Recent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popular\",children:\"Popular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"replies\",children:\"Most Replies\"}),/*#__PURE__*/_jsx(\"option\",{value:\"views\",children:\"Most Views\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200 dark:divide-gray-600\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading posts...\"})}):threads.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl mb-2\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-1\",children:\"No posts found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:searchQuery?'Try adjusting your search criteria':'Be the first to start a discussion!'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateThread,className:\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\",children:isAuthenticated?'Create First Post':'Sign In to Create Post'})]}):threads.map(thread=>/*#__PURE__*/_jsx(\"div\",{className:\"forum-thread cursor-pointer p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\",onClick:()=>handleThreadClick(thread.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-start space-y-2 md:space-y-0 md:space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-wrap space-x-2 mb-1\",children:[thread.pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-xs font-bold rounded\",children:\"PINNED\"}),thread.trending&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200 text-xs font-bold rounded\",children:\"TRENDING\"}),thread.locked&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-xs font-bold rounded\",children:\"LOCKED\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm md:text-base font-semibold text-gray-900 dark:text-white mb-1 hover:text-red-600 dark:hover:text-red-400 transition-colors line-clamp-2\",children:thread.title}),/*#__PURE__*/_jsx(\"p\",{className:\"hidden md:block text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-1\",children:thread.excerpt}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-500 dark:text-gray-500 space-y-1 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:getCountryFlag(thread.author.country)}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-gray-100\",children:thread.author.name}),thread.author.role!=='user'&&/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat(getRoleColor(thread.author.role)),children:getRoleDisplay(thread.author.role)}),thread.author.teamFlair&&/*#__PURE__*/_jsx(\"span\",{className:\"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded\",children:thread.author.teamFlair.name}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTimeAgo(thread.created)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700 dark:text-gray-300 font-medium\",children:[thread.replies,\" replies\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"hidden sm:inline\",children:[thread.views.toLocaleString(),\" views\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-xs text-gray-500 dark:text-gray-500\",children:[\"Last reply by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:thread.lastReply.user}),\" \\u2022 \",thread.lastReply.timestamp]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-1 self-start md:self-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();if(!isAuthenticated){handleSignInClick();}else{handleThreadClick(thread.id);}},className:\"px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Reply\"})})]})},thread.id))})]})]});}export default ForumsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","jsx","_jsx","jsxs","_jsxs","ForumsPage","_ref","navigateTo","isAuthenticated","isAdmin","isModerator","api","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","sortBy","setSortBy","threads","setThreads","categories","setCategories","loading","setLoading","showAuthModal","setShowAuthModal","fetchForumData","threadsData","categoriesData","_threadsResponse$data","console","log","threadsResponse","get","rawThreads","data","Array","isArray","length","map","thread","_thread$author","_thread$author2","_thread$author3","_thread$author4","_thread$last_reply","id","title","author","name","user_name","role","country","teamFlair","team_flair","category","replies","replies_count","views","views_count","lastReply","user","last_reply","timestamp","formatTimeAgo","updated_at","created_at","created","pinned","locked","trending","excerpt","content","substring","Error","_categoriesResponse$d","categoriesResponse","rawCategories","count","cat","slug","threads_count","categoriesError","Math","floor","error","filteredThreads","filter","toLowerCase","includes","sort","a","b","Date","pinnedThreads","t","regularThreads","dateString","date","isNaN","getTime","warn","now","diffMs","diffMins","diffHours","diffDays","diffWeeks","diffMonths","concat","toLocaleDateString","month","day","year","getFullYear","undefined","handleCategoryUpdate","window","addEventListener","refreshInterval","setInterval","removeEventListener","clearInterval","handleNewThreadCreated","handleSignInClick","handleThreadClick","threadId","handleCreateThread","getRoleColor","getRoleDisplay","getCountryFlag","countryCode","flagMap","InlineAuthModal","className","children","onClick","dispatchEvent","CustomEvent","type","placeholder","value","onChange","e","target","toLocaleString","stopPropagation"],"sources":["/app/frontend/src/components/pages/ForumsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction ForumsPage({ navigateTo }) {\n  const { isAuthenticated, isAdmin, isModerator, api } = useAuth();\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('recent'); \n  const [threads, setThreads] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n\n  const fetchForumData = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      // CRITICAL FIX: Fetch REAL forum threads from backend first\n      let threadsData = [];\n      let categoriesData = [];\n      \n      try {\n        console.log('🔍 ForumsPage: Fetching REAL forum data from backend...');\n        \n        // Get real threads from backend\n        const threadsResponse = await api.get('/forums/threads');\n        const rawThreads = threadsResponse?.data?.data || threadsResponse?.data || [];\n        \n        if (Array.isArray(rawThreads) && rawThreads.length > 0) {\n          threadsData = rawThreads.map(thread => ({\n            id: thread.id, // ✅ CRITICAL FIX: Use REAL thread ID from backend\n            title: thread.title,\n            author: {\n              name: thread.user_name || thread.author?.name || 'Anonymous',\n              role: thread.author?.role || 'user',\n              country: thread.author?.country || 'US',\n              teamFlair: thread.author?.team_flair || null\n            },\n            category: thread.category || 'general',\n            replies: thread.replies || thread.replies_count || 0,\n            views: thread.views || thread.views_count || 0,\n            lastReply: {\n              user: thread.last_reply?.user || thread.user_name || 'No replies',\n              timestamp: formatTimeAgo(thread.updated_at || thread.created_at)\n            },\n            created: thread.created_at,\n            pinned: thread.pinned || false,\n            locked: thread.locked || false,\n            trending: thread.trending || false,\n            excerpt: thread.content ? thread.content.substring(0, 150) + '...' : 'No preview available'\n          }));\n          console.log('✅ ForumsPage: Using REAL backend threads:', threadsData.length);\n        } else {\n          throw new Error('No real threads found');\n        }\n        \n        // Try to get real categories from backend\n        try {\n          const categoriesResponse = await api.get('/forums/categories');\n          const rawCategories = categoriesResponse?.data?.data || categoriesResponse?.data || [];\n          \n          if (Array.isArray(rawCategories) && rawCategories.length > 0) {\n            categoriesData = [\n              { id: 'all', name: 'All Categories', count: threadsData.length },\n              ...rawCategories.map(cat => ({\n                id: cat.id || cat.slug,\n                name: cat.name,\n                count: cat.threads_count || 0\n              }))\n            ];\n            console.log('✅ ForumsPage: Using REAL backend categories:', categoriesData.length);\n          } else {\n            throw new Error('Empty categories response');\n          }\n        } catch (categoriesError) {\n          console.log('⚠️ ForumsPage: Categories API unavailable, using enhanced fallback categories');\n          categoriesData = [\n            { id: 'all', name: 'All Categories', count: threadsData.length },\n            { id: 'general-discussion', name: 'General Discussion', count: Math.floor(threadsData.length * 0.3) },\n            { id: 'strategy', name: 'Strategy & Tactics', count: Math.floor(threadsData.length * 0.15) },\n            { id: 'hero-discussion', name: 'Hero Discussion', count: Math.floor(threadsData.length * 0.25) },\n            { id: 'esports', name: 'Esports & Competitive', count: Math.floor(threadsData.length * 0.1) },\n            { id: 'guides', name: 'Guides & Tutorials', count: Math.floor(threadsData.length * 0.05) },\n            { id: 'team-recruitment', name: 'Team Recruitment', count: Math.floor(threadsData.length * 0.05) },\n            { id: 'meta-discussion', name: 'Meta Analysis', count: Math.floor(threadsData.length * 0.05) },\n            { id: 'feedback', name: 'Feedback & Suggestions', count: Math.floor(threadsData.length * 0.03) },\n            { id: 'bugs', name: 'Bug Reports', count: Math.floor(threadsData.length * 0.02) }\n          ];\n        }\n        \n      } catch (error) {\n        console.error('❌ ForumsPage: Unable to load forum data from backend');\n        // Remove fallback data generation - dynamic from backend only\n        // Remove fallback data generation - dynamic from backend only\n        setThreads([]); // Show empty state instead of mock data\n        \n        // Set basic categories without mock data - MATCH CreateThreadPage categories exactly  \n        categoriesData = [\n          { id: 'all', name: 'All Categories', count: 0 },\n          { id: 'general', name: 'General Discussion', count: 0 },\n          { id: 'strategy', name: 'Strategy & Tactics', count: 0 },\n          { id: 'guides', name: 'Guides & Tutorials', count: 0 },\n          { id: 'feedback', name: 'Feedback & Suggestions', count: 0 }\n        ];\n      }\n\n      setCategories(categoriesData);\n      \n      // Filter and sort threads\n      let filteredThreads = threadsData;\n      \n      if (selectedCategory !== 'all') {\n        filteredThreads = filteredThreads.filter(thread => thread.category === selectedCategory);\n      }\n      \n      if (searchQuery) {\n        filteredThreads = filteredThreads.filter(thread =>\n          thread.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          thread.excerpt.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n      }\n      \n      // Apply sorting\n      switch (sortBy) {\n        case 'recent':\n          filteredThreads.sort((a, b) => new Date(b.created) - new Date(a.created));\n          break;\n        case 'popular':\n          filteredThreads.sort((a, b) => b.replies - a.replies);\n          break;\n        case 'replies':\n          filteredThreads.sort((a, b) => b.replies - a.replies);\n          break;\n        case 'views':\n          filteredThreads.sort((a, b) => b.views - a.views);\n          break;\n        default:\n          break;\n      }\n      \n      // Always put pinned posts first\n      const pinnedThreads = filteredThreads.filter(t => t.pinned);\n      const regularThreads = filteredThreads.filter(t => !t.pinned);\n      filteredThreads = [...pinnedThreads, ...regularThreads];\n      \n      setThreads(filteredThreads);\n    } catch (error) {\n      console.error('Error fetching forum data:', error);\n      setThreads([]); // NO MOCK DATA - REAL BACKEND ONLY\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedCategory, searchQuery, sortBy, api]);\n\n  // ✅ ENHANCED: More realistic time formatting\n  const formatTimeAgo = (dateString) => {\n    if (!dateString) return 'Just now';\n    \n    const date = new Date(dateString);\n    \n    // ✅ FIXED: Handle invalid dates from backend\n    if (isNaN(date.getTime())) {\n      console.warn('Invalid date format:', dateString);\n      return 'Just now';\n    }\n    \n    const now = new Date();\n    const diffMs = now - date;\n    \n    // ✅ FIXED: Handle negative differences (future dates)\n    if (diffMs < 0) {\n      return 'Just now';\n    }\n    \n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    const diffWeeks = Math.floor(diffDays / 7);\n    const diffMonths = Math.floor(diffDays / 30);\n\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n    if (diffWeeks < 4) return `${diffWeeks}w ago`;\n    if (diffMonths < 12) return `${diffMonths}mo ago`;\n    \n    // ✅ ENHANCED: For old dates, show actual date\n    return date.toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric',\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\n    });\n  };\n\n\n\n  useEffect(() => {\n    fetchForumData();\n    \n    // ✅ FIXED: Listen for category changes and refresh data\n    const handleCategoryUpdate = () => {\n      console.log('📢 ForumsPage: Category update detected, refreshing data...');\n      fetchForumData();\n    };\n    \n    // Listen for custom events from AdminForums\n    window.addEventListener('mrvl-category-updated', handleCategoryUpdate);\n    \n    // Refresh categories periodically to catch updates\n    const refreshInterval = setInterval(() => {\n      fetchForumData();\n    }, 30000); // Refresh every 30 seconds\n    \n    return () => {\n      window.removeEventListener('mrvl-category-updated', handleCategoryUpdate);\n      clearInterval(refreshInterval);\n    };\n  }, [fetchForumData]);\n\n  // CRITICAL FIX: Listen for new thread creation to refresh forum list\n  useEffect(() => {\n    const handleNewThreadCreated = () => {\n      console.log('🔄 ForumsPage: New thread created, refreshing forum list...');\n      fetchForumData();\n    };\n\n    window.addEventListener('mrvl-thread-created', handleNewThreadCreated);\n    \n    return () => {\n      window.removeEventListener('mrvl-thread-created', handleNewThreadCreated);\n    };\n  }, [fetchForumData]);\n\n  // FIXED: Properly handle sign-in by setting up the main auth modal\n  const handleSignInClick = () => {\n    console.log('🔑 ForumsPage: Sign in button clicked');\n    setShowAuthModal(true);\n  };\n\n  // CRITICAL FIX: Use REAL thread ID for navigation\n  const handleThreadClick = (threadId) => {\n    console.log('🔗 ForumsPage: Navigating to thread with REAL ID:', threadId);\n    if (navigateTo && typeof navigateTo === 'function') {\n      navigateTo('thread-detail', { id: threadId });\n    }\n  };\n\n  const handleCreateThread = () => {\n    if (isAuthenticated) {\n      if (navigateTo && typeof navigateTo === 'function') {\n        navigateTo('create-thread');\n      }\n    } else {\n      handleSignInClick();\n    }\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case 'admin': return 'text-red-600 dark:text-red-400';\n      case 'moderator': return 'text-yellow-600 dark:text-yellow-400';\n      default: return 'text-gray-600 dark:text-gray-400';\n    }\n  };\n\n  const getRoleDisplay = (role) => {\n    switch (role) {\n      case 'admin': return 'DEV';\n      case 'moderator': return 'MOD';\n      default: return '';\n    }\n  };\n\n  // Country flag helper function\n  const getCountryFlag = (countryCode) => {\n    const flagMap = {\n      'US': '🇺🇸',\n      'CA': '🇨🇦', \n      'UK': '🇬🇧',\n      'DE': '🇩🇪',\n      'FR': '🇫🇷',\n      'BR': '🇧🇷',\n      'KR': '🇰🇷',\n      'JP': '🇯🇵'\n    };\n    return flagMap[countryCode] || '🌍';\n  };\n\n  // FIXED: Inline Auth Modal Component - triggers main App.js AuthModal\n  const InlineAuthModal = () => {\n    if (!showAuthModal) return null;\n\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n        <div \n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n          onClick={() => setShowAuthModal(false)}\n        />\n        <div className=\"relative card w-full max-w-md\">\n          <div className=\"p-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">\n                🔑 Sign In Required\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                Please sign in to participate in forum discussions and create posts.\n              </p>\n              \n              <div className=\"space-y-3\">\n                <button \n                  onClick={() => {\n                    setShowAuthModal(false);\n                    window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n                  }}\n                  className=\"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                >\n                  🚀 Sign In / Sign Up\n                </button>\n                \n                <button \n                  onClick={() => setShowAuthModal(false)}\n                  className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Continue Browsing\n                </button>\n              </div>\n              \n              <div className=\"mt-4 text-xs text-gray-500 dark:text-gray-500\">\n                Sign in to reply to posts and join the conversation!\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"forum-layout max-w-6xl mx-auto\">\n      <InlineAuthModal />\n\n      {/* Compact header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-xl font-bold text-red-600 dark:text-red-400\">Forums</h1>\n        \n        {/* FIXED: Show different buttons based on user role */}\n        <div className=\"flex items-center space-x-2\">\n          <button \n            onClick={handleCreateThread}\n            className=\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n          >\n            {isAuthenticated ? 'New Post' : 'Sign In to Post'}\n          </button>\n          \n          {/* Only show Admin Panel for admins and moderators */}\n          {(isAdmin() || isModerator()) && (\n            <button \n              onClick={() => navigateTo && navigateTo('admin-forums')}\n              className=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n            >\n              Moderate\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* ✅ CATEGORY HEADER BAR - All categories as tabs (SINGLE, NOT DUPLICATED) */}\n      <div className=\"card mb-4\">\n        <div className=\"p-2\">\n          <div className=\"flex flex-wrap gap-1\">\n            {categories.map(category => (\n              <button\n                key={category.id}\n                onClick={() => setSelectedCategory(category.id)}\n                className={`px-3 py-1.5 text-xs font-medium rounded transition-colors ${\n                  selectedCategory === category.id\n                    ? 'bg-red-600 text-white'\n                    : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                }`}\n              >\n                {category.name}\n                <span className=\"ml-1 text-xs opacity-75\">({category.count || 0})</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n{/* Responsive card layout */}\n      <div className=\"card\">\n        {/* Added sorting controls */}\n        <div className=\"p-3 border-b border-gray-200 dark:border-gray-600\">\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"flex-1\">\n              <input\n                type=\"text\"\n                placeholder=\"Search posts...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n              />\n            </div>\n            \n            {/* Added sorting dropdown */}\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">Sort by:</label>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              >\n                <option value=\"recent\">Recent</option>\n                <option value=\"popular\">Popular</option>\n                <option value=\"replies\">Most Replies</option>\n                <option value=\"views\">Most Views</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Posts List - VLR.gg style with user flags and team flairs */}\n        <div className=\"divide-y divide-gray-200 dark:divide-gray-600\">\n          {loading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-600 dark:text-gray-400\">Loading posts...</div>\n            </div>\n          ) : threads.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-xl mb-2\">💬</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">No posts found</h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                {searchQuery ? 'Try adjusting your search criteria' : 'Be the first to start a discussion!'}\n              </p>\n              <button \n                onClick={handleCreateThread}\n                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n              >\n                {isAuthenticated ? 'Create First Post' : 'Sign In to Create Post'}\n              </button>\n            </div>\n          ) : (\n            threads.map(thread => (\n              <div \n                key={thread.id} \n                className=\"forum-thread cursor-pointer p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                onClick={() => handleThreadClick(thread.id)}\n              >\n                <div className=\"flex flex-col md:flex-row md:items-start space-y-2 md:space-y-0 md:space-x-3\">\n                  <div className=\"flex-1 min-w-0\">\n                    {/* Post badges */}\n                    <div className=\"flex items-center flex-wrap space-x-2 mb-1\">\n                      {thread.pinned && (\n                        <span className=\"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-xs font-bold rounded\">\n                          PINNED\n                        </span>\n                      )}\n                      {thread.trending && (\n                        <span className=\"px-2 py-0.5 bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200 text-xs font-bold rounded\">\n                          TRENDING\n                        </span>\n                      )}\n                      {thread.locked && (\n                        <span className=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-xs font-bold rounded\">\n                          LOCKED\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Title - responsive text sizing */}\n                    <h3 className=\"text-sm md:text-base font-semibold text-gray-900 dark:text-white mb-1 hover:text-red-600 dark:hover:text-red-400 transition-colors line-clamp-2\">\n                      {thread.title}\n                    </h3>\n\n                    {/* Excerpt - hidden on mobile */}\n                    <p className=\"hidden md:block text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-1\">\n                      {thread.excerpt}\n                    </p>\n\n                    {/* Meta info with VLR.gg style flags and team flairs */}\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-500 dark:text-gray-500 space-y-1 sm:space-y-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        {/* Country Flag */}\n                        <span className=\"text-sm\">{getCountryFlag(thread.author.country)}</span>\n                        \n                        {/* Username */}\n                        <span className=\"font-medium text-gray-900 dark:text-gray-100\">{thread.author.name}</span>\n                        \n                        {/* Role badge */}\n                        {thread.author.role !== 'user' && (\n                          <span className={`font-bold ${getRoleColor(thread.author.role)}`}>\n                            {getRoleDisplay(thread.author.role)}\n                          </span>\n                        )}\n                        \n                        {/* Team Flair */}\n                        {thread.author.teamFlair && (\n                          <span className=\"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded\">\n                            {thread.author.teamFlair.name}\n                          </span>\n                        )}\n                        \n                        <span>•</span>\n                        <span>{formatTimeAgo(thread.created)}</span>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-gray-700 dark:text-gray-300 font-medium\">{thread.replies} replies</span>\n                        <span className=\"hidden sm:inline\">{thread.views.toLocaleString()} views</span>\n                      </div>\n                    </div>\n\n                    {/* Last Reply */}\n                    <div className=\"mt-1 text-xs text-gray-500 dark:text-gray-500\">\n                      Last reply by <span className=\"font-medium text-gray-700 dark:text-gray-300\">{thread.lastReply.user}</span> • {thread.lastReply.timestamp}\n                    </div>\n                  </div>\n\n                  {/* Reply Button */}\n                  <div className=\"pt-1 self-start md:self-center\">\n                    <button \n                      onClick={(e) => {\n                        e.stopPropagation();\n                        if (!isAuthenticated) {\n                          handleSignInClick();\n                        } else {\n                          handleThreadClick(thread.id);\n                        }\n                      }}\n                      className=\"px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                    >\n                      Reply\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ForumsPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,OAAO,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAiB,IAAhB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAChC,KAAM,CAAEE,eAAe,CAAEC,OAAO,CAAEC,WAAW,CAAEC,GAAI,CAAC,CAAGX,OAAO,CAAC,CAAC,CAChE,KAAM,CAACY,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACmB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,QAAQ,CAAC,CAC9C,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuB,UAAU,CAAEC,aAAa,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2B,aAAa,CAAEC,gBAAgB,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAEzD,KAAM,CAAA6B,cAAc,CAAG3B,WAAW,CAAC,SAAY,CAC7C,GAAI,CACFwB,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,GAAI,CAAAI,WAAW,CAAG,EAAE,CACpB,GAAI,CAAAC,cAAc,CAAG,EAAE,CAEvB,GAAI,KAAAC,qBAAA,CACFC,OAAO,CAACC,GAAG,CAAC,yDAAyD,CAAC,CAEtE;AACA,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAArB,GAAG,CAACsB,GAAG,CAAC,iBAAiB,CAAC,CACxD,KAAM,CAAAC,UAAU,CAAG,CAAAF,eAAe,SAAfA,eAAe,kBAAAH,qBAAA,CAAfG,eAAe,CAAEG,IAAI,UAAAN,qBAAA,iBAArBA,qBAAA,CAAuBM,IAAI,IAAIH,eAAe,SAAfA,eAAe,iBAAfA,eAAe,CAAEG,IAAI,GAAI,EAAE,CAE7E,GAAIC,KAAK,CAACC,OAAO,CAACH,UAAU,CAAC,EAAIA,UAAU,CAACI,MAAM,CAAG,CAAC,CAAE,CACtDX,WAAW,CAAGO,UAAU,CAACK,GAAG,CAACC,MAAM,OAAAC,cAAA,CAAAC,eAAA,CAAAC,eAAA,CAAAC,eAAA,CAAAC,kBAAA,OAAK,CACtCC,EAAE,CAAEN,MAAM,CAACM,EAAE,CAAE;AACfC,KAAK,CAAEP,MAAM,CAACO,KAAK,CACnBC,MAAM,CAAE,CACNC,IAAI,CAAET,MAAM,CAACU,SAAS,IAAAT,cAAA,CAAID,MAAM,CAACQ,MAAM,UAAAP,cAAA,iBAAbA,cAAA,CAAeQ,IAAI,GAAI,WAAW,CAC5DE,IAAI,CAAE,EAAAT,eAAA,CAAAF,MAAM,CAACQ,MAAM,UAAAN,eAAA,iBAAbA,eAAA,CAAeS,IAAI,GAAI,MAAM,CACnCC,OAAO,CAAE,EAAAT,eAAA,CAAAH,MAAM,CAACQ,MAAM,UAAAL,eAAA,iBAAbA,eAAA,CAAeS,OAAO,GAAI,IAAI,CACvCC,SAAS,CAAE,EAAAT,eAAA,CAAAJ,MAAM,CAACQ,MAAM,UAAAJ,eAAA,iBAAbA,eAAA,CAAeU,UAAU,GAAI,IAC1C,CAAC,CACDC,QAAQ,CAAEf,MAAM,CAACe,QAAQ,EAAI,SAAS,CACtCC,OAAO,CAAEhB,MAAM,CAACgB,OAAO,EAAIhB,MAAM,CAACiB,aAAa,EAAI,CAAC,CACpDC,KAAK,CAAElB,MAAM,CAACkB,KAAK,EAAIlB,MAAM,CAACmB,WAAW,EAAI,CAAC,CAC9CC,SAAS,CAAE,CACTC,IAAI,CAAE,EAAAhB,kBAAA,CAAAL,MAAM,CAACsB,UAAU,UAAAjB,kBAAA,iBAAjBA,kBAAA,CAAmBgB,IAAI,GAAIrB,MAAM,CAACU,SAAS,EAAI,YAAY,CACjEa,SAAS,CAAEC,aAAa,CAACxB,MAAM,CAACyB,UAAU,EAAIzB,MAAM,CAAC0B,UAAU,CACjE,CAAC,CACDC,OAAO,CAAE3B,MAAM,CAAC0B,UAAU,CAC1BE,MAAM,CAAE5B,MAAM,CAAC4B,MAAM,EAAI,KAAK,CAC9BC,MAAM,CAAE7B,MAAM,CAAC6B,MAAM,EAAI,KAAK,CAC9BC,QAAQ,CAAE9B,MAAM,CAAC8B,QAAQ,EAAI,KAAK,CAClCC,OAAO,CAAE/B,MAAM,CAACgC,OAAO,CAAGhC,MAAM,CAACgC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,CAAG,KAAK,CAAG,sBACvE,CAAC,EAAC,CAAC,CACH3C,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAEJ,WAAW,CAACW,MAAM,CAAC,CAC9E,CAAC,IAAM,CACL,KAAM,IAAI,CAAAoC,KAAK,CAAC,uBAAuB,CAAC,CAC1C,CAEA;AACA,GAAI,KAAAC,qBAAA,CACF,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAjE,GAAG,CAACsB,GAAG,CAAC,oBAAoB,CAAC,CAC9D,KAAM,CAAA4C,aAAa,CAAG,CAAAD,kBAAkB,SAAlBA,kBAAkB,kBAAAD,qBAAA,CAAlBC,kBAAkB,CAAEzC,IAAI,UAAAwC,qBAAA,iBAAxBA,qBAAA,CAA0BxC,IAAI,IAAIyC,kBAAkB,SAAlBA,kBAAkB,iBAAlBA,kBAAkB,CAAEzC,IAAI,GAAI,EAAE,CAEtF,GAAIC,KAAK,CAACC,OAAO,CAACwC,aAAa,CAAC,EAAIA,aAAa,CAACvC,MAAM,CAAG,CAAC,CAAE,CAC5DV,cAAc,CAAG,CACf,CAAEkB,EAAE,CAAE,KAAK,CAAEG,IAAI,CAAE,gBAAgB,CAAE6B,KAAK,CAAEnD,WAAW,CAACW,MAAO,CAAC,CAChE,GAAGuC,aAAa,CAACtC,GAAG,CAACwC,GAAG,GAAK,CAC3BjC,EAAE,CAAEiC,GAAG,CAACjC,EAAE,EAAIiC,GAAG,CAACC,IAAI,CACtB/B,IAAI,CAAE8B,GAAG,CAAC9B,IAAI,CACd6B,KAAK,CAAEC,GAAG,CAACE,aAAa,EAAI,CAC9B,CAAC,CAAC,CAAC,CACJ,CACDnD,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAEH,cAAc,CAACU,MAAM,CAAC,CACpF,CAAC,IAAM,CACL,KAAM,IAAI,CAAAoC,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CACF,CAAE,MAAOQ,eAAe,CAAE,CACxBpD,OAAO,CAACC,GAAG,CAAC,+EAA+E,CAAC,CAC5FH,cAAc,CAAG,CACf,CAAEkB,EAAE,CAAE,KAAK,CAAEG,IAAI,CAAE,gBAAgB,CAAE6B,KAAK,CAAEnD,WAAW,CAACW,MAAO,CAAC,CAChE,CAAEQ,EAAE,CAAE,oBAAoB,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,GAAG,CAAE,CAAC,CACrG,CAAEQ,EAAE,CAAE,UAAU,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAC5F,CAAEQ,EAAE,CAAE,iBAAiB,CAAEG,IAAI,CAAE,iBAAiB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAChG,CAAEQ,EAAE,CAAE,SAAS,CAAEG,IAAI,CAAE,uBAAuB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,GAAG,CAAE,CAAC,CAC7F,CAAEQ,EAAE,CAAE,QAAQ,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAC1F,CAAEQ,EAAE,CAAE,kBAAkB,CAAEG,IAAI,CAAE,kBAAkB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAClG,CAAEQ,EAAE,CAAE,iBAAiB,CAAEG,IAAI,CAAE,eAAe,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAC9F,CAAEQ,EAAE,CAAE,UAAU,CAAEG,IAAI,CAAE,wBAAwB,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAChG,CAAEQ,EAAE,CAAE,MAAM,CAAEG,IAAI,CAAE,aAAa,CAAE6B,KAAK,CAAEK,IAAI,CAACC,KAAK,CAACzD,WAAW,CAACW,MAAM,CAAG,IAAI,CAAE,CAAC,CAClF,CACH,CAEF,CAAE,MAAO+C,KAAK,CAAE,CACdvD,OAAO,CAACuD,KAAK,CAAC,sDAAsD,CAAC,CACrE;AACA;AACAlE,UAAU,CAAC,EAAE,CAAC,CAAE;AAEhB;AACAS,cAAc,CAAG,CACf,CAAEkB,EAAE,CAAE,KAAK,CAAEG,IAAI,CAAE,gBAAgB,CAAE6B,KAAK,CAAE,CAAE,CAAC,CAC/C,CAAEhC,EAAE,CAAE,SAAS,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAE,CAAE,CAAC,CACvD,CAAEhC,EAAE,CAAE,UAAU,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAE,CAAE,CAAC,CACxD,CAAEhC,EAAE,CAAE,QAAQ,CAAEG,IAAI,CAAE,oBAAoB,CAAE6B,KAAK,CAAE,CAAE,CAAC,CACtD,CAAEhC,EAAE,CAAE,UAAU,CAAEG,IAAI,CAAE,wBAAwB,CAAE6B,KAAK,CAAE,CAAE,CAAC,CAC7D,CACH,CAEAzD,aAAa,CAACO,cAAc,CAAC,CAE7B;AACA,GAAI,CAAA0D,eAAe,CAAG3D,WAAW,CAEjC,GAAIf,gBAAgB,GAAK,KAAK,CAAE,CAC9B0E,eAAe,CAAGA,eAAe,CAACC,MAAM,CAAC/C,MAAM,EAAIA,MAAM,CAACe,QAAQ,GAAK3C,gBAAgB,CAAC,CAC1F,CAEA,GAAIE,WAAW,CAAE,CACfwE,eAAe,CAAGA,eAAe,CAACC,MAAM,CAAC/C,MAAM,EAC7CA,MAAM,CAACO,KAAK,CAACyC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC3E,WAAW,CAAC0E,WAAW,CAAC,CAAC,CAAC,EAC9DhD,MAAM,CAAC+B,OAAO,CAACiB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC3E,WAAW,CAAC0E,WAAW,CAAC,CAAC,CACjE,CAAC,CACH,CAEA;AACA,OAAQxE,MAAM,EACZ,IAAK,QAAQ,CACXsE,eAAe,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACzB,OAAO,CAAC,CAAG,GAAI,CAAA0B,IAAI,CAACF,CAAC,CAACxB,OAAO,CAAC,CAAC,CACzE,MACF,IAAK,SAAS,CACZmB,eAAe,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACpC,OAAO,CAAGmC,CAAC,CAACnC,OAAO,CAAC,CACrD,MACF,IAAK,SAAS,CACZ8B,eAAe,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACpC,OAAO,CAAGmC,CAAC,CAACnC,OAAO,CAAC,CACrD,MACF,IAAK,OAAO,CACV8B,eAAe,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAClC,KAAK,CAAGiC,CAAC,CAACjC,KAAK,CAAC,CACjD,MACF,QACE,MACJ,CAEA;AACA,KAAM,CAAAoC,aAAa,CAAGR,eAAe,CAACC,MAAM,CAACQ,CAAC,EAAIA,CAAC,CAAC3B,MAAM,CAAC,CAC3D,KAAM,CAAA4B,cAAc,CAAGV,eAAe,CAACC,MAAM,CAACQ,CAAC,EAAI,CAACA,CAAC,CAAC3B,MAAM,CAAC,CAC7DkB,eAAe,CAAG,CAAC,GAAGQ,aAAa,CAAE,GAAGE,cAAc,CAAC,CAEvD7E,UAAU,CAACmE,eAAe,CAAC,CAC7B,CAAE,MAAOD,KAAK,CAAE,CACdvD,OAAO,CAACuD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDlE,UAAU,CAAC,EAAE,CAAC,CAAE;AAClB,CAAC,OAAS,CACRI,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACX,gBAAgB,CAAEE,WAAW,CAAEE,MAAM,CAAEL,GAAG,CAAC,CAAC,CAEhD;AACA,KAAM,CAAAqD,aAAa,CAAIiC,UAAU,EAAK,CACpC,GAAI,CAACA,UAAU,CAAE,MAAO,UAAU,CAElC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAL,IAAI,CAACI,UAAU,CAAC,CAEjC;AACA,GAAIE,KAAK,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAAE,CACzBtE,OAAO,CAACuE,IAAI,CAAC,sBAAsB,CAAEJ,UAAU,CAAC,CAChD,MAAO,UAAU,CACnB,CAEA,KAAM,CAAAK,GAAG,CAAG,GAAI,CAAAT,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAU,MAAM,CAAGD,GAAG,CAAGJ,IAAI,CAEzB;AACA,GAAIK,MAAM,CAAG,CAAC,CAAE,CACd,MAAO,UAAU,CACnB,CAEA,KAAM,CAAAC,QAAQ,CAAGrB,IAAI,CAACC,KAAK,CAACmB,MAAM,CAAG,KAAK,CAAC,CAC3C,KAAM,CAAAE,SAAS,CAAGtB,IAAI,CAACC,KAAK,CAACmB,MAAM,CAAG,OAAO,CAAC,CAC9C,KAAM,CAAAG,QAAQ,CAAGvB,IAAI,CAACC,KAAK,CAACmB,MAAM,CAAG,QAAQ,CAAC,CAC9C,KAAM,CAAAI,SAAS,CAAGxB,IAAI,CAACC,KAAK,CAACsB,QAAQ,CAAG,CAAC,CAAC,CAC1C,KAAM,CAAAE,UAAU,CAAGzB,IAAI,CAACC,KAAK,CAACsB,QAAQ,CAAG,EAAE,CAAC,CAE5C,GAAIF,QAAQ,CAAG,CAAC,CAAE,MAAO,UAAU,CACnC,GAAIA,QAAQ,CAAG,EAAE,CAAE,SAAAK,MAAA,CAAUL,QAAQ,UACrC,GAAIC,SAAS,CAAG,EAAE,CAAE,SAAAI,MAAA,CAAUJ,SAAS,UACvC,GAAIC,QAAQ,CAAG,CAAC,CAAE,SAAAG,MAAA,CAAUH,QAAQ,UACpC,GAAIC,SAAS,CAAG,CAAC,CAAE,SAAAE,MAAA,CAAUF,SAAS,UACtC,GAAIC,UAAU,CAAG,EAAE,CAAE,SAAAC,MAAA,CAAUD,UAAU,WAEzC;AACA,MAAO,CAAAV,IAAI,CAACY,kBAAkB,CAAC,OAAO,CAAE,CACtCC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAEf,IAAI,CAACgB,WAAW,CAAC,CAAC,GAAKZ,GAAG,CAACY,WAAW,CAAC,CAAC,CAAG,SAAS,CAAGC,SAC/D,CAAC,CAAC,CACJ,CAAC,CAIDrH,SAAS,CAAC,IAAM,CACd4B,cAAc,CAAC,CAAC,CAEhB;AACA,KAAM,CAAA0F,oBAAoB,CAAGA,CAAA,GAAM,CACjCtF,OAAO,CAACC,GAAG,CAAC,6DAA6D,CAAC,CAC1EL,cAAc,CAAC,CAAC,CAClB,CAAC,CAED;AACA2F,MAAM,CAACC,gBAAgB,CAAC,uBAAuB,CAAEF,oBAAoB,CAAC,CAEtE;AACA,KAAM,CAAAG,eAAe,CAAGC,WAAW,CAAC,IAAM,CACxC9F,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,KAAK,CAAC,CAAE;AAEX,MAAO,IAAM,CACX2F,MAAM,CAACI,mBAAmB,CAAC,uBAAuB,CAAEL,oBAAoB,CAAC,CACzEM,aAAa,CAACH,eAAe,CAAC,CAChC,CAAC,CACH,CAAC,CAAE,CAAC7F,cAAc,CAAC,CAAC,CAEpB;AACA5B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6H,sBAAsB,CAAGA,CAAA,GAAM,CACnC7F,OAAO,CAACC,GAAG,CAAC,6DAA6D,CAAC,CAC1EL,cAAc,CAAC,CAAC,CAClB,CAAC,CAED2F,MAAM,CAACC,gBAAgB,CAAC,qBAAqB,CAAEK,sBAAsB,CAAC,CAEtE,MAAO,IAAM,CACXN,MAAM,CAACI,mBAAmB,CAAC,qBAAqB,CAAEE,sBAAsB,CAAC,CAC3E,CAAC,CACH,CAAC,CAAE,CAACjG,cAAc,CAAC,CAAC,CAEpB;AACA,KAAM,CAAAkG,iBAAiB,CAAGA,CAAA,GAAM,CAC9B9F,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC,CACpDN,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,CAED;AACA,KAAM,CAAAoG,iBAAiB,CAAIC,QAAQ,EAAK,CACtChG,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAE+F,QAAQ,CAAC,CAC1E,GAAIvH,UAAU,EAAI,MAAO,CAAAA,UAAU,GAAK,UAAU,CAAE,CAClDA,UAAU,CAAC,eAAe,CAAE,CAAEuC,EAAE,CAAEgF,QAAS,CAAC,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAIvH,eAAe,CAAE,CACnB,GAAID,UAAU,EAAI,MAAO,CAAAA,UAAU,GAAK,UAAU,CAAE,CAClDA,UAAU,CAAC,eAAe,CAAC,CAC7B,CACF,CAAC,IAAM,CACLqH,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAI7E,IAAI,EAAK,CAC7B,OAAQA,IAAI,EACV,IAAK,OAAO,CAAE,MAAO,gCAAgC,CACrD,IAAK,WAAW,CAAE,MAAO,sCAAsC,CAC/D,QAAS,MAAO,kCAAkC,CACpD,CACF,CAAC,CAED,KAAM,CAAA8E,cAAc,CAAI9E,IAAI,EAAK,CAC/B,OAAQA,IAAI,EACV,IAAK,OAAO,CAAE,MAAO,KAAK,CAC1B,IAAK,WAAW,CAAE,MAAO,KAAK,CAC9B,QAAS,MAAO,EAAE,CACpB,CACF,CAAC,CAED;AACA,KAAM,CAAA+E,cAAc,CAAIC,WAAW,EAAK,CACtC,KAAM,CAAAC,OAAO,CAAG,CACd,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MAAM,CACZ,IAAI,CAAE,MACR,CAAC,CACD,MAAO,CAAAA,OAAO,CAACD,WAAW,CAAC,EAAI,IAAI,CACrC,CAAC,CAED;AACA,KAAM,CAAAE,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAI,CAAC7G,aAAa,CAAE,MAAO,KAAI,CAE/B,mBACEpB,KAAA,QAAKkI,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtErI,IAAA,QACEoI,SAAS,CAAC,+CAA+C,CACzDE,OAAO,CAAEA,CAAA,GAAM/G,gBAAgB,CAAC,KAAK,CAAE,CACxC,CAAC,cACFvB,IAAA,QAAKoI,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5CrI,IAAA,QAAKoI,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBnI,KAAA,QAAKkI,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrI,IAAA,OAAIoI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,+BAErE,CAAI,CAAC,cACLrI,IAAA,MAAGoI,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,sEAErD,CAAG,CAAC,cAEJnI,KAAA,QAAKkI,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrI,IAAA,WACEsI,OAAO,CAAEA,CAAA,GAAM,CACb/G,gBAAgB,CAAC,KAAK,CAAC,CACvB4F,MAAM,CAACoB,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,sBAAsB,CAAC,CAAC,CAC/D,CAAE,CACFJ,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAC9F,gCAED,CAAQ,CAAC,cAETrI,IAAA,WACEsI,OAAO,CAAEA,CAAA,GAAM/G,gBAAgB,CAAC,KAAK,CAAE,CACvC6G,SAAS,CAAC,iKAAiK,CAAAC,QAAA,CAC5K,mBAED,CAAQ,CAAC,EACN,CAAC,cAENrI,IAAA,QAAKoI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,sDAE/D,CAAK,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,mBACEnI,KAAA,QAAKkI,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CrI,IAAA,CAACmI,eAAe,GAAE,CAAC,cAGnBjI,KAAA,QAAKkI,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDrI,IAAA,OAAIoI,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cAG5EnI,KAAA,QAAKkI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CrI,IAAA,WACEsI,OAAO,CAAET,kBAAmB,CAC5BO,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CAE/F/H,eAAe,CAAG,UAAU,CAAG,iBAAiB,CAC3C,CAAC,CAGR,CAACC,OAAO,CAAC,CAAC,EAAIC,WAAW,CAAC,CAAC,gBAC1BR,IAAA,WACEsI,OAAO,CAAEA,CAAA,GAAMjI,UAAU,EAAIA,UAAU,CAAC,cAAc,CAAE,CACxD+H,SAAS,CAAC,wFAAwF,CAAAC,QAAA,CACnG,UAED,CAAQ,CACT,EACE,CAAC,EACH,CAAC,cAGNrI,IAAA,QAAKoI,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBrI,IAAA,QAAKoI,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBrI,IAAA,QAAKoI,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClCnH,UAAU,CAACmB,GAAG,CAACgB,QAAQ,eACtBnD,KAAA,WAEEoI,OAAO,CAAEA,CAAA,GAAM3H,mBAAmB,CAAC0C,QAAQ,CAACT,EAAE,CAAE,CAChDwF,SAAS,8DAAAzB,MAAA,CACPjG,gBAAgB,GAAK2C,QAAQ,CAACT,EAAE,CAC5B,uBAAuB,CACvB,wGAAwG,CAC3G,CAAAyF,QAAA,EAEFhF,QAAQ,CAACN,IAAI,cACd7C,KAAA,SAAMkI,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,GAAC,CAAChF,QAAQ,CAACuB,KAAK,EAAI,CAAC,CAAC,GAAC,EAAM,CAAC,GATnEvB,QAAQ,CAACT,EAUR,CACT,CAAC,CACC,CAAC,CACH,CAAC,CACH,CAAC,cAGN1C,KAAA,QAAKkI,SAAS,CAAC,MAAM,CAAAC,QAAA,eAEnBrI,IAAA,QAAKoI,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChEnI,KAAA,QAAKkI,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CrI,IAAA,QAAKoI,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBrI,IAAA,UACEyI,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAE/H,WAAY,CACnBgI,QAAQ,CAAGC,CAAC,EAAKhI,cAAc,CAACgI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDP,SAAS,CAAC,uLAAuL,CAClM,CAAC,CACC,CAAC,cAGNlI,KAAA,QAAKkI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CrI,IAAA,UAAOoI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cACxFnI,KAAA,WACEyI,KAAK,CAAE7H,MAAO,CACd8H,QAAQ,CAAGC,CAAC,EAAK9H,SAAS,CAAC8H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CP,SAAS,CAAC,iIAAiI,CAAAC,QAAA,eAE3IrI,IAAA,WAAQ2I,KAAK,CAAC,QAAQ,CAAAN,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCrI,IAAA,WAAQ2I,KAAK,CAAC,SAAS,CAAAN,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCrI,IAAA,WAAQ2I,KAAK,CAAC,SAAS,CAAAN,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC7CrI,IAAA,WAAQ2I,KAAK,CAAC,OAAO,CAAAN,QAAA,CAAC,YAAU,CAAQ,CAAC,EACnC,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,cAGNrI,IAAA,QAAKoI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC3DjH,OAAO,cACNpB,IAAA,QAAKoI,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BrI,IAAA,QAAKoI,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kBAAgB,CAAK,CAAC,CACrE,CAAC,CACJrH,OAAO,CAACoB,MAAM,GAAK,CAAC,cACtBlC,KAAA,QAAKkI,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BrI,IAAA,QAAKoI,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACtCrI,IAAA,OAAIoI,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC5FrI,IAAA,MAAGoI,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACjDzH,WAAW,CAAG,oCAAoC,CAAG,qCAAqC,CAC1F,CAAC,cACJZ,IAAA,WACEsI,OAAO,CAAET,kBAAmB,CAC5BO,SAAS,CAAC,oFAAoF,CAAAC,QAAA,CAE7F/H,eAAe,CAAG,mBAAmB,CAAG,wBAAwB,CAC3D,CAAC,EACN,CAAC,CAENU,OAAO,CAACqB,GAAG,CAACC,MAAM,eAChBtC,IAAA,QAEEoI,SAAS,CAAC,8FAA8F,CACxGE,OAAO,CAAEA,CAAA,GAAMX,iBAAiB,CAACrF,MAAM,CAACM,EAAE,CAAE,CAAAyF,QAAA,cAE5CnI,KAAA,QAAKkI,SAAS,CAAC,8EAA8E,CAAAC,QAAA,eAC3FnI,KAAA,QAAKkI,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BnI,KAAA,QAAKkI,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EACxD/F,MAAM,CAAC4B,MAAM,eACZlE,IAAA,SAAMoI,SAAS,CAAC,gHAAgH,CAAAC,QAAA,CAAC,QAEjI,CAAM,CACP,CACA/F,MAAM,CAAC8B,QAAQ,eACdpE,IAAA,SAAMoI,SAAS,CAAC,oGAAoG,CAAAC,QAAA,CAAC,UAErH,CAAM,CACP,CACA/F,MAAM,CAAC6B,MAAM,eACZnE,IAAA,SAAMoI,SAAS,CAAC,qGAAqG,CAAAC,QAAA,CAAC,QAEtH,CAAM,CACP,EACE,CAAC,cAGNrI,IAAA,OAAIoI,SAAS,CAAC,iJAAiJ,CAAAC,QAAA,CAC5J/F,MAAM,CAACO,KAAK,CACX,CAAC,cAGL7C,IAAA,MAAGoI,SAAS,CAAC,4EAA4E,CAAAC,QAAA,CACtF/F,MAAM,CAAC+B,OAAO,CACd,CAAC,cAGJnE,KAAA,QAAKkI,SAAS,CAAC,8HAA8H,CAAAC,QAAA,eAC3InI,KAAA,QAAKkI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1CrI,IAAA,SAAMoI,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEL,cAAc,CAAC1F,MAAM,CAACQ,MAAM,CAACI,OAAO,CAAC,CAAO,CAAC,cAGxElD,IAAA,SAAMoI,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAE/F,MAAM,CAACQ,MAAM,CAACC,IAAI,CAAO,CAAC,CAGzFT,MAAM,CAACQ,MAAM,CAACG,IAAI,GAAK,MAAM,eAC5BjD,IAAA,SAAMoI,SAAS,cAAAzB,MAAA,CAAemB,YAAY,CAACxF,MAAM,CAACQ,MAAM,CAACG,IAAI,CAAC,CAAG,CAAAoF,QAAA,CAC9DN,cAAc,CAACzF,MAAM,CAACQ,MAAM,CAACG,IAAI,CAAC,CAC/B,CACP,CAGAX,MAAM,CAACQ,MAAM,CAACK,SAAS,eACtBnD,IAAA,SAAMoI,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CAC1G/F,MAAM,CAACQ,MAAM,CAACK,SAAS,CAACJ,IAAI,CACzB,CACP,cAED/C,IAAA,SAAAqI,QAAA,CAAM,QAAC,CAAM,CAAC,cACdrI,IAAA,SAAAqI,QAAA,CAAOvE,aAAa,CAACxB,MAAM,CAAC2B,OAAO,CAAC,CAAO,CAAC,EACzC,CAAC,cAEN/D,KAAA,QAAKkI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CnI,KAAA,SAAMkI,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAE/F,MAAM,CAACgB,OAAO,CAAC,UAAQ,EAAM,CAAC,cAC9FpD,KAAA,SAAMkI,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAE/F,MAAM,CAACkB,KAAK,CAACuF,cAAc,CAAC,CAAC,CAAC,QAAM,EAAM,CAAC,EAC5E,CAAC,EACH,CAAC,cAGN7I,KAAA,QAAKkI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,EAAC,gBAC/C,cAAArI,IAAA,SAAMoI,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAE/F,MAAM,CAACoB,SAAS,CAACC,IAAI,CAAO,CAAC,WAAG,CAACrB,MAAM,CAACoB,SAAS,CAACG,SAAS,EACtI,CAAC,EACH,CAAC,cAGN7D,IAAA,QAAKoI,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CrI,IAAA,WACEsI,OAAO,CAAGO,CAAC,EAAK,CACdA,CAAC,CAACG,eAAe,CAAC,CAAC,CACnB,GAAI,CAAC1I,eAAe,CAAE,CACpBoH,iBAAiB,CAAC,CAAC,CACrB,CAAC,IAAM,CACLC,iBAAiB,CAACrF,MAAM,CAACM,EAAE,CAAC,CAC9B,CACF,CAAE,CACFwF,SAAS,CAAC,4LAA4L,CAAAC,QAAA,CACvM,OAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,EA1FD/F,MAAM,CAACM,EA2FT,CACN,CACF,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAzC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}