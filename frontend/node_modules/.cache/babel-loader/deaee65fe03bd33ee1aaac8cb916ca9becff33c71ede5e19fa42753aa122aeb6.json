{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{TeamLogo,PlayerAvatar}from'../../utils/imageUtils';import{getMatchById}from'../../data/matchesData';import{REAL_TEAMS,getTeamById,getRandomTeams,getRandomTournament,getCountryFlag}from'../../data/realTeams';import{getRealPlayersForTeam}from'../../data/realPlayersMapping';// HERO IMAGE UTILITY - Convert hero name to image path\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getHeroImage=heroName=>{if(!heroName)return null;// Convert hero name to image filename format\nconst heroMapping={'Adam Warlock':'adam-warlock-headbig.webp','Black Panther':'black-panther-headbig.webp','Black Widow':'black-widow-headbig.webp','Bruce Banner':'bruce-banner-headbig.webp','Captain America':'captain-america-headbig.webp','Cloak & Dagger':'cloak-dagger-headbig.webp','Doctor Strange':'doctor-strange-headbig.webp','Emma Frost':'emma-frost-headbig.webp','Groot':'groot-headbig.webp','Hawkeye':'hawkeye-headbig.webp','Hela':'hela-headbig.webp','Human Torch':'human-torch-headbig.webp','Invisible Woman':'invisible-woman-headbig.webp','Iron Fist':'iron-fist-headbig.webp','Iron Man':'iron-man-headbig.webp','Jeff the Land Shark':'jeff-the-land-shark-headbig.webp','Loki':'loki-headbig.webp','Luna Snow':'luna-snow-headbig.webp','Magik':'magik-headbig.webp','Magneto':'magneto-headbig.webp','Mantis':'mantis-headbig.webp','Mister Fantastic':'mister-fantastic-headbig.webp','Moon Knight':'moon-knight-headbig.webp','Namor':'namor-headbig.webp','Peni Parker':'peni-parker-headbig.webp','Psylocke':'psylocke-headbig.webp','Rocket Raccoon':'rocket-raccoon-headbig.webp','Scarlet Witch':'scarlet-witch-headbig.webp','Spider-Man':'spider-man-headbig.webp','Squirrel Girl':'squirrel-girl-headbig.webp','Star-Lord':'star-lord-headbig.webp','Storm':'storm-headbig.webp','The Punisher':'the-punisher-headbig.webp','The Thing':'the-thing-headbig.webp','Thor':'thor-headbig.webp','Ultron':'ultron-headbig.webp','Venom':'venom-headbig.webp'};return heroMapping[heroName]||null;};function MatchDetailPage(_ref){let{params,navigateTo}=_ref;const[match,setMatch]=useState(null);const[activeMap,setActiveMap]=useState(0);const[loading,setLoading]=useState(true);const[realPlayersLoaded,setRealPlayersLoaded]=useState(false);// PHASE 4: MATCH COMMENTS SYSTEM STATE\nconst[comments,setComments]=useState([]);const[commentsLoading,setCommentsLoading]=useState(false);const[newComment,setNewComment]=useState('');const[submittingComment,setSubmittingComment]=useState(false);const{api,user,isAuthenticated}=useAuth();const matchId=params===null||params===void 0?void 0:params.id;console.log('üîç MatchDetailPage - Received match ID:',matchId);useEffect(()=>{if(matchId){initializeMatchData();fetchComments();// PHASE 4: Load comments when match loads\n}},[matchId]);// PHASE 4: FETCH MATCH COMMENTS\nconst fetchComments=async()=>{if(!matchId)return;try{setCommentsLoading(true);console.log('üí¨ Fetching comments for match:',matchId);const response=await api.get(\"/matches/\".concat(matchId,\"/comments\"));const commentsData=response.data||response||[];setComments(commentsData);console.log('‚úÖ Comments loaded:',commentsData.length);}catch(error){console.error('‚ùå Error fetching comments:',error);// Set fallback comments for demonstration\nsetComments([{id:1,content:\"Amazing match! TenZ playing incredibly well.\",user_name:\"Marvel_Fan_2025\",user_avatar:\"üéÆ\",created_at:\"2025-06-12 22:27:52\"},{id:2,content:\"These live updates are so good! Love the real-time scoring.\",user_name:\"ESports_Watcher\",user_avatar:\"üëÅÔ∏è\",created_at:\"2025-06-12 22:28:15\"}]);}finally{setCommentsLoading(false);}};// PHASE 4: SUBMIT NEW COMMENT\nconst submitComment=async()=>{if(!newComment.trim()||!isAuthenticated)return;try{setSubmittingComment(true);console.log('üí¨ Submitting comment:',newComment);const commentData={content:newComment.trim()};const response=await api.post(\"/matches/\".concat(matchId,\"/comments\"),commentData);const newCommentResponse=response.data||response;// Add new comment to list\nsetComments(prev=>[newCommentResponse,...prev]);setNewComment('');console.log('‚úÖ Comment submitted successfully');}catch(error){console.error('‚ùå Error submitting comment:',error);// For demo purposes, add comment locally\nconst demoComment={id:Date.now(),content:newComment.trim(),user_name:(user===null||user===void 0?void 0:user.name)||'Anonymous',user_avatar:\"ü¶∏\",created_at:new Date().toISOString()};setComments(prev=>[demoComment,...prev]);setNewComment('');alert('Comment added (demo mode)');}finally{setSubmittingComment(false);}};// PHASE 4: DELETE COMMENT (Admin/Moderator only)\nconst deleteComment=async commentId=>{try{console.log('üóëÔ∏è Deleting comment:',commentId);await api.delete(\"/matches/\".concat(matchId,\"/comments/\").concat(commentId));// Remove comment from list\nsetComments(prev=>prev.filter(c=>c.id!==commentId));console.log('‚úÖ Comment deleted successfully');}catch(error){console.error('‚ùå Error deleting comment:',error);alert('Failed to delete comment. Please try again.');}};const initializeMatchData=async()=>{try{setLoading(true);console.log('üîÑ MatchDetailPage: Initializing match data for ID:',matchId);// Direct fetch match data (no more API dependency for players)\nawait fetchMatchData();}catch(error){console.error('‚ùå Error initializing match data:',error);await fetchMatchData();}};const fetchMatchData=async()=>{try{console.log('üîÑ MatchDetailPage: Fetching match data for ID:',matchId);// First try to get from centralized data\nconst centralMatch=getMatchById(matchId);if(centralMatch){console.log('‚úÖ MatchDetailPage: Using centralized match data:',centralMatch);const transformedMatch=await transformMatchData(centralMatch);setMatch(transformedMatch);return;}// Try to fetch real match data from API\ntry{const response=await api.get(\"/matches/\".concat(matchId));let matchData=response.data||response;console.log('‚úÖ Real match data received:',matchData);// Transform backend data to frontend format\nconst transformedMatch=await transformMatchData(matchData);setMatch(transformedMatch);}catch(error){console.error('‚ùå Error fetching match data from API:',error);// Fallback: try to find a match from centralized data\nconst fallbackMatch=getMatchById(1);// Default to first match\nif(fallbackMatch){console.log('‚ö†Ô∏è Using fallback centralized match data');const transformedMatch=await transformMatchData(fallbackMatch);setMatch(transformedMatch);}else{setMatch(null);}}}catch(error){console.error('‚ùå Error in fetchMatchData:',error);setMatch(null);}finally{setLoading(false);}};const transformMatchData=async matchData=>{var _matchData$event,_matchData$event2;// If this is already from centralized data, return as is with maps\nif(matchData.team1&&matchData.team2&&matchData.team1.name){return _objectSpread(_objectSpread({},matchData),{},{maps:generateMapData(matchData.team1,matchData.team2)});}// Otherwise use real teams from our data\nconst team1=getTeamById(matchData.team1_id)||getRandomTeams(1)[0];const team2=getTeamById(matchData.team2_id)||getRandomTeams(1)[0];return{id:matchData.id,team1:_objectSpread(_objectSpread({},team1),{},{score:matchData.team1_score||0}),team2:_objectSpread(_objectSpread({},team2),{},{score:matchData.team2_score||0}),status:matchData.status||'completed',event:{name:((_matchData$event=matchData.event)===null||_matchData$event===void 0?void 0:_matchData$event.name)||matchData.event_name||getRandomTournament(),tier:((_matchData$event2=matchData.event)===null||_matchData$event2===void 0?void 0:_matchData$event2.tier)||'S'},date:matchData.match_date||matchData.date,bestOf:matchData.best_of||3,maps:generateMapData(team1,team2),broadcast:{stream:'https://twitch.tv/marvelrivals',vod:'https://youtube.com/watch?v=example'}};};const generateMapData=(team1,team2)=>{const mapPool=['Asgard Throne Room','Wakanda Palace','Sanctum Sanctorum','Tokyo 2099','Klyntar Symbiote World','Midtown Manhattan'];const heroPool=['Iron Man','Spider-Man','Hulk','Black Panther','Doctor Strange','Captain America','Thor','Wolverine','Storm','Magneto','Scarlet Witch','Venom','Groot','Rocket','Star-Lord','Gamora','Mantis','Luna Snow','Galacta','Jeff the Land Shark'];return Array.from({length:3},(_,mapIndex)=>{const team1Won=Math.random()>0.5;const map=mapPool[Math.floor(Math.random()*mapPool.length)];return{name:map,winner:team1Won?team1.id:team2.id,team1Score:team1Won?Math.floor(Math.random()*3+3):Math.floor(Math.random()*3+1),team2Score:team1Won?Math.floor(Math.random()*3+1):Math.floor(Math.random()*3+3),duration:\"\".concat(Math.floor(Math.random()*10+15),\":\").concat(Math.floor(Math.random()*60).toString().padStart(2,'0')),team1Players:generateRealPlayerStats(team1,heroPool),team2Players:generateRealPlayerStats(team2,heroPool)};});};// CRITICAL FIX: Use direct player mapping to fix navigation issue\nconst generateRealPlayerStats=(team,heroPool)=>{const roles=['Tank','Duelist','Support','Duelist','Support','Tank'];console.log(\"\\uD83D\\uDD0D Generating players for team \".concat(team.name,\" (ID: \").concat(team.id,\")\"));// Get real players for this team from direct mapping\nconst realPlayers=getRealPlayersForTeam(team.id);if(realPlayers&&realPlayers.length>0){console.log(\"\\u2705 Found \".concat(realPlayers.length,\" REAL players for team \").concat(team.name,\":\"),realPlayers.map(p=>({id:p.id,name:p.name})));// Use real players with their actual IDs - THIS FIXES THE NAVIGATION!\nreturn realPlayers.slice(0,6).map((player,i)=>({id:player.id,// ‚úÖ REAL PLAYER ID - NAVIGATION WILL WORK!\nname:player.name,hero:player.main_hero||heroPool[Math.floor(Math.random()*heroPool.length)],role:player.role||roles[i]||'Duelist',eliminations:Math.floor(Math.random()*20+5),deaths:Math.floor(Math.random()*15+3),assists:Math.floor(Math.random()*25+5),damage:Math.floor(Math.random()*8000+4000),healing:player.role==='Support'?Math.floor(Math.random()*12000+6000):0,damageBlocked:player.role==='Tank'?Math.floor(Math.random()*8000+5000):0,ultimatesUsed:Math.floor(Math.random()*6+2),country:player.country||'US',teamId:team.id}));}// This should never happen with the direct mapping\nconsole.error(\"\\u274C NO PLAYERS FOUND for team \".concat(team.name,\" (ID: \").concat(team.id,\") - Check realPlayersMapping.js\"));return[];};const getRoleColor=role=>{switch(role){case'Duelist':return'text-red-600 dark:text-red-400';case'Tank':return'text-blue-600 dark:text-blue-400';case'Support':return'text-green-600 dark:text-green-400';default:return'text-gray-600 dark:text-gray-400';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:!realPlayersLoaded?'Loading player data...':'Loading match details...'})]})});}if(!match){return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Match Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"The match you're looking for doesn't exist or may have been removed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('matches'),className:\"btn btn-primary\",children:\"\\u2190 Back to Matches\"})]});}const currentMap=match.maps[activeMap];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-base text-gray-500 dark:text-gray-500 mb-4 scale-[0.85] origin-top-left transform w-[117%]\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('home'),className:\"hover:text-red-600 dark:hover:text-red-400 transition-colors\",children:\"Home\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('matches'),className:\"hover:text-red-600 dark:hover:text-red-400 transition-colors\",children:\"Matches\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900 dark:text-white\",children:[match.team1.short_name,\" vs \",match.team2.short_name]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/10 dark:to-red-800/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:[match.event.name,\" \\u2022 \",new Date(match.date).toLocaleDateString(),\" \\u2022 Best of \",match.bestOf]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(match.status==='live'?'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400':match.status==='completed'?'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400':'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'),children:match.status.toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer hover:scale-105 transition-transform\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:/*#__PURE__*/_jsx(TeamLogo,{team:match.team1,size:\"w-16 h-16\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:match.team1.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:match.team1.short_name})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-5xl font-bold text-gray-900 dark:text-white\",children:[match.team1.score,\" - \",match.team2.score]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:match.team2.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:match.team2.short_name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer hover:scale-105 transition-transform\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:/*#__PURE__*/_jsx(TeamLogo,{team:match.team2,size:\"w-16 h-16\"})})]})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium\",children:\"\\uD83D\\uDCFA Live Stream\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm font-medium\",children:\"\\uD83D\\uDCB0 Bet on this match\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium\",children:\"\\uD83C\\uDFAC Watch VOD\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-red-600 dark:text-red-400 mb-1\",children:currentMap.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(currentMap.winner===match.team1.id?'text-green-600 dark:text-green-400':'text-gray-600 dark:text-gray-400'),children:[match.team1.short_name,\" \",currentMap.team1Score]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 dark:text-gray-500\",children:\"-\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(currentMap.winner===match.team2.id?'text-green-600 dark:text-green-400':'text-gray-600 dark:text-gray-400'),children:[currentMap.team2Score,\" \",match.team2.short_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 dark:text-gray-400 text-sm mt-1\",children:[\"Duration: \",currentMap.duration]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-2\",children:match.maps.map((map,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMap(index),className:\"px-3 py-2 rounded text-xs font-medium transition-colors \".concat(activeMap===index?'bg-red-600 text-white shadow':'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:map.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs opacity-75\",children:[map.team1Score,\" - \",map.team2Score]})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 bg-gray-800 dark:bg-gray-700 text-white font-bold text-xs rounded-t\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:\"Player\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Heroes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"K/D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"DMG\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"HEAL\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"BLK\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-red-600 dark:text-red-400\",children:match.team1.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:currentMap.team1Players.map((player,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\",onClick:()=>{console.log('üîó CRITICAL FIX: Navigating to player profile with REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:getCountryFlag(player.country)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\",onClick:e=>{e.stopPropagation();console.log('üîó CRITICAL FIX: Player name clicked - using REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:player.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-600 dark:bg-gray-700 rounded p-1\",children:[getHeroImage(player.hero)?/*#__PURE__*/_jsx(\"img\",{src:\"/Heroes/\".concat(getHeroImage(player.hero)),alt:player.hero,className:\"w-8 h-8 rounded object-cover\",onError:e=>{// Fallback to text if image fails\ne.target.style.display='none';e.target.nextSibling.style.display='block';}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-xs font-medium px-1 text-center\",style:{display:getHeroImage(player.hero)?'none':'block'},children:player.hero})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.eliminations}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.deaths}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.assists}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:(player.eliminations/Math.max(player.deaths,1)).toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:[(player.damage/1000).toFixed(1),\"k\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.healing>0?\"\".concat((player.healing/1000).toFixed(1),\"k\"):'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.damageBlocked>0?\"\".concat((player.damageBlocked/1000).toFixed(1),\"k\"):'-'})]},player.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",onClick:()=>{console.log('üîó MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-red-600 dark:text-red-400\",children:match.team2.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:currentMap.team2Players.map((player,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\",onClick:()=>{console.log('üîó CRITICAL FIX: Navigating to player profile with REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:getCountryFlag(player.country)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\",onClick:e=>{e.stopPropagation();console.log('üîó CRITICAL FIX: Player name clicked - using REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:player.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-600 dark:bg-gray-700 rounded p-1\",children:[getHeroImage(player.hero)?/*#__PURE__*/_jsx(\"img\",{src:\"/Heroes/\".concat(getHeroImage(player.hero)),alt:player.hero,className:\"w-8 h-8 rounded object-cover\",onError:e=>{// Fallback to text if image fails\ne.target.style.display='none';e.target.nextSibling.style.display='block';}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-xs font-medium px-1 text-center\",style:{display:getHeroImage(player.hero)?'none':'block'},children:player.hero})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.eliminations}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.deaths}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.assists}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:(player.eliminations/Math.max(player.deaths,1)).toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:[(player.damage/1000).toFixed(1),\"k\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.healing>0?\"\".concat((player.healing/1000).toFixed(1),\"k\"):'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.damageBlocked>0?\"\".concat((player.damageBlocked/1000).toFixed(1),\"k\"):'-'})]},player.id))})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Match Comments (\",comments.length,\")\"]})]}),isAuthenticated?/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:(user===null||user===void 0?void 0:user.avatar)||\"ü¶∏\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"Share your thoughts about this match...\",className:\"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none\",rows:\"3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"Posting as \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:submitComment,disabled:!newComment.trim()||submittingComment,className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:submittingComment?'Posting...':'Post Comment'})]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-3\",children:\"Sign in to join the discussion\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal')),className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"Sign In to Comment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:commentsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading comments...\"})}):comments.length>0?comments.map(comment=>{var _user$roles,_user$roles2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:comment.user_avatar||\"üë§\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:comment.user_name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:new Date(comment.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300\",children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-gray-500 hover:text-green-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC4D\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:comment.likes||0})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-gray-500 hover:text-red-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC4E\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:comment.dislikes||0})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-gray-500 hover:text-blue-600 transition-colors\",children:\"Reply\"})]})]}),((user===null||user===void 0?void 0:(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes('admin'))||(user===null||user===void 0?void 0:(_user$roles2=user.roles)===null||_user$roles2===void 0?void 0:_user$roles2.includes('moderator')))&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Are you sure you want to delete this comment?')){deleteComment(comment.id);}},className:\"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 text-sm\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]},comment.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:isAuthenticated?'Be the first to share your thoughts about this match!':'Sign in to be the first to comment on this match!'})]})}),comments.length>0&&comments.length%20===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchComments,className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Load More Comments\"})})]})]})]});}export default MatchDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","TeamLogo","PlayerAvatar","getMatchById","REAL_TEAMS","getTeamById","getRandomTeams","getRandomTournament","getCountryFlag","getRealPlayersForTeam","jsx","_jsx","jsxs","_jsxs","getHeroImage","heroName","heroMapping","MatchDetailPage","_ref","params","navigateTo","match","setMatch","activeMap","setActiveMap","loading","setLoading","realPlayersLoaded","setRealPlayersLoaded","comments","setComments","commentsLoading","setCommentsLoading","newComment","setNewComment","submittingComment","setSubmittingComment","api","user","isAuthenticated","matchId","id","console","log","initializeMatchData","fetchComments","response","get","concat","commentsData","data","length","error","content","user_name","user_avatar","created_at","submitComment","trim","commentData","post","newCommentResponse","prev","demoComment","Date","now","name","toISOString","alert","deleteComment","commentId","delete","filter","c","fetchMatchData","centralMatch","transformedMatch","transformMatchData","matchData","fallbackMatch","_matchData$event","_matchData$event2","team1","team2","_objectSpread","maps","generateMapData","team1_id","team2_id","score","team1_score","team2_score","status","event","event_name","tier","date","match_date","bestOf","best_of","broadcast","stream","vod","mapPool","heroPool","Array","from","_","mapIndex","team1Won","Math","random","map","floor","winner","team1Score","team2Score","duration","toString","padStart","team1Players","generateRealPlayerStats","team2Players","team","roles","realPlayers","p","slice","player","i","hero","main_hero","role","eliminations","deaths","assists","damage","healing","damageBlocked","ultimatesUsed","country","teamId","getRoleColor","className","children","onClick","currentMap","short_name","toLocaleDateString","toUpperCase","size","index","e","stopPropagation","src","alt","onError","target","style","display","nextSibling","max","toFixed","avatar","value","onChange","placeholder","rows","disabled","window","dispatchEvent","CustomEvent","comment","_user$roles","_user$roles2","month","day","hour","minute","likes","dislikes","includes","confirm"],"sources":["/app/frontend/src/components/pages/MatchDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\nimport { TeamLogo, PlayerAvatar } from '../../utils/imageUtils';\nimport { getMatchById } from '../../data/matchesData';\nimport { REAL_TEAMS, getTeamById, getRandomTeams, getRandomTournament, getCountryFlag } from '../../data/realTeams';\nimport { getRealPlayersForTeam } from '../../data/realPlayersMapping';\n\n// HERO IMAGE UTILITY - Convert hero name to image path\nconst getHeroImage = (heroName) => {\n  if (!heroName) return null;\n  \n  // Convert hero name to image filename format\n  const heroMapping = {\n    'Adam Warlock': 'adam-warlock-headbig.webp',\n    'Black Panther': 'black-panther-headbig.webp',\n    'Black Widow': 'black-widow-headbig.webp',\n    'Bruce Banner': 'bruce-banner-headbig.webp',\n    'Captain America': 'captain-america-headbig.webp',\n    'Cloak & Dagger': 'cloak-dagger-headbig.webp',\n    'Doctor Strange': 'doctor-strange-headbig.webp',\n    'Emma Frost': 'emma-frost-headbig.webp',\n    'Groot': 'groot-headbig.webp',\n    'Hawkeye': 'hawkeye-headbig.webp',\n    'Hela': 'hela-headbig.webp',\n    'Human Torch': 'human-torch-headbig.webp',\n    'Invisible Woman': 'invisible-woman-headbig.webp',\n    'Iron Fist': 'iron-fist-headbig.webp',\n    'Iron Man': 'iron-man-headbig.webp',\n    'Jeff the Land Shark': 'jeff-the-land-shark-headbig.webp',\n    'Loki': 'loki-headbig.webp',\n    'Luna Snow': 'luna-snow-headbig.webp',\n    'Magik': 'magik-headbig.webp',\n    'Magneto': 'magneto-headbig.webp',\n    'Mantis': 'mantis-headbig.webp',\n    'Mister Fantastic': 'mister-fantastic-headbig.webp',\n    'Moon Knight': 'moon-knight-headbig.webp',\n    'Namor': 'namor-headbig.webp',\n    'Peni Parker': 'peni-parker-headbig.webp',\n    'Psylocke': 'psylocke-headbig.webp',\n    'Rocket Raccoon': 'rocket-raccoon-headbig.webp',\n    'Scarlet Witch': 'scarlet-witch-headbig.webp',\n    'Spider-Man': 'spider-man-headbig.webp',\n    'Squirrel Girl': 'squirrel-girl-headbig.webp',\n    'Star-Lord': 'star-lord-headbig.webp',\n    'Storm': 'storm-headbig.webp',\n    'The Punisher': 'the-punisher-headbig.webp',\n    'The Thing': 'the-thing-headbig.webp',\n    'Thor': 'thor-headbig.webp',\n    'Ultron': 'ultron-headbig.webp',\n    'Venom': 'venom-headbig.webp'\n  };\n  \n  return heroMapping[heroName] || null;\n};\n\nfunction MatchDetailPage({ params, navigateTo }) {\n  const [match, setMatch] = useState(null);\n  const [activeMap, setActiveMap] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [realPlayersLoaded, setRealPlayersLoaded] = useState(false);\n  \n  // PHASE 4: MATCH COMMENTS SYSTEM STATE\n  const [comments, setComments] = useState([]);\n  const [commentsLoading, setCommentsLoading] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [submittingComment, setSubmittingComment] = useState(false);\n  \n  const { api, user, isAuthenticated } = useAuth();\n\n  const matchId = params?.id;\n\n  console.log('üîç MatchDetailPage - Received match ID:', matchId);\n\n  useEffect(() => {\n    if (matchId) {\n      initializeMatchData();\n      fetchComments(); // PHASE 4: Load comments when match loads\n    }\n  }, [matchId]);\n\n  // PHASE 4: FETCH MATCH COMMENTS\n  const fetchComments = async () => {\n    if (!matchId) return;\n    \n    try {\n      setCommentsLoading(true);\n      console.log('üí¨ Fetching comments for match:', matchId);\n      \n      const response = await api.get(`/matches/${matchId}/comments`);\n      const commentsData = response.data || response || [];\n      \n      setComments(commentsData);\n      console.log('‚úÖ Comments loaded:', commentsData.length);\n    } catch (error) {\n      console.error('‚ùå Error fetching comments:', error);\n      // Set fallback comments for demonstration\n      setComments([\n        {\n          id: 1,\n          content: \"Amazing match! TenZ playing incredibly well.\",\n          user_name: \"Marvel_Fan_2025\",\n          user_avatar: \"üéÆ\",\n          created_at: \"2025-06-12 22:27:52\"\n        },\n        {\n          id: 2,\n          content: \"These live updates are so good! Love the real-time scoring.\",\n          user_name: \"ESports_Watcher\",\n          user_avatar: \"üëÅÔ∏è\",\n          created_at: \"2025-06-12 22:28:15\"\n        }\n      ]);\n    } finally {\n      setCommentsLoading(false);\n    }\n  };\n\n  // PHASE 4: SUBMIT NEW COMMENT\n  const submitComment = async () => {\n    if (!newComment.trim() || !isAuthenticated) return;\n    \n    try {\n      setSubmittingComment(true);\n      console.log('üí¨ Submitting comment:', newComment);\n      \n      const commentData = {\n        content: newComment.trim()\n      };\n      \n      const response = await api.post(`/matches/${matchId}/comments`, commentData);\n      const newCommentResponse = response.data || response;\n      \n      // Add new comment to list\n      setComments(prev => [newCommentResponse, ...prev]);\n      setNewComment('');\n      \n      console.log('‚úÖ Comment submitted successfully');\n    } catch (error) {\n      console.error('‚ùå Error submitting comment:', error);\n      \n      // For demo purposes, add comment locally\n      const demoComment = {\n        id: Date.now(),\n        content: newComment.trim(),\n        user_name: user?.name || 'Anonymous',\n        user_avatar: \"ü¶∏\",\n        created_at: new Date().toISOString()\n      };\n      \n      setComments(prev => [demoComment, ...prev]);\n      setNewComment('');\n      alert('Comment added (demo mode)');\n    } finally {\n      setSubmittingComment(false);\n    }\n  };\n\n  // PHASE 4: DELETE COMMENT (Admin/Moderator only)\n  const deleteComment = async (commentId) => {\n    try {\n      console.log('üóëÔ∏è Deleting comment:', commentId);\n      \n      await api.delete(`/matches/${matchId}/comments/${commentId}`);\n      \n      // Remove comment from list\n      setComments(prev => prev.filter(c => c.id !== commentId));\n      \n      console.log('‚úÖ Comment deleted successfully');\n    } catch (error) {\n      console.error('‚ùå Error deleting comment:', error);\n      alert('Failed to delete comment. Please try again.');\n    }\n  };\n\n  const initializeMatchData = async () => {\n    try {\n      setLoading(true);\n      console.log('üîÑ MatchDetailPage: Initializing match data for ID:', matchId);\n      \n      // Direct fetch match data (no more API dependency for players)\n      await fetchMatchData();\n    } catch (error) {\n      console.error('‚ùå Error initializing match data:', error);\n      await fetchMatchData();\n    }\n  };\n\n  const fetchMatchData = async () => {\n    try {\n      console.log('üîÑ MatchDetailPage: Fetching match data for ID:', matchId);\n      \n      // First try to get from centralized data\n      const centralMatch = getMatchById(matchId);\n      \n      if (centralMatch) {\n        console.log('‚úÖ MatchDetailPage: Using centralized match data:', centralMatch);\n        const transformedMatch = await transformMatchData(centralMatch);\n        setMatch(transformedMatch);\n        return;\n      }\n      \n      // Try to fetch real match data from API\n      try {\n        const response = await api.get(`/matches/${matchId}`);\n        let matchData = response.data || response;\n        console.log('‚úÖ Real match data received:', matchData);\n        \n        // Transform backend data to frontend format\n        const transformedMatch = await transformMatchData(matchData);\n        setMatch(transformedMatch);\n      } catch (error) {\n        console.error('‚ùå Error fetching match data from API:', error);\n        \n        // Fallback: try to find a match from centralized data\n        const fallbackMatch = getMatchById(1); // Default to first match\n        if (fallbackMatch) {\n          console.log('‚ö†Ô∏è Using fallback centralized match data');\n          const transformedMatch = await transformMatchData(fallbackMatch);\n          setMatch(transformedMatch);\n        } else {\n          setMatch(null);\n        }\n      }\n    } catch (error) {\n      console.error('‚ùå Error in fetchMatchData:', error);\n      setMatch(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const transformMatchData = async (matchData) => {\n    // If this is already from centralized data, return as is with maps\n    if (matchData.team1 && matchData.team2 && matchData.team1.name) {\n      return {\n        ...matchData,\n        maps: generateMapData(matchData.team1, matchData.team2)\n      };\n    }\n\n    // Otherwise use real teams from our data\n    const team1 = getTeamById(matchData.team1_id) || getRandomTeams(1)[0];\n    const team2 = getTeamById(matchData.team2_id) || getRandomTeams(1)[0];\n\n    return {\n      id: matchData.id,\n      team1: { ...team1, score: matchData.team1_score || 0 },\n      team2: { ...team2, score: matchData.team2_score || 0 },\n      status: matchData.status || 'completed',\n      event: {\n        name: matchData.event?.name || matchData.event_name || getRandomTournament(),\n        tier: matchData.event?.tier || 'S'\n      },\n      date: matchData.match_date || matchData.date,\n      bestOf: matchData.best_of || 3,\n      maps: generateMapData(team1, team2),\n      broadcast: {\n        stream: 'https://twitch.tv/marvelrivals',\n        vod: 'https://youtube.com/watch?v=example'\n      }\n    };\n  };\n\n  const generateMapData = (team1, team2) => {\n    const mapPool = [\n      'Asgard Throne Room',\n      'Wakanda Palace',\n      'Sanctum Sanctorum',\n      'Tokyo 2099',\n      'Klyntar Symbiote World',\n      'Midtown Manhattan'\n    ];\n\n    const heroPool = [\n      'Iron Man', 'Spider-Man', 'Hulk', 'Black Panther', 'Doctor Strange', 'Captain America',\n      'Thor', 'Wolverine', 'Storm', 'Magneto', 'Scarlet Witch', 'Venom', 'Groot', 'Rocket',\n      'Star-Lord', 'Gamora', 'Mantis', 'Luna Snow', 'Galacta', 'Jeff the Land Shark'\n    ];\n\n    return Array.from({ length: 3 }, (_, mapIndex) => {\n      const team1Won = Math.random() > 0.5;\n      const map = mapPool[Math.floor(Math.random() * mapPool.length)];\n      \n      return {\n        name: map,\n        winner: team1Won ? team1.id : team2.id,\n        team1Score: team1Won ? Math.floor(Math.random() * 3 + 3) : Math.floor(Math.random() * 3 + 1),\n        team2Score: team1Won ? Math.floor(Math.random() * 3 + 1) : Math.floor(Math.random() * 3 + 3),\n        duration: `${Math.floor(Math.random() * 10 + 15)}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`,\n        team1Players: generateRealPlayerStats(team1, heroPool),\n        team2Players: generateRealPlayerStats(team2, heroPool)\n      };\n    });\n  };\n\n  // CRITICAL FIX: Use direct player mapping to fix navigation issue\n  const generateRealPlayerStats = (team, heroPool) => {\n    const roles = ['Tank', 'Duelist', 'Support', 'Duelist', 'Support', 'Tank'];\n    \n    console.log(`üîç Generating players for team ${team.name} (ID: ${team.id})`);\n    \n    // Get real players for this team from direct mapping\n    const realPlayers = getRealPlayersForTeam(team.id);\n    \n    if (realPlayers && realPlayers.length > 0) {\n      console.log(`‚úÖ Found ${realPlayers.length} REAL players for team ${team.name}:`, realPlayers.map(p => ({ id: p.id, name: p.name })));\n      \n      // Use real players with their actual IDs - THIS FIXES THE NAVIGATION!\n      return realPlayers.slice(0, 6).map((player, i) => ({\n        id: player.id, // ‚úÖ REAL PLAYER ID - NAVIGATION WILL WORK!\n        name: player.name,\n        hero: player.main_hero || heroPool[Math.floor(Math.random() * heroPool.length)],\n        role: player.role || roles[i] || 'Duelist',\n        eliminations: Math.floor(Math.random() * 20 + 5),\n        deaths: Math.floor(Math.random() * 15 + 3),\n        assists: Math.floor(Math.random() * 25 + 5),\n        damage: Math.floor(Math.random() * 8000 + 4000),\n        healing: player.role === 'Support' ? Math.floor(Math.random() * 12000 + 6000) : 0,\n        damageBlocked: player.role === 'Tank' ? Math.floor(Math.random() * 8000 + 5000) : 0,\n        ultimatesUsed: Math.floor(Math.random() * 6 + 2),\n        country: player.country || 'US',\n        teamId: team.id\n      }));\n    }\n    \n    // This should never happen with the direct mapping\n    console.error(`‚ùå NO PLAYERS FOUND for team ${team.name} (ID: ${team.id}) - Check realPlayersMapping.js`);\n    \n    return [];\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case 'Duelist': return 'text-red-600 dark:text-red-400';\n      case 'Tank': return 'text-blue-600 dark:text-blue-400';\n      case 'Support': return 'text-green-600 dark:text-green-400';\n      default: return 'text-gray-600 dark:text-gray-400';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">\n            {!realPlayersLoaded ? 'Loading player data...' : 'Loading match details...'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!match) {\n    return (\n      <div className=\"card p-12 text-center\">\n        <div className=\"text-6xl mb-4\">üîç</div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Match Not Found</h2>\n        <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n          The match you're looking for doesn't exist or may have been removed.\n        </p>\n        <button onClick={() => navigateTo('matches')} className=\"btn btn-primary\">\n          ‚Üê Back to Matches\n        </button>\n      </div>\n    );\n  }\n\n  const currentMap = match.maps[activeMap];\n\n  return (\n    <div className=\"space-y-4 text-sm\">\n      {/* Breadcrumb - BIGGER - Left aligned */}\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center space-x-2 text-base text-gray-500 dark:text-gray-500 mb-4 scale-[0.85] origin-top-left transform w-[117%]\">\n          <button \n            onClick={() => navigateTo('home')}\n            className=\"hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n          >\n            Home\n          </button>\n          <span>‚Ä∫</span>\n          <button \n            onClick={() => navigateTo('matches')}\n            className=\"hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n          >\n            Matches\n          </button>\n          <span>‚Ä∫</span>\n          <span className=\"text-gray-900 dark:text-white\">{match.team1.short_name} vs {match.team2.short_name}</span>\n        </div>\n      </div>\n\n      {/* Main Content - Centered */}\n      <div className=\"max-w-6xl mx-auto space-y-4\">\n\n        {/* VLR.gg Style Match Header - COMPACT */}\n        <div className=\"card\">\n          {/* Match Header */}\n          <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/10 dark:to-red-800/10\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              {match.event.name} ‚Ä¢ {new Date(match.date).toLocaleDateString()} ‚Ä¢ Best of {match.bestOf}\n            </div>\n            <div className={`px-2 py-1 rounded text-xs font-medium ${\n              match.status === 'live' \n                ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400'\n                : match.status === 'completed'\n                ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n                : 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'\n            }`}>\n              {match.status.toUpperCase()}\n            </div>\n          </div>\n          \n          {/* Teams Display - COMPACT */}\n          <div className=\"flex items-center justify-center\">\n            <div className=\"flex items-center space-x-6\">\n              {/* Team 1 - CLICKABLE */}\n              <div className=\"text-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div \n                    className=\"cursor-pointer hover:scale-105 transition-transform\"\n                    onClick={() => {\n                      console.log('üîó MatchDetailPage: Navigating to team profile:', match.team1.name);\n                      navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                    }}\n                  >\n                    <TeamLogo team={match.team1} size=\"w-16 h-16\" />\n                  </div>\n                  <div>\n                    <div \n                      className=\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\"\n                      onClick={() => {\n                        console.log('üîó MatchDetailPage: Navigating to team profile:', match.team1.name);\n                        navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                      }}\n                    >\n                      {match.team1.name}\n                    </div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{match.team1.short_name}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Score - COMPACT */}\n              <div className=\"text-center px-8\">\n                <div className=\"text-5xl font-bold text-gray-900 dark:text-white\">\n                  {match.team1.score} - {match.team2.score}\n                </div>\n              </div>\n\n              {/* Team 2 - CLICKABLE */}\n              <div className=\"text-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"text-right\">\n                    <div \n                      className=\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\"\n                      onClick={() => {\n                        console.log('üîó MatchDetailPage: Navigating to team profile:', match.team2.name);\n                        navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                      }}\n                    >\n                      {match.team2.name}\n                    </div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{match.team2.short_name}</div>\n                  </div>\n                  <div \n                    className=\"cursor-pointer hover:scale-105 transition-transform\"\n                    onClick={() => {\n                      console.log('üîó MatchDetailPage: Navigating to team profile:', match.team2.name);\n                      navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                    }}\n                  >\n                    <TeamLogo team={match.team2} size=\"w-16 h-16\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Watch Box - Moved to VLR.gg Position */}\n        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800\">\n          <div className=\"flex items-center justify-center space-x-4\">\n            <button className=\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium\">\n              üì∫ Live Stream\n            </button>\n            <button className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm font-medium\">\n              üí∞ Bet on this match\n            </button>\n            <button className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium\">\n              üé¨ Watch VOD\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* VLR.gg Style Match Stats - COMPACT & IMPROVED */}\n      <div className=\"card\">\n        <div className=\"p-4\">\n          <div className=\"space-y-4\">\n            {/* Map Header - COMPACT */}\n            <div className=\"text-center\">\n              <h2 className=\"text-xl font-bold text-red-600 dark:text-red-400 mb-1\">{currentMap.name}</h2>\n              <div className=\"flex items-center justify-center space-x-4\">\n                <div className={`text-2xl font-bold ${\n                  currentMap.winner === match.team1.id ? 'text-green-600 dark:text-green-400' : 'text-gray-600 dark:text-gray-400'\n                }`}>\n                  {match.team1.short_name} {currentMap.team1Score}\n                </div>\n                <div className=\"text-gray-500 dark:text-gray-500\">-</div>\n                <div className={`text-2xl font-bold ${\n                  currentMap.winner === match.team2.id ? 'text-green-600 dark:text-green-400' : 'text-gray-600 dark:text-gray-400'\n                }`}>\n                  {currentMap.team2Score} {match.team2.short_name}\n                </div>\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-400 text-sm mt-1\">Duration: {currentMap.duration}</div>\n            </div>\n\n            {/* Maps Navigation - Moved below Duration */}\n            <div className=\"flex items-center justify-center space-x-2\">\n              {match.maps.map((map, index) => (\n                <button\n                  key={index}\n                  onClick={() => setActiveMap(index)}\n                  className={`px-3 py-2 rounded text-xs font-medium transition-colors ${\n                    activeMap === index\n                      ? 'bg-red-600 text-white shadow'\n                      : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                  }`}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"font-bold\">{map.name}</div>\n                    <div className=\"text-xs opacity-75\">{map.team1Score} - {map.team2Score}</div>\n                  </div>\n                </button>\n              ))}\n            </div>\n\n            {/* VLR.gg Style Scoreboard Header - IMPROVED with DMG BLOCKED */}\n            <div className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 bg-gray-800 dark:bg-gray-700 text-white font-bold text-xs rounded-t\">\n              <div className=\"text-left\">Player</div>\n              <div className=\"text-center\">Heroes</div>\n              <div className=\"text-center\">E</div>\n              <div className=\"text-center\">D</div>\n              <div className=\"text-center\">A</div>\n              <div className=\"text-center\">K/D</div>\n              <div className=\"text-center\">DMG</div>\n              <div className=\"text-center\">HEAL</div>\n              <div className=\"text-center\">BLK</div>\n            </div>\n\n            {/* VLR.gg Style Scoreboard - TEAM BOXES */}\n            <div className=\"space-y-4\">\n              {/* Team 1 Box */}\n              <div className=\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\">\n                <div \n                  className=\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                  onClick={() => {\n                    console.log('üîó MatchDetailPage: Navigating to team profile:', match.team1.name);\n                    navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                  }}\n                >\n                  <div className=\"text-sm font-semibold text-red-600 dark:text-red-400\">{match.team1.name}</div>\n                </div>\n                <div className=\"space-y-1\">\n                  {currentMap.team1Players.map((player, index) => (\n                    <div\n                      key={player.id}\n                      className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\"\n                      onClick={() => {\n                        console.log('üîó CRITICAL FIX: Navigating to player profile with REAL ID:', player.name, player.id);\n                        navigateTo && navigateTo('player-detail', { id: player.id });\n                      }}\n                    >\n                      {/* Player Info */}\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm\">{getCountryFlag(player.country)}</span>\n                        <div \n                          className=\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            console.log('üîó CRITICAL FIX: Player name clicked - using REAL ID:', player.name, player.id);\n                            navigateTo && navigateTo('player-detail', { id: player.id });\n                          }}\n                        >\n                          {player.name}\n                        </div>\n                      </div>\n                      \n                      {/* Hero Image Box */}\n                      <div className=\"flex justify-center\">\n                        <div className=\"bg-gray-600 dark:bg-gray-700 rounded p-1\">\n                          {getHeroImage(player.hero) ? (\n                            <img \n                              src={`/Heroes/${getHeroImage(player.hero)}`}\n                              alt={player.hero}\n                              className=\"w-8 h-8 rounded object-cover\"\n                              onError={(e) => {\n                                // Fallback to text if image fails\n                                e.target.style.display = 'none';\n                                e.target.nextSibling.style.display = 'block';\n                              }}\n                            />\n                          ) : null}\n                          <div \n                            className=\"text-white text-xs font-medium px-1 text-center\"\n                            style={{ display: getHeroImage(player.hero) ? 'none' : 'block' }}\n                          >\n                            {player.hero}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Stats */}\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.eliminations}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.deaths}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.assists}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.eliminations / Math.max(player.deaths, 1)).toFixed(2)}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.damage / 1000).toFixed(1)}k\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.healing > 0 ? `${(player.healing / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.damageBlocked > 0 ? `${(player.damageBlocked / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Team 2 Box */}\n              <div className=\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\">\n                <div \n                  className=\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                  onClick={() => {\n                    console.log('üîó MatchDetailPage: Navigating to team profile:', match.team2.name);\n                    navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                  }}\n                >\n                  <div className=\"text-sm font-semibold text-red-600 dark:text-red-400\">{match.team2.name}</div>\n                </div>\n                <div className=\"space-y-1\">\n                  {currentMap.team2Players.map((player, index) => (\n                    <div\n                      key={player.id}\n                      className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\"\n                      onClick={() => {\n                        console.log('üîó CRITICAL FIX: Navigating to player profile with REAL ID:', player.name, player.id);\n                        navigateTo && navigateTo('player-detail', { id: player.id });\n                      }}\n                    >\n                      {/* Player Info */}\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm\">{getCountryFlag(player.country)}</span>\n                        <div \n                          className=\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            console.log('üîó CRITICAL FIX: Player name clicked - using REAL ID:', player.name, player.id);\n                            navigateTo && navigateTo('player-detail', { id: player.id });\n                          }}\n                        >\n                          {player.name}\n                        </div>\n                      </div>\n                      \n                      {/* Hero Image Box */}\n                      <div className=\"flex justify-center\">\n                        <div className=\"bg-gray-600 dark:bg-gray-700 rounded p-1\">\n                          {getHeroImage(player.hero) ? (\n                            <img \n                              src={`/Heroes/${getHeroImage(player.hero)}`}\n                              alt={player.hero}\n                              className=\"w-8 h-8 rounded object-cover\"\n                              onError={(e) => {\n                                // Fallback to text if image fails\n                                e.target.style.display = 'none';\n                                e.target.nextSibling.style.display = 'block';\n                              }}\n                            />\n                          ) : null}\n                          <div \n                            className=\"text-white text-xs font-medium px-1 text-center\"\n                            style={{ display: getHeroImage(player.hero) ? 'none' : 'block' }}\n                          >\n                            {player.hero}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Stats */}\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.eliminations}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.deaths}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.assists}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.eliminations / Math.max(player.deaths, 1)).toFixed(2)}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.damage / 1000).toFixed(1)}k\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.healing > 0 ? `${(player.healing / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.damageBlocked > 0 ? `${(player.damageBlocked / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* MATCH COMMENTS SECTION - VLR.gg Style */}\n      <div className=\"card p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2\">\n          <span>üí¨</span>\n          <span>Match Comments ({comments.length})</span>\n        </h3>\n\n        {/* Comment Input */}\n        {isAuthenticated ? (\n          <div className=\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"text-2xl\">{user?.avatar || \"ü¶∏\"}</div>\n              <div className=\"flex-1\">\n                <textarea\n                  value={newComment}\n                  onChange={(e) => setNewComment(e.target.value)}\n                  placeholder=\"Share your thoughts about this match...\"\n                  className=\"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none\"\n                  rows=\"3\"\n                />\n                <div className=\"flex justify-between items-center mt-2\">\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    Posting as {user?.name}\n                  </div>\n                  <button\n                    onClick={submitComment}\n                    disabled={!newComment.trim() || submittingComment}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {submittingComment ? 'Posting...' : 'Post Comment'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-center\">\n            <p className=\"text-gray-600 dark:text-gray-400 mb-3\">Sign in to join the discussion</p>\n            <button\n              onClick={() => window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'))}\n              className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            >\n              Sign In to Comment\n            </button>\n          </div>\n        )}\n\n        {/* Comments List */}\n        <div className=\"space-y-4\">\n          {commentsLoading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-600 dark:text-gray-400\">Loading comments...</div>\n            </div>\n          ) : comments.length > 0 ? (\n            comments.map(comment => (\n              <div key={comment.id} className=\"flex items-start space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n                <div className=\"text-xl\">{comment.user_avatar || \"üë§\"}</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2 mb-1\">\n                    <span className=\"font-medium text-gray-900 dark:text-white\">\n                      {comment.user_name}\n                    </span>\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {new Date(comment.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </span>\n                  </div>\n                  <p className=\"text-gray-700 dark:text-gray-300\">{comment.content}</p>\n                  \n                  {/* VLR.gg Style Comment Actions */}\n                  <div className=\"flex items-center space-x-4 mt-2\">\n                    <button className=\"flex items-center space-x-1 text-gray-500 hover:text-green-600 transition-colors\">\n                      <span>üëç</span>\n                      <span className=\"text-sm\">{comment.likes || 0}</span>\n                    </button>\n                    <button className=\"flex items-center space-x-1 text-gray-500 hover:text-red-600 transition-colors\">\n                      <span>üëé</span>\n                      <span className=\"text-sm\">{comment.dislikes || 0}</span>\n                    </button>\n                    <button className=\"text-sm text-gray-500 hover:text-blue-600 transition-colors\">\n                      Reply\n                    </button>\n                  </div>\n                </div>\n                \n                {/* Delete button for admins/moderators */}\n                {(user?.roles?.includes('admin') || user?.roles?.includes('moderator')) && (\n                  <button\n                    onClick={() => {\n                      if (window.confirm('Are you sure you want to delete this comment?')) {\n                        deleteComment(comment.id);\n                      }\n                    }}\n                    className=\"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 text-sm\"\n                  >\n                    üóëÔ∏è\n                  </button>\n                )}\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center py-8\">\n              <div className=\"text-4xl mb-4\">üí¨</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">No comments yet</h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {isAuthenticated \n                  ? 'Be the first to share your thoughts about this match!'\n                  : 'Sign in to be the first to comment on this match!'\n                }\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Load More Comments (if needed) */}\n        {comments.length > 0 && comments.length % 20 === 0 && (\n          <div className=\"text-center mt-6\">\n            <button\n              onClick={fetchComments}\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n            >\n              Load More Comments\n            </button>\n          </div>\n        )}\n      </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MatchDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}