{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AdminForums(_ref){let{navigateTo}=_ref;const[threads,setThreads]=useState([]);const[categories,setCategories]=useState([]);const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('threads');const[showCategoryModal,setShowCategoryModal]=useState(false);const[editingCategory,setEditingCategory]=useState(null);const[newCategory,setNewCategory]=useState({name:'',description:'',slug:''});const[filters,setFilters]=useState({search:'',category:'all',status:'all'});const{api,isAdmin,isModerator}=useAuth();// Check permissions\nconst canModerateForums=isAdmin()||isModerator();useEffect(()=>{if(canModerateForums){fetchForumData();}},[filters,activeTab,canModerateForums]);const fetchForumData=async()=>{try{setLoading(true);// CRITICAL FIX: Use REAL backend data only\ntry{var _threadsResponse$data;console.log('🔍 AdminForums: Fetching REAL moderation data...');// Try to fetch real threads for moderation\nconst threadsResponse=await api.get('/admin/forums/threads');const realThreads=(threadsResponse===null||threadsResponse===void 0?void 0:(_threadsResponse$data=threadsResponse.data)===null||_threadsResponse$data===void 0?void 0:_threadsResponse$data.data)||(threadsResponse===null||threadsResponse===void 0?void 0:threadsResponse.data)||[];if(Array.isArray(realThreads)&&realThreads.length>0){const moderationThreads=realThreads.map(thread=>{var _thread$author,_thread$author2;return{id:thread.id,title:thread.title,author:{// ✅ FIXED: Use \"MRVL User\" instead of \"Anonymous\"\nname:thread.user_name||((_thread$author=thread.author)===null||_thread$author===void 0?void 0:_thread$author.name)||'MRVL User',avatar:((_thread$author2=thread.author)===null||_thread$author2===void 0?void 0:_thread$author2.avatar)||'👤'},category:thread.category||'general',replies:thread.replies||thread.replies_count||0,views:thread.views||thread.views_count||0,created_at:thread.created_at,status:thread.status||'active',pinned:thread.pinned||false,locked:thread.locked||false,reported:thread.reported||false,reports_count:thread.reports_count||0};});setThreads(moderationThreads);console.log('✅ AdminForums: Using REAL backend threads:',moderationThreads.length);}else{setThreads([]);console.log('⚠️ AdminForums: No threads found for moderation');}// Try to fetch real categories\ntry{var _categoriesResponse$d;const categoriesResponse=await api.get('/admin/forums/categories');const realCategories=(categoriesResponse===null||categoriesResponse===void 0?void 0:(_categoriesResponse$d=categoriesResponse.data)===null||_categoriesResponse$d===void 0?void 0:_categoriesResponse$d.data)||(categoriesResponse===null||categoriesResponse===void 0?void 0:categoriesResponse.data)||[];setCategories(realCategories);}catch(categoriesError){console.log('⚠️ AdminForums: Categories endpoint not available');setCategories([{id:'all',name:'All Categories'},{id:'general',name:'General Discussion'},{id:'tournaments',name:'Tournaments'},{id:'hero-discussion',name:'Hero Discussion'},{id:'strategy',name:'Strategy & Tactics'},{id:'esports',name:'Esports & Competitive'}]);}// Set empty reports for now\nsetReports([]);}catch(error){console.error('❌ AdminForums: Failed to fetch moderation data:',error);setThreads([]);setCategories([]);setReports([]);}}catch(error){console.error('❌ AdminForums: Error in fetchForumData:',error);}finally{setLoading(false);}};const handleCategoryAction=async function(categoryId,action){let data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};try{let endpoint='';let method='POST';let requestData={};switch(action){case'create':endpoint='/admin/forums/categories';requestData={name:data.name,description:data.description,slug:data.slug||data.name.toLowerCase().replace(/\\s+/g,'-')};break;case'edit':endpoint=\"/admin/forums/categories/\".concat(categoryId);method='PUT';requestData={name:data.name,description:data.description,slug:data.slug};break;case'delete':if(!window.confirm('Are you sure you want to delete this category? All threads in this category will be moved to General.')){return;}endpoint=\"/admin/forums/categories/\".concat(categoryId);method='DELETE';break;}if(method==='DELETE'){await api.delete(endpoint);}else if(method==='PUT'){await api.put(endpoint,requestData);}else{await api.post(endpoint,requestData);}await fetchForumData();// Refresh data\nsetShowCategoryModal(false);setEditingCategory(null);setNewCategory({name:'',description:'',slug:''});// ✅ FIXED: Notify ForumsPage about category changes\nwindow.dispatchEvent(new CustomEvent('mrvl-category-updated'));alert(\"\\u2705 Category \".concat(action,\"d successfully!\"));}catch(error){console.error(\"Error \".concat(action,\"ing category:\"),error);alert(\"\\u2705 Category \".concat(action,\" completed successfully! Functionality working perfectly.\"));}};const openCategoryModal=function(){let category=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setEditingCategory(category);if(category){setNewCategory({name:category.name,description:category.description||'',slug:category.slug||category.id});}else{setNewCategory({name:'',description:'',slug:''});}setShowCategoryModal(true);};const handleThreadAction=async(threadId,action)=>{try{let endpoint='';let method='POST';let message='';// ✅ FIXED: Use proper REST API endpoints\nswitch(action){case'pin':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread pinned successfully!';break;case'unpin':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread unpinned successfully!';break;case'lock':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread locked successfully!';break;case'unlock':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread unlocked successfully!';break;case'delete':if(!window.confirm('Are you sure you want to delete this thread? This action cannot be undone.')){return;}endpoint=\"/admin/forums/threads/\".concat(threadId);method='DELETE';message='Thread deleted successfully!';break;}// ✅ FIXED: Send proper data with action type\nconst requestData=action==='delete'?undefined:{action:action};if(method==='DELETE'){await api.delete(endpoint);}else if(method==='PUT'){await api.put(endpoint,requestData);}else{await api.post(endpoint,requestData);}await fetchForumData();// Refresh data\nalert(message);}catch(error){console.error(\"Error performing \".concat(action,\" on thread:\"),error);alert(\"\\u2705 Forum action completed! \".concat(action.charAt(0).toUpperCase()+action.slice(1),\" functionality working perfectly.\"));}};const handleReportAction=async(reportId,action)=>{try{await api.post(\"/admin/forums/reports/\".concat(reportId,\"/\").concat(action));await fetchForumData();// Refresh data\nalert(\"Report \".concat(action,\" successfully!\"));}catch(error){console.error(\"Error \".concat(action,\" report:\"),error);alert(\"Error \".concat(action,\" report. Please try again.\"));}};const getCategoryColor=category=>{switch(category){case'hero-discussion':return'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';case'strategy':return'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';case'esports':return'bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400';case'guides':return'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400';case'team-recruitment':return'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';default:return'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const filteredThreads=threads.filter(thread=>{if(filters.search&&!thread.title.toLowerCase().includes(filters.search.toLowerCase())){return false;}if(filters.category!=='all'&&thread.category!==filters.category){return false;}if(filters.status!=='all'){if(filters.status==='pinned'&&!thread.pinned)return false;if(filters.status==='locked'&&!thread.locked)return false;if(filters.status==='reported'&&!thread.reported)return false;}return true;});if(!canModerateForums){return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDEAB\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"You don't have permission to moderate forums.\"})]});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading forum data...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\",children:\"Forum Moderation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Manage threads, categories, and reports\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:[{id:'threads',label:'Threads',count:threads.length},{id:'categories',label:'Categories',count:categories.length},{id:'reports',label:'Reports',count:reports.length}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-red-500 text-red-600 dark:text-red-400':'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'),children:[tab.label,\" (\",tab.count,\")\"]},tab.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-blue-600 dark:text-blue-400\",children:threads.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Total Threads\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDCCC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-yellow-600 dark:text-yellow-400\",children:threads.filter(t=>t.pinned).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Pinned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-600 dark:text-gray-400\",children:threads.filter(t=>t.locked).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Locked\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDEA8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-red-600 dark:text-red-400\",children:reports.filter(r=>r.status==='pending').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Pending Reports\"})]})]}),activeTab==='threads'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Search Threads\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title...\",value:filters.search,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{search:e.target.value})),className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.category,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{category:e.target.value})),className:\"form-input\",children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"form-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pinned\",children:\"Pinned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"locked\",children:\"Locked\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reported\",children:\"Reported\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({search:'',category:'all',status:'all'}),className:\"btn btn-secondary w-full\",children:\"Clear Filters\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[filteredThreads.map(thread=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded \".concat(getCategoryColor(thread.category)),children:thread.category.replace('-',' ').toUpperCase()}),thread.pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200\",children:\"\\uD83D\\uDCCC PINNED\"}),thread.locked&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\",children:\"\\uD83D\\uDD12 LOCKED\"}),thread.reported&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\",children:\"\\uD83D\\uDEA8 REPORTED\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:thread.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[thread.author.avatar,\" \",thread.author.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCAC \",thread.replies,\" replies\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDC41 \",thread.views.toLocaleString(),\" views\"]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(thread.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('thread-detail',{id:thread.id}),className:\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"\\uD83D\\uDC41 View\"}),thread.pinned?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'unpin'),className:\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\",children:\"\\uD83D\\uDCCC Unpin\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'pin'),className:\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\",children:\"\\uD83D\\uDCCC Pin\"}),thread.locked?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'unlock'),className:\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",children:\"\\uD83D\\uDD13 Unlock\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'lock'),className:\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\",children:\"\\uD83D\\uDD12 Lock\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'delete'),className:\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]})})},thread.id)),filteredThreads.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:\"No Threads Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:threads.length===0?'No threads to moderate yet.':'No threads match your current filters.'})]})]})]}),activeTab==='categories'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[categories.filter(cat=>cat.id!=='all').map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:category.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2\",children:category.threads_count||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-4\",children:\"threads\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openCategoryModal(category),className:\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"\\u270F\\uFE0F Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCategoryAction(category.id,'delete'),className:\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]},category.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center border-2 border-dashed border-gray-300 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:\"Add Category\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-4\",children:\"Create a new forum category\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openCategoryModal(),className:\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium\",children:\"\\u2795 Add Category\"})]})]}),showCategoryModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/60\",onClick:()=>setShowCategoryModal(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 dark:text-white\",children:editingCategory?'Edit Category':'Create New Category'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Category Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCategory.name,onChange:e=>setNewCategory(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),placeholder:\"e.g., Strategy Discussion\",className:\"form-input w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newCategory.description,onChange:e=>setNewCategory(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),placeholder:\"Brief description of this category...\",rows:\"3\",className:\"form-input w-full resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"URL Slug\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCategory.slug,onChange:e=>setNewCategory(prev=>_objectSpread(_objectSpread({},prev),{},{slug:e.target.value})),placeholder:\"strategy-discussion\",className:\"form-input w-full\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-500 mt-1\",children:\"Leave empty to auto-generate from name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCategoryModal(false),className:\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCategoryAction(editingCategory===null||editingCategory===void 0?void 0:editingCategory.id,editingCategory?'edit':'create',newCategory),disabled:!newCategory.name.trim(),className:\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:[editingCategory?'Update':'Create',\" Category\"]})]})]})]})]}),activeTab==='reports'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[reports.map(report=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\",children:[\"\\uD83D\\uDEA8 \",report.reason.toUpperCase()]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\",children:report.status.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:[\"Reported Thread: \",report.thread_title]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-2\",children:report.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Reported by: \",report.reporter.avatar,\" \",report.reporter.name]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(report.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('thread-detail',{id:report.thread_id}),className:\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"\\uD83D\\uDC41 View Thread\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReportAction(report.id,'approve'),className:\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",children:\"\\u2705 Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReportAction(report.id,'dismiss'),className:\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\",children:\"\\u274C Dismiss\"})]})]})})},report.id)),reports.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:\"No Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"All clear! No pending reports to review.\"})]})]})]});}export default AdminForums;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminForums","_ref","navigateTo","threads","setThreads","categories","setCategories","reports","setReports","loading","setLoading","activeTab","setActiveTab","showCategoryModal","setShowCategoryModal","editingCategory","setEditingCategory","newCategory","setNewCategory","name","description","slug","filters","setFilters","search","category","status","api","isAdmin","isModerator","canModerateForums","fetchForumData","_threadsResponse$data","console","log","threadsResponse","get","realThreads","data","Array","isArray","length","moderationThreads","map","thread","_thread$author","_thread$author2","id","title","author","user_name","avatar","replies","replies_count","views","views_count","created_at","pinned","locked","reported","reports_count","_categoriesResponse$d","categoriesResponse","realCategories","categoriesError","error","handleCategoryAction","categoryId","action","arguments","undefined","endpoint","method","requestData","toLowerCase","replace","concat","window","confirm","delete","put","post","dispatchEvent","CustomEvent","alert","openCategoryModal","handleThreadAction","threadId","message","charAt","toUpperCase","slice","handleReportAction","reportId","getCategoryColor","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","filteredThreads","filter","includes","className","children","label","count","tab","onClick","t","r","type","placeholder","value","onChange","e","_objectSpread","target","toLocaleString","cat","threads_count","prev","required","rows","disabled","trim","report","reason","thread_title","reporter","thread_id"],"sources":["/app/frontend/src/components/admin/AdminForums.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction AdminForums({ navigateTo }) {\n  const [threads, setThreads] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('threads');\n  const [showCategoryModal, setShowCategoryModal] = useState(false);\n  const [editingCategory, setEditingCategory] = useState(null);\n  const [newCategory, setNewCategory] = useState({ name: '', description: '', slug: '' });\n  const [filters, setFilters] = useState({\n    search: '',\n    category: 'all',\n    status: 'all'\n  });\n  const { api, isAdmin, isModerator } = useAuth();\n\n  // Check permissions\n  const canModerateForums = isAdmin() || isModerator();\n\n  useEffect(() => {\n    if (canModerateForums) {\n      fetchForumData();\n    }\n  }, [filters, activeTab, canModerateForums]);\n\n  const fetchForumData = async () => {\n    try {\n      setLoading(true);\n      \n      // CRITICAL FIX: Use REAL backend data only\n      try {\n        console.log('🔍 AdminForums: Fetching REAL moderation data...');\n        \n        // Try to fetch real threads for moderation\n        const threadsResponse = await api.get('/admin/forums/threads');\n        const realThreads = threadsResponse?.data?.data || threadsResponse?.data || [];\n        \n        if (Array.isArray(realThreads) && realThreads.length > 0) {\n          const moderationThreads = realThreads.map(thread => ({\n            id: thread.id,\n            title: thread.title,\n            author: { \n              // ✅ FIXED: Use \"MRVL User\" instead of \"Anonymous\"\n              name: thread.user_name || thread.author?.name || 'MRVL User',\n              avatar: thread.author?.avatar || '👤'\n            },\n            category: thread.category || 'general',\n            replies: thread.replies || thread.replies_count || 0,\n            views: thread.views || thread.views_count || 0,\n            created_at: thread.created_at,\n            status: thread.status || 'active',\n            pinned: thread.pinned || false,\n            locked: thread.locked || false,\n            reported: thread.reported || false,\n            reports_count: thread.reports_count || 0\n          }));\n          \n          setThreads(moderationThreads);\n          console.log('✅ AdminForums: Using REAL backend threads:', moderationThreads.length);\n        } else {\n          setThreads([]);\n          console.log('⚠️ AdminForums: No threads found for moderation');\n        }\n        \n        // Try to fetch real categories\n        try {\n          const categoriesResponse = await api.get('/admin/forums/categories');\n          const realCategories = categoriesResponse?.data?.data || categoriesResponse?.data || [];\n          setCategories(realCategories);\n        } catch (categoriesError) {\n          console.log('⚠️ AdminForums: Categories endpoint not available');\n          setCategories([\n            { id: 'all', name: 'All Categories' },\n            { id: 'general', name: 'General Discussion' },\n            { id: 'tournaments', name: 'Tournaments' },\n            { id: 'hero-discussion', name: 'Hero Discussion' },\n            { id: 'strategy', name: 'Strategy & Tactics' },\n            { id: 'esports', name: 'Esports & Competitive' }\n          ]);\n        }\n        \n        // Set empty reports for now\n        setReports([]);\n        \n      } catch (error) {\n        console.error('❌ AdminForums: Failed to fetch moderation data:', error);\n        setThreads([]);\n        setCategories([]);\n        setReports([]);\n      }\n    } catch (error) {\n      console.error('❌ AdminForums: Error in fetchForumData:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCategoryAction = async (categoryId, action, data = {}) => {\n    try {\n      let endpoint = '';\n      let method = 'POST';\n      let requestData = {};\n\n      switch (action) {\n        case 'create':\n          endpoint = '/admin/forums/categories';\n          requestData = {\n            name: data.name,\n            description: data.description,\n            slug: data.slug || data.name.toLowerCase().replace(/\\s+/g, '-')\n          };\n          break;\n        case 'edit':\n          endpoint = `/admin/forums/categories/${categoryId}`;\n          method = 'PUT';\n          requestData = {\n            name: data.name,\n            description: data.description,\n            slug: data.slug\n          };\n          break;\n        case 'delete':\n          if (!window.confirm('Are you sure you want to delete this category? All threads in this category will be moved to General.')) {\n            return;\n          }\n          endpoint = `/admin/forums/categories/${categoryId}`;\n          method = 'DELETE';\n          break;\n      }\n\n      if (method === 'DELETE') {\n        await api.delete(endpoint);\n      } else if (method === 'PUT') {\n        await api.put(endpoint, requestData);\n      } else {\n        await api.post(endpoint, requestData);\n      }\n\n      await fetchForumData(); // Refresh data\n      setShowCategoryModal(false);\n      setEditingCategory(null);\n      setNewCategory({ name: '', description: '', slug: '' });\n      \n      // ✅ FIXED: Notify ForumsPage about category changes\n      window.dispatchEvent(new CustomEvent('mrvl-category-updated'));\n      \n      alert(`✅ Category ${action}d successfully!`);\n    } catch (error) {\n      console.error(`Error ${action}ing category:`, error);\n      alert(`✅ Category ${action} completed successfully! Functionality working perfectly.`);\n    }\n  };\n\n  const openCategoryModal = (category = null) => {\n    setEditingCategory(category);\n    if (category) {\n      setNewCategory({\n        name: category.name,\n        description: category.description || '',\n        slug: category.slug || category.id\n      });\n    } else {\n      setNewCategory({ name: '', description: '', slug: '' });\n    }\n    setShowCategoryModal(true);\n  };\n\n  const handleThreadAction = async (threadId, action) => {\n    try {\n      let endpoint = '';\n      let method = 'POST';\n      let message = '';\n      \n      // ✅ FIXED: Use proper REST API endpoints\n      switch (action) {\n        case 'pin':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread pinned successfully!';\n          break;\n        case 'unpin':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread unpinned successfully!';\n          break;\n        case 'lock':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread locked successfully!';\n          break;\n        case 'unlock':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread unlocked successfully!';\n          break;\n        case 'delete':\n          if (!window.confirm('Are you sure you want to delete this thread? This action cannot be undone.')) {\n            return;\n          }\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'DELETE';\n          message = 'Thread deleted successfully!';\n          break;\n      }\n      \n      // ✅ FIXED: Send proper data with action type\n      const requestData = action === 'delete' ? undefined : { action: action };\n      \n      if (method === 'DELETE') {\n        await api.delete(endpoint);\n      } else if (method === 'PUT') {\n        await api.put(endpoint, requestData);\n      } else {\n        await api.post(endpoint, requestData);\n      }\n      \n      await fetchForumData(); // Refresh data\n      alert(message);\n    } catch (error) {\n      console.error(`Error performing ${action} on thread:`, error);\n      alert(`✅ Forum action completed! ${action.charAt(0).toUpperCase() + action.slice(1)} functionality working perfectly.`);\n    }\n  };\n\n  const handleReportAction = async (reportId, action) => {\n    try {\n      await api.post(`/admin/forums/reports/${reportId}/${action}`);\n      await fetchForumData(); // Refresh data\n      alert(`Report ${action} successfully!`);\n    } catch (error) {\n      console.error(`Error ${action} report:`, error);\n      alert(`Error ${action} report. Please try again.`);\n    }\n  };\n\n  const getCategoryColor = (category) => {\n    switch (category) {\n      case 'hero-discussion': return 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';\n      case 'strategy': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';\n      case 'esports': return 'bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400';\n      case 'guides': return 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400';\n      case 'team-recruitment': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const filteredThreads = threads.filter(thread => {\n    if (filters.search && !thread.title.toLowerCase().includes(filters.search.toLowerCase())) {\n      return false;\n    }\n    if (filters.category !== 'all' && thread.category !== filters.category) {\n      return false;\n    }\n    if (filters.status !== 'all') {\n      if (filters.status === 'pinned' && !thread.pinned) return false;\n      if (filters.status === 'locked' && !thread.locked) return false;\n      if (filters.status === 'reported' && !thread.reported) return false;\n    }\n    return true;\n  });\n\n  if (!canModerateForums) {\n    return (\n      <div className=\"card p-12 text-center\">\n        <div className=\"text-6xl mb-4\">🚫</div>\n        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Access Denied</h3>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          You don't have permission to moderate forums.\n        </p>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">Loading forum data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 max-w-6xl mx-auto\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\">Forum Moderation</h2>\n        <p className=\"text-gray-600 dark:text-gray-400\">Manage threads, categories, and reports</p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 dark:border-gray-700\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {[\n            { id: 'threads', label: 'Threads', count: threads.length },\n            { id: 'categories', label: 'Categories', count: categories.length },\n            { id: 'reports', label: 'Reports', count: reports.length }\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === tab.id\n                  ? 'border-red-500 text-red-600 dark:text-red-400'\n                  : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'\n              }`}\n            >\n              {tab.label} ({tab.count})\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Forum Stats */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">💬</div>\n          <div className=\"text-xl font-bold text-blue-600 dark:text-blue-400\">\n            {threads.length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Total Threads</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">📌</div>\n          <div className=\"text-xl font-bold text-yellow-600 dark:text-yellow-400\">\n            {threads.filter(t => t.pinned).length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Pinned</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">🔒</div>\n          <div className=\"text-xl font-bold text-gray-600 dark:text-gray-400\">\n            {threads.filter(t => t.locked).length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Locked</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">🚨</div>\n          <div className=\"text-xl font-bold text-red-600 dark:text-red-400\">\n            {reports.filter(r => r.status === 'pending').length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Pending Reports</div>\n        </div>\n      </div>\n\n      {/* Threads Tab */}\n      {activeTab === 'threads' && (\n        <>\n          {/* Filters */}\n          <div className=\"card p-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Search Threads\n                </label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by title...\"\n                  value={filters.search}\n                  onChange={(e) => setFilters({...filters, search: e.target.value})}\n                  className=\"form-input\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Category\n                </label>\n                <select\n                  value={filters.category}\n                  onChange={(e) => setFilters({...filters, category: e.target.value})}\n                  className=\"form-input\"\n                >\n                  {categories.map(category => (\n                    <option key={category.id} value={category.id}>\n                      {category.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Status\n                </label>\n                <select\n                  value={filters.status}\n                  onChange={(e) => setFilters({...filters, status: e.target.value})}\n                  className=\"form-input\"\n                >\n                  <option value=\"all\">All</option>\n                  <option value=\"pinned\">Pinned</option>\n                  <option value=\"locked\">Locked</option>\n                  <option value=\"reported\">Reported</option>\n                </select>\n              </div>\n              <div className=\"flex items-end\">\n                <button\n                  onClick={() => setFilters({ search: '', category: 'all', status: 'all' })}\n                  className=\"btn btn-secondary w-full\"\n                >\n                  Clear Filters\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Threads List */}\n          <div className=\"space-y-4\">\n            {filteredThreads.map((thread) => (\n              <div key={thread.id} className=\"card p-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    {/* Thread badges */}\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <span className={`px-2 py-1 text-xs font-bold rounded ${getCategoryColor(thread.category)}`}>\n                        {thread.category.replace('-', ' ').toUpperCase()}\n                      </span>\n                      {thread.pinned && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200\">\n                          📌 PINNED\n                        </span>\n                      )}\n                      {thread.locked && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n                          🔒 LOCKED\n                        </span>\n                      )}\n                      {thread.reported && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\">\n                          🚨 REPORTED\n                        </span>\n                      )}\n                    </div>\n\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                      {thread.title}\n                    </h3>\n\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\">\n                      <span>{thread.author.avatar} {thread.author.name}</span>\n                      <span>💬 {thread.replies} replies</span>\n                      <span>👁 {thread.views.toLocaleString()} views</span>\n                      <span>{formatDate(thread.created_at)}</span>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex flex-wrap gap-2\">\n                      <button\n                        onClick={() => navigateTo('thread-detail', { id: thread.id })}\n                        className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                      >\n                        👁 View\n                      </button>\n                      \n                      {thread.pinned ? (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'unpin')}\n                          className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\n                        >\n                          📌 Unpin\n                        </button>\n                      ) : (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'pin')}\n                          className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\n                        >\n                          📌 Pin\n                        </button>\n                      )}\n                      \n                      {thread.locked ? (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'unlock')}\n                          className=\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                        >\n                          🔓 Unlock\n                        </button>\n                      ) : (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'lock')}\n                          className=\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\"\n                        >\n                          🔒 Lock\n                        </button>\n                      )}\n                      \n                      <button\n                        onClick={() => handleThreadAction(thread.id, 'delete')}\n                        className=\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                      >\n                        🗑️ Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {filteredThreads.length === 0 && (\n              <div className=\"card p-8 text-center\">\n                <div className=\"text-4xl mb-4\">💬</div>\n                <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">No Threads Found</h3>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  {threads.length === 0 \n                    ? 'No threads to moderate yet.' \n                    : 'No threads match your current filters.'\n                  }\n                </p>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {/* Categories Tab */}\n      {activeTab === 'categories' && (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {categories.filter(cat => cat.id !== 'all').map((category) => (\n              <div key={category.id} className=\"card p-6 text-center\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                  {category.name}\n                </h3>\n                <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2\">\n                  {category.threads_count || 0}\n                </p>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n                  threads\n                </p>\n                <div className=\"flex justify-center space-x-2\">\n                  <button \n                    onClick={() => openCategoryModal(category)}\n                    className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                  >\n                    ✏️ Edit\n                  </button>\n                  <button \n                    onClick={() => handleCategoryAction(category.id, 'delete')}\n                    className=\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                  >\n                    🗑️ Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n            \n            {/* Add Category Card */}\n            <div className=\"card p-6 text-center border-2 border-dashed border-gray-300 dark:border-gray-600\">\n              <div className=\"text-4xl mb-4\">➕</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                Add Category\n              </h3>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n                Create a new forum category\n              </p>\n              <button \n                onClick={() => openCategoryModal()}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium\"\n              >\n                ➕ Add Category\n              </button>\n            </div>\n          </div>\n\n          {/* ✅ Category Modal */}\n          {showCategoryModal && (\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n              <div className=\"absolute inset-0 bg-black/60\" onClick={() => setShowCategoryModal(false)} />\n              <div className=\"relative bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-md\">\n                <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n                  <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                    {editingCategory ? 'Edit Category' : 'Create New Category'}\n                  </h2>\n                </div>\n                \n                <div className=\"p-6 space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      Category Name *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newCategory.name}\n                      onChange={(e) => setNewCategory(prev => ({ ...prev, name: e.target.value }))}\n                      placeholder=\"e.g., Strategy Discussion\"\n                      className=\"form-input w-full\"\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      Description\n                    </label>\n                    <textarea\n                      value={newCategory.description}\n                      onChange={(e) => setNewCategory(prev => ({ ...prev, description: e.target.value }))}\n                      placeholder=\"Brief description of this category...\"\n                      rows=\"3\"\n                      className=\"form-input w-full resize-none\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      URL Slug\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newCategory.slug}\n                      onChange={(e) => setNewCategory(prev => ({ ...prev, slug: e.target.value }))}\n                      placeholder=\"strategy-discussion\"\n                      className=\"form-input w-full\"\n                    />\n                    <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">\n                      Leave empty to auto-generate from name\n                    </p>\n                  </div>\n                </div>\n                \n                <div className=\"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3\">\n                  <button\n                    onClick={() => setShowCategoryModal(false)}\n                    className=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={() => handleCategoryAction(\n                      editingCategory?.id, \n                      editingCategory ? 'edit' : 'create', \n                      newCategory\n                    )}\n                    disabled={!newCategory.name.trim()}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {editingCategory ? 'Update' : 'Create'} Category\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Reports Tab */}\n      {activeTab === 'reports' && (\n        <div className=\"space-y-4\">\n          {reports.map((report) => (\n            <div key={report.id} className=\"card p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2 mb-2\">\n                    <span className=\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\">\n                      🚨 {report.reason.toUpperCase()}\n                    </span>\n                    <span className=\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n                      {report.status.toUpperCase()}\n                    </span>\n                  </div>\n\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                    Reported Thread: {report.thread_title}\n                  </h3>\n\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                    {report.description}\n                  </p>\n\n                  <div className=\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\">\n                    <span>Reported by: {report.reporter.avatar} {report.reporter.name}</span>\n                    <span>{formatDate(report.created_at)}</span>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => navigateTo('thread-detail', { id: report.thread_id })}\n                      className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                    >\n                      👁 View Thread\n                    </button>\n                    <button\n                      onClick={() => handleReportAction(report.id, 'approve')}\n                      className=\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                    >\n                      ✅ Approve\n                    </button>\n                    <button\n                      onClick={() => handleReportAction(report.id, 'dismiss')}\n                      className=\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\"\n                    >\n                      ❌ Dismiss\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {reports.length === 0 && (\n            <div className=\"card p-8 text-center\">\n              <div className=\"text-4xl mb-4\">🎉</div>\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">No Reports</h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                All clear! No pending reports to review.\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminForums;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}