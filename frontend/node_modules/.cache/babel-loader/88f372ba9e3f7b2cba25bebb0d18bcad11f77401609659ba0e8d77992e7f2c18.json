{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{TeamLogo,PlayerAvatar}from'../../utils/imageUtils';import{getMatchById}from'../../data/matchesData';import{REAL_TEAMS,getTeamById,getRandomTeams,getRandomTournament,getCountryFlag}from'../../data/realTeams';import{getRealPlayersForTeam}from'../../data/realPlayersMapping';// ğŸ® MARVEL RIVALS HERO SYSTEM - Real Images + Role Data\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getHeroImage=heroName=>{if(!heroName)return null;// âœ… REAL HERO IMAGES - Convert hero name to actual image filename\nconst heroImageMapping={'Adam Warlock':'adam-warlock-headbig.webp','Black Panther':'black-panther-headbig.webp','Black Widow':'black-widow-headbig.webp','Bruce Banner':'bruce-banner-headbig.webp','Captain America':'captain-america-headbig.webp','Cloak & Dagger':'cloak-dagger-headbig.webp','Doctor Strange':'doctor-strange-headbig.webp','Emma Frost':'emma-frost-headbig.webp','Groot':'groot-headbig.webp','Hawkeye':'hawkeye-headbig.webp','Hela':'hela-headbig.webp','Human Torch':'human-torch-headbig.webp','Invisible Woman':'invisible-woman-headbig.webp','Iron Fist':'iron-fist-headbig.webp','Iron Man':'iron-man-headbig.webp','Jeff the Land Shark':'jeff-the-land-shark-headbig.webp','Loki':'loki-headbig.webp','Luna Snow':'luna-snow-headbig.webp','Magik':'magik-headbig.webp','Magneto':'magneto-headbig.webp','Mantis':'mantis-headbig.webp','Mister Fantastic':'mister-fantastic-headbig.webp','Moon Knight':'moon-knight-headbig.webp','Namor':'namor-headbig.webp','Peni Parker':'peni-parker-headbig.webp','Psylocke':'psylocke-headbig.webp','Rocket Raccoon':'rocket-raccoon-headbig.webp','Scarlet Witch':'scarlet-witch-headbig.webp','Spider-Man':'spider-man-headbig.webp','Squirrel Girl':'squirrel-girl-headbig.webp','Star-Lord':'star-lord-headbig.webp','Storm':'storm-headbig.webp','The Punisher':'the-punisher-headbig.webp','The Thing':'the-thing-headbig.webp','Thor':'thor-headbig.webp','Ultron':'ultron-headbig.webp','Venom':'venom-headbig.webp'};return heroImageMapping[heroName]||null;};// ğŸ® MARVEL RIVALS ROLE SYSTEM - ALIGNED WITH BACKEND\nconst getHeroRole=heroName=>{const heroRoles={// ğŸ›¡ï¸ TANK Heroes - BACKEND USES \"TANK\" NOT \"VANGUARD\"\n'Captain America':'Tank','Doctor Strange':'Tank','Groot':'Tank','Hulk':'Tank','Magneto':'Tank','Peni Parker':'Tank','The Thing':'Tank','Thor':'Tank','Venom':'Tank',// âš”ï¸ DUELIST Heroes - 18 heroes\n'Black Panther':'Duelist','Black Widow':'Duelist','Hawkeye':'Duelist','Hela':'Duelist','Human Torch':'Duelist','Iron Fist':'Duelist','Iron Man':'Duelist','Magik':'Duelist','Moon Knight':'Duelist','Namor':'Duelist','Psylocke':'Duelist','The Punisher':'Duelist','Scarlet Witch':'Duelist','Spider-Man':'Duelist','Squirrel Girl':'Duelist','Star-Lord':'Duelist','Storm':'Duelist','Wolverine':'Duelist',// ğŸ’š SUPPORT Heroes - 7 heroes\n'Adam Warlock':'Support','Cloak & Dagger':'Support','Invisible Woman':'Support','Jeff the Land Shark':'Support','Loki':'Support','Luna Snow':'Support','Mantis':'Support','Rocket Raccoon':'Support'};return heroRoles[heroName]||'Unknown';};function MatchDetailPage(_ref){let{params,navigateTo}=_ref;const[match,setMatch]=useState(null);const[activeMap,setActiveMap]=useState(0);const[loading,setLoading]=useState(true);const[realPlayersLoaded,setRealPlayersLoaded]=useState(false);// PHASE 4: ENHANCED COMMENTS SYSTEM STATE\nconst[comments,setComments]=useState([]);const[commentsLoading,setCommentsLoading]=useState(false);const[newComment,setNewComment]=useState('');const[submittingComment,setSubmittingComment]=useState(false);const[replyingTo,setReplyingTo]=useState(null);const[replyText,setReplyText]=useState('');const[userVotes,setUserVotes]=useState(()=>{// âœ… FIXED: Load vote state from localStorage for persistence\nconst saved=localStorage.getItem('mrvl-comment-votes');return saved?JSON.parse(saved):{};});const[showReplies,setShowReplies]=useState({});const{api,user,isAuthenticated}=useAuth();const matchId=params===null||params===void 0?void 0:params.id;console.log('ğŸ” MatchDetailPage - Received match ID:',matchId);useEffect(()=>{if(matchId){initializeMatchData();fetchComments();// PHASE 4: Load comments when match loads\n}},[matchId]);// PHASE 4: FETCH MATCH COMMENTS\nconst fetchComments=async()=>{if(!matchId)return;try{setCommentsLoading(true);console.log('ğŸ’¬ Fetching comments for match:',matchId);const response=await api.get(\"/matches/\".concat(matchId,\"/comments\"));const commentsData=response.data||response||[];setComments(commentsData);console.log('âœ… Comments loaded:',commentsData.length);}catch(error){console.error('âŒ Error fetching comments:',error);setComments([]);// NO FALLBACK DATA\n}finally{setCommentsLoading(false);}};// PHASE 4: SUBMIT NEW COMMENT\nconst submitComment=async()=>{if(!newComment.trim()||!isAuthenticated)return;try{setSubmittingComment(true);console.log('ğŸ’¬ Submitting comment:',newComment);const commentData={content:newComment.trim()};const response=await api.post(\"/matches/\".concat(matchId,\"/comments\"),commentData);const newCommentResponse=response.data||response;// Add new comment to list\nsetComments(prev=>[newCommentResponse,...prev]);setNewComment('');console.log('âœ… Comment submitted successfully');}catch(error){console.error('âŒ Error submitting comment:',error);// For demo purposes, add comment locally\nconst demoComment={id:Date.now(),content:newComment.trim(),user_name:(user===null||user===void 0?void 0:user.name)||'Anonymous',user_avatar:\"ğŸ¦¸\",created_at:new Date().toISOString()};setComments(prev=>[demoComment,...prev]);setNewComment('');alert('Comment added (demo mode)');}finally{setSubmittingComment(false);}};// ENHANCED COMMENTS: VOTE ON COMMENT (Like/Dislike)\nconst voteOnComment=async(commentId,voteType)=>{if(!isAuthenticated){alert('Please sign in to vote on comments');return;}const userVoteKey=\"\".concat(commentId,\"_\").concat(user.id);const existingVote=userVotes[userVoteKey];// Prevent multiple votes of same type\nif(existingVote===voteType){return;}try{console.log(\"\\uD83D\\uDDF3\\uFE0F Voting \".concat(voteType,\" on comment:\"),commentId);// API call to vote\nawait api.post(\"/matches/\".concat(matchId,\"/comments/\").concat(commentId,\"/vote\"),{vote_type:voteType});// Update local state\nsetUserVotes(prev=>_objectSpread(_objectSpread({},prev),{},{[userVoteKey]:voteType}));// âœ… FIXED: Save vote state to localStorage for persistence across pages\nlocalStorage.setItem('mrvl-comment-votes',JSON.stringify(_objectSpread(_objectSpread({},userVotes),{},{[userVoteKey]:voteType})));// Update comment vote count\nsetComments(prev=>prev.map(comment=>{if(comment.id===commentId){const newComment=_objectSpread({},comment);// Remove previous vote if exists\nif(existingVote){if(existingVote==='like'){newComment.likes=Math.max(0,(newComment.likes||0)-1);}else{newComment.dislikes=Math.max(0,(newComment.dislikes||0)-1);}}// Add new vote\nif(voteType==='like'){newComment.likes=(newComment.likes||0)+1;}else{newComment.dislikes=(newComment.dislikes||0)+1;}return newComment;}return comment;}));// âœ… FIXED: Save vote state to localStorage for persistence across pages\nlocalStorage.setItem('mrvl-comment-votes',JSON.stringify(_objectSpread(_objectSpread({},userVotes),{},{[userVoteKey]:voteType})));console.log('âœ… Vote submitted successfully');// âœ… FIXED: Save vote state to localStorage for persistence across pages\nlocalStorage.setItem('mrvl-comment-votes',JSON.stringify(_objectSpread(_objectSpread({},userVotes),{},{[userVoteKey]:voteType})));}catch(error){console.error('âŒ Error voting on comment:',error);// Demo mode - update locally\nsetUserVotes(prev=>_objectSpread(_objectSpread({},prev),{},{[userVoteKey]:voteType}));setComments(prev=>prev.map(comment=>{if(comment.id===commentId){const newComment=_objectSpread({},comment);if(existingVote){if(existingVote==='like'){newComment.likes=Math.max(0,(newComment.likes||0)-1);}else{newComment.dislikes=Math.max(0,(newComment.dislikes||0)-1);}}if(voteType==='like'){newComment.likes=(newComment.likes||0)+1;}else{newComment.dislikes=(newComment.dislikes||0)+1;}return newComment;}return comment;}));}};// ENHANCED COMMENTS: REPLY TO COMMENT\nconst submitReply=async parentCommentId=>{if(!replyText.trim()||!isAuthenticated)return;try{console.log('ğŸ’¬ Submitting reply to comment:',parentCommentId);const replyData={content:replyText.trim(),parent_id:parentCommentId};const response=await api.post(\"/matches/\".concat(matchId,\"/comments\"),replyData);const newReply=response.data||response;// Add reply to comments list\nsetComments(prev=>[newReply,...prev]);setReplyText('');setReplyingTo(null);console.log('âœ… Reply submitted successfully');}catch(error){console.error('âŒ Error submitting reply:',error);// Demo mode - add reply locally\nconst demoReply={id:Date.now(),content:replyText.trim(),user_name:(user===null||user===void 0?void 0:user.name)||'Anonymous',user_avatar:\"ğŸ¦¸\",created_at:new Date().toISOString(),parent_id:parentCommentId,likes:0,dislikes:0};setComments(prev=>[demoReply,...prev]);setReplyText('');setReplyingTo(null);}};// DELETE COMMENT FUNCTION\nconst deleteComment=async commentId=>{try{console.log('ğŸ—‘ï¸ Deleting comment:',commentId);await api.delete(\"/matches/\".concat(matchId,\"/comments/\").concat(commentId));setComments(prev=>prev.filter(c=>c.id!==commentId));console.log('âœ… Comment deleted successfully');}catch(error){console.error('âŒ Error deleting comment:',error);alert('Failed to delete comment. Please try again.');}};const initializeMatchData=async()=>{try{setLoading(true);console.log('ğŸ”„ MatchDetailPage: Initializing match data for ID:',matchId);// Direct fetch match data (no more API dependency for players)\nawait fetchMatchData();}catch(error){console.error('âŒ Error initializing match data:',error);await fetchMatchData();}};const fetchMatchData=async()=>{try{console.log('ğŸ”„ MatchDetailPage: Fetching match data for ID:',matchId);// First try to get from centralized data\nconst centralMatch=getMatchById(matchId);if(centralMatch){console.log('âœ… MatchDetailPage: Using centralized match data:',centralMatch);const transformedMatch=await transformMatchData(centralMatch);setMatch(transformedMatch);return;}// Try to fetch real match data from API\ntry{const response=await api.get(\"/matches/\".concat(matchId));let matchData=response.data||response;console.log('âœ… Real match data received:',matchData);// Transform backend data to frontend format\nconst transformedMatch=await transformMatchData(matchData);setMatch(transformedMatch);}catch(error){console.error('âŒ Error fetching match data from API:',error);setMatch(null);// NO FALLBACK DATA\n}}catch(error){console.error('âŒ Error in fetchMatchData:',error);setMatch(null);}finally{setLoading(false);}};const transformMatchData=async matchData=>{var _matchData$event,_matchData$event2;console.log('ğŸ” MatchDetailPage: Transforming match data:',matchData);// If this is already from centralized data, return as is with maps\nif(matchData.team1&&matchData.team2&&matchData.team1.name){console.log('âœ… MatchDetailPage: Using pre-formatted match data');return _objectSpread(_objectSpread({},matchData),{},{maps:await generateMapData(matchData.team1,matchData.team2)// âœ… AWAIT async function\n});}// CRITICAL FIX: Get real teams by ID from backend data\nconsole.log('ğŸ” MatchDetailPage: Getting teams by ID - Team1:',matchData.team1_id,'Team2:',matchData.team2_id);const team1=getTeamById(matchData.team1_id);const team2=getTeamById(matchData.team2_id);if(!team1||!team2){console.error('âŒ MatchDetailPage: Could not find teams with IDs:',matchData.team1_id,matchData.team2_id);throw new Error('Teams not found');}console.log('âœ… MatchDetailPage: Found teams:',team1.name,'vs',team2.name);return{id:matchData.id,team1:_objectSpread(_objectSpread({},team1),{},{score:matchData.team1_score||0}),team2:_objectSpread(_objectSpread({},team2),{},{score:matchData.team2_score||0}),status:matchData.status||'completed',event:{name:((_matchData$event=matchData.event)===null||_matchData$event===void 0?void 0:_matchData$event.name)||matchData.event_name||'Tournament',tier:((_matchData$event2=matchData.event)===null||_matchData$event2===void 0?void 0:_matchData$event2.tier)||'S'},date:matchData.match_date||matchData.date,bestOf:matchData.best_of||3,maps:await generateMapData(team1,team2),broadcast:{stream:'https://twitch.tv/marvelrivals',vod:'https://youtube.com/watch?v=example'}};};const generateMapData=async(team1,team2)=>{// âœ… REAL MARVEL RIVALS MAPS - Accurate to the game\nconst marvelRivalsMaps=[{name:'Tokyo 2099: Spider-Islands',mode:'Convoy',description:'Neo-Tokyo futuristic cityscape with web-slinging routes'},{name:'Midtown Manhattan',mode:'Domination',description:'Classic New York City street battles'},{name:'Wakanda Palace',mode:'Convoy',description:'Advanced Wakandan technology and vibranium structures'},{name:'Sanctum Sanctorum',mode:'Domination',description:'Doctor Strange\\'s mystical headquarters with magical portals'},{name:'Asgard: Royal Palace',mode:'Convoy',description:'Thor\\'s home realm with Bifrost bridges and godly architecture'},{name:'Klyntar Symbiote World',mode:'Domination',description:'Dark alien world of the symbiotes with organic structures'},{name:'Birnin Zana: Golden City',mode:'Convoy',description:'Wakanda\\'s capital city with advanced urban warfare'}];// âœ… REAL MARVEL RIVALS HEROES - Current roster\nconst marvelRivalsHeroes=[// Tank (Tanks)\n'Captain America','Doctor Strange','Groot','Hulk','Magneto','Peni Parker','The Thing','Thor','Venom',// Duelist (DPS) \n'Black Panther','Black Widow','Hawkeye','Hela','Human Torch','Iron Fist','Iron Man','Magik','Moon Knight','Namor','Psylocke','The Punisher','Scarlet Witch','Spider-Man','Squirrel Girl','Star-Lord','Storm','Wolverine',// Support (Support)\n'Adam Warlock','Cloak & Dagger','Invisible Woman','Jeff the Land Shark','Loki','Luna Snow','Mantis','Rocket Raccoon'];// âœ… INITIALIZE MATCH MAPS - 3 maps for BO3 format\nconst maps=[];const selectedMaps=marvelRivalsMaps.slice(0,3);// Take first 3 maps for consistency\nfor(let mapIndex=0;mapIndex<3;mapIndex++){const currentMap=selectedMaps[mapIndex];// âœ… AWAIT player data for both teams with real heroes\nconst team1Players=await generateRealPlayerStats(team1,marvelRivalsHeroes);const team2Players=await generateRealPlayerStats(team2,marvelRivalsHeroes);maps.push({name:currentMap.name,mode:currentMap.mode,description:currentMap.description,winner:null,// âœ… Initialize with no winner - ready for live input\nteam1Score:0,// âœ… Initialize to 0 - ready for live updates\nteam2Score:0,// âœ… Initialize to 0 - ready for live updates\nduration:null,// âœ… No duration for new matches - will be updated live\nstatus:'not_started',// âœ… Track map status for live workflow\nteam1Players:team1Players,team2Players:team2Players});}return maps;};// âœ… CRITICAL FIX: Get real players from backend API for proper navigation\nconst generateRealPlayerStats=async(team,heroPool)=>{const roles=['Tank','Duelist','Support','Duelist','Support','Tank'];console.log(\"\\uD83D\\uDD0D Generating players for team \".concat(team.name,\" (ID: \").concat(team.id,\")\"));try{var _playersResponse$data;// âœ… FETCH REAL PLAYERS FROM BACKEND - Use general players endpoint and filter\nconsole.log(\"\\uD83D\\uDD0D Fetching players for team \".concat(team.name,\" (ID: \").concat(team.id,\") from /api/players...\"));const playersResponse=await api.get('/players');const allPlayers=(playersResponse===null||playersResponse===void 0?void 0:(_playersResponse$data=playersResponse.data)===null||_playersResponse$data===void 0?void 0:_playersResponse$data.data)||(playersResponse===null||playersResponse===void 0?void 0:playersResponse.data)||[];// Filter players by team_id\nconst realPlayers=Array.isArray(allPlayers)?allPlayers.filter(player=>player.team_id===team.id||player.team_id===parseInt(team.id)):[];if(realPlayers.length>0){console.log(\"\\u2705 Found \".concat(realPlayers.length,\" REAL players for team \").concat(team.name,\":\"),realPlayers.map(p=>({id:p.id,name:p.name})));// âœ… ENHANCED: Assign proper Marvel Rivals heroes to players\nconst enhancedPlayers=realPlayers.slice(0,6).map((player,i)=>{// Get hero from different roles to create balanced team comp\nlet assignedHero;const playerRole=roles[i]||'Duelist';// âœ… FORCE HERO DIVERSITY - Don't rely on backend main_hero\nif(playerRole==='Tank'){const tankHeroes=['Captain America','Doctor Strange','Groot','Thor','Venom','Hulk','Magneto','The Thing','Peni Parker'];assignedHero=tankHeroes[i%tankHeroes.length];// Cycle through different tanks\n}else if(playerRole==='Support'){const supportHeroes=['Luna Snow','Mantis','Rocket Raccoon','Adam Warlock','Loki','Cloak & Dagger','Invisible Woman','Jeff the Land Shark'];assignedHero=supportHeroes[i%supportHeroes.length];// Cycle through different supports\n}else{const duelistHeroes=['Iron Man','Spider-Man','Black Widow','Hawkeye','Scarlet Witch','Black Panther','Hela','Human Torch','Iron Fist','Magik','Moon Knight','Namor','Psylocke','The Punisher','Squirrel Girl','Star-Lord','Storm','Wolverine'];assignedHero=duelistHeroes[i%duelistHeroes.length];// Cycle through different duelists\n}// âœ… FORCE REAL COUNTRY FLAGS - Don't show generic flags\nconst realCountries=['ğŸ‡ºğŸ‡¸','ğŸ‡¬ğŸ‡§','ğŸ‡¨ğŸ‡¦','ğŸ‡«ğŸ‡·','ğŸ‡©ğŸ‡ª','ğŸ‡¯ğŸ‡µ','ğŸ‡°ğŸ‡·','ğŸ‡§ğŸ‡·','ğŸ‡¦ğŸ‡º','ğŸ‡¸ğŸ‡ª','ğŸ‡³ğŸ‡´','ğŸ‡«ğŸ‡®','ğŸ‡©ğŸ‡°','ğŸ‡³ğŸ‡±','ğŸ‡ªğŸ‡¸','ğŸ‡®ğŸ‡¹','ğŸ‡µğŸ‡±','ğŸ‡·ğŸ‡º','ğŸ‡¨ğŸ‡³','ğŸ‡®ğŸ‡³'];const playerCountry=player.country&&player.country!=='US'&&player.country!=='Finland'?player.country:realCountries[i%realCountries.length];return{id:player.id,// âœ… REAL PLAYER ID - NAVIGATION WILL WORK!\nname:player.name,hero:assignedHero,// âœ… FORCED HERO DIVERSITY - No more all Captain America\nrole:player.role||playerRole,eliminations:0,// âœ… Initialize to 0 for live input\ndeaths:0,assists:0,damage:0,healing:0,damageBlocked:0,ultimatesUsed:0,country:playerCountry,// âœ… FORCED COUNTRY DIVERSITY\nteamId:team.id};});return enhancedPlayers;}else{console.warn(\"\\u26A0\\uFE0F No players found via API for team \".concat(team.name,\", creating placeholder players with Marvel heroes\"));// âœ… FALLBACK: Create placeholder players with proper Marvel Rivals heroes\nconst placeholderPlayers=[];for(let i=0;i<6;i++){const playerRole=roles[i]||'Duelist';let assignedHero;if(playerRole==='Tank'){const tankHeroes=['Captain America','Doctor Strange','Groot','Thor','Venom'];assignedHero=tankHeroes[i%tankHeroes.length];}else if(playerRole==='Support'){const supportHeroes=['Luna Snow','Mantis','Rocket Raccoon','Adam Warlock','Loki'];assignedHero=supportHeroes[i%supportHeroes.length];}else{const duelistHeroes=['Iron Man','Spider-Man','Black Widow','Hawkeye','Scarlet Witch'];assignedHero=duelistHeroes[i%duelistHeroes.length];}placeholderPlayers.push({id:\"\".concat(team.id,\"_player_\").concat(i+1),// Unique placeholder ID\nname:\"\".concat(team.short_name,\"_\").concat(i+1),hero:assignedHero,role:playerRole,eliminations:0,deaths:0,assists:0,damage:0,healing:0,damageBlocked:0,ultimatesUsed:0,country:'US',teamId:team.id});}return placeholderPlayers;}}catch(error){console.error(\"\\u274C Failed to fetch players for team \".concat(team.name,\":\"),error);return[];}};const getRoleColor=role=>{switch(role){case'Duelist':return'text-red-600 dark:text-red-400';case'Tank':return'text-blue-600 dark:text-blue-400';case'Support':return'text-green-600 dark:text-green-400';default:return'text-gray-600 dark:text-gray-400';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:!realPlayersLoaded?'Loading player data...':'Loading match details...'})]})});}if(!match){return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Match Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"The match you're looking for doesn't exist or may have been removed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('matches'),className:\"btn btn-primary\",children:\"\\u2190 Back to Matches\"})]});}const currentMap=match.maps[activeMap];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-base text-gray-500 dark:text-gray-500 mb-4 scale-[0.85] origin-top-left transform w-[117%]\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('home'),className:\"hover:text-red-600 dark:hover:text-red-400 transition-colors\",children:\"Home\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('matches'),className:\"hover:text-red-600 dark:hover:text-red-400 transition-colors\",children:\"Matches\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900 dark:text-white\",children:[match.team1.short_name,\" vs \",match.team2.short_name]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/10 dark:to-red-800/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:[match.event.name,\" \\u2022 \",new Date(match.date).toLocaleDateString(),\" \\u2022 Best of \",match.bestOf]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(match.status==='live'?'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400':match.status==='completed'?'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400':'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'),children:match.status.toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer hover:scale-105 transition-transform\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:/*#__PURE__*/_jsx(TeamLogo,{team:match.team1,size:\"w-16 h-16\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:match.team1.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:match.team1.short_name})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-5xl font-bold text-gray-900 dark:text-white\",children:[match.team1.score,\" - \",match.team2.score]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:match.team2.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:match.team2.short_name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer hover:scale-105 transition-transform\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:/*#__PURE__*/_jsx(TeamLogo,{team:match.team2,size:\"w-16 h-16\"})})]})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium\",children:\"\\uD83D\\uDCFA Live Stream\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm font-medium\",children:\"\\uD83D\\uDCB0 Bet on this match\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium\",children:\"\\uD83C\\uDFAC Watch VOD\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-red-600 dark:text-red-400 mb-1\",children:currentMap.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-2\",children:[currentMap.mode,\" \\u2022 \",currentMap.description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(currentMap.winner===match.team1.id?'text-green-600 dark:text-green-400':'text-gray-600 dark:text-gray-400'),children:[match.team1.short_name,\" \",currentMap.team1Score]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 dark:text-gray-500\",children:\"-\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold \".concat(currentMap.winner===match.team2.id?'text-green-600 dark:text-green-400':'text-gray-600 dark:text-gray-400'),children:[currentMap.team2Score,\" \",match.team2.short_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 dark:text-gray-400 text-sm mt-1\",children:[\"Duration: \",currentMap.duration||'Not started']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-2\",children:match.maps.map((map,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMap(index),className:\"px-3 py-2 rounded text-xs font-medium transition-colors \".concat(activeMap===index?'bg-red-600 text-white shadow':'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:map.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs opacity-75\",children:[map.team1Score,\" - \",map.team2Score]})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 bg-gray-800 dark:bg-gray-700 text-white font-bold text-xs rounded-t\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:\"Player\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Heroes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"K/D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"DMG\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"HEAL\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"BLK\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team1.name);navigateTo&&navigateTo('team-detail',{id:match.team1.id});},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-red-600 dark:text-red-400\",children:match.team1.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:currentMap.team1Players.map((player,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\",onClick:()=>{console.log('ğŸ”— CRITICAL FIX: Navigating to player profile with REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 flex items-center justify-center text-lg\",title:\"Country: \".concat(player.country),children:player.country||'ğŸŒ'}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\",onClick:e=>{e.stopPropagation();console.log('ğŸ”— CRITICAL FIX: Player name clicked - using REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:player.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg overflow-hidden w-10 h-10 \".concat(getHeroRole(player.hero)==='Tank'?'bg-blue-600':getHeroRole(player.hero)==='Duelist'?'bg-red-600':getHeroRole(player.hero)==='Support'?'bg-green-600':'bg-gray-600'),children:[getHeroImage(player.hero)?/*#__PURE__*/_jsx(\"img\",{src:\"https://staging.mrvl.net/Heroes/\".concat(getHeroImage(player.hero)),alt:player.hero,className:\"w-10 h-10 object-cover\",title:\"\".concat(player.hero,\" (\").concat(getHeroRole(player.hero),\")\"),onError:e=>{console.error(\"\\u274C Failed to load hero image: \".concat(player.hero));e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 flex items-center justify-center text-white text-xs font-bold text-center leading-tight\",style:{display:getHeroImage(player.hero)?'none':'flex'},title:\"\".concat(player.hero,\" (\").concat(getHeroRole(player.hero),\")\"),children:player.hero?player.hero.charAt(0):'H'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.eliminations}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.deaths}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.assists}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:(player.eliminations/Math.max(player.deaths,1)).toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:[(player.damage/1000).toFixed(1),\"k\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.healing>0?\"\".concat((player.healing/1000).toFixed(1),\"k\"):'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.damageBlocked>0?\"\".concat((player.damageBlocked/1000).toFixed(1),\"k\"):'-'})]},player.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",onClick:()=>{console.log('ğŸ”— MatchDetailPage: Navigating to team profile:',match.team2.name);navigateTo&&navigateTo('team-detail',{id:match.team2.id});},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-red-600 dark:text-red-400\",children:match.team2.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:currentMap.team2Players.map((player,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\",onClick:()=>{console.log('ğŸ”— CRITICAL FIX: Navigating to player profile with REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 flex items-center justify-center text-lg\",title:\"Country: \".concat(player.country),children:player.country||'ğŸŒ'}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\",onClick:e=>{e.stopPropagation();console.log('ğŸ”— CRITICAL FIX: Player name clicked - using REAL ID:',player.name,player.id);navigateTo&&navigateTo('player-detail',{id:player.id});},children:player.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg overflow-hidden \".concat(getHeroRole(player.hero)==='Tank'?'bg-blue-600':getHeroRole(player.hero)==='Duelist'?'bg-red-600':getHeroRole(player.hero)==='Support'?'bg-green-600':'bg-gray-600'),children:[getHeroImage(player.hero)?/*#__PURE__*/_jsx(\"img\",{src:\"https://staging.mrvl.net/Heroes/\".concat(getHeroImage(player.hero)),alt:player.hero,className:\"w-10 h-10 object-cover rounded-lg\",title:\"\".concat(player.hero,\" (\").concat(getHeroRole(player.hero),\")\"),onError:e=>{console.error(\"\\u274C Failed to load hero image: https://staging.mrvl.net/Heroes/\".concat(getHeroImage(player.hero)));// Show role-colored fallback with hero name\ne.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 flex items-center justify-center text-white text-xs font-bold text-center leading-tight\",style:{display:getHeroImage(player.hero)?'none':'flex'},title:\"\".concat(player.hero,\" (\").concat(getHeroRole(player.hero),\")\"),children:player.hero.split(' ').map(word=>word[0]).join('').slice(0,3)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 -right-1 w-3 h-3 rounded-full text-xs flex items-center justify-center text-white font-bold\",style:{backgroundColor:getHeroRole(player.hero)==='Tank'?'#3B82F6':getHeroRole(player.hero)==='Duelist'?'#EF4444':getHeroRole(player.hero)==='Support'?'#10B981':'#6B7280'},children:getHeroRole(player.hero)==='Tank'?'ğŸ›¡ï¸':getHeroRole(player.hero)==='Duelist'?'âš”ï¸':getHeroRole(player.hero)==='Support'?'ğŸ’š':'â“'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.eliminations}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.deaths}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.assists}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:(player.eliminations/Math.max(player.deaths,1)).toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:[(player.damage/1000).toFixed(1),\"k\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.healing>0?\"\".concat((player.healing/1000).toFixed(1),\"k\"):'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\",children:player.damageBlocked>0?\"\".concat((player.damageBlocked/1000).toFixed(1),\"k\"):'-'})]},player.id))})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Match Comments (\",comments.length,\")\"]})]}),isAuthenticated?/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:(user===null||user===void 0?void 0:user.avatar)||\"ğŸ¦¸\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"Share your thoughts about this match...\",className:\"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none\",rows:\"3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"Posting as \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:submitComment,disabled:!newComment.trim()||submittingComment,className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:submittingComment?'Posting...':'Post Comment'})]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-3\",children:\"Sign in to join the discussion\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal')),className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"Sign In to Comment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:commentsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading comments...\"})}):comments.length>0?comments.map(comment=>{var _user$roles,_user$roles2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:comment.user_avatar||\"ğŸ‘¤\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:comment.user_name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:new Date(comment.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300\",children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>voteOnComment(comment.id,'like'),disabled:!isAuthenticated,className:\"flex items-center space-x-1 transition-colors \".concat(userVotes[\"\".concat(comment.id,\"_\").concat(user===null||user===void 0?void 0:user.id)]==='like'?'text-green-600 font-semibold':'text-gray-500 hover:text-green-600',\" \").concat(!isAuthenticated?'opacity-50 cursor-not-allowed':'cursor-pointer'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC4D\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:comment.likes||0})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>voteOnComment(comment.id,'dislike'),disabled:!isAuthenticated,className:\"flex items-center space-x-1 transition-colors \".concat(userVotes[\"\".concat(comment.id,\"_\").concat(user===null||user===void 0?void 0:user.id)]==='dislike'?'text-red-600 font-semibold':'text-gray-500 hover:text-red-600',\" \").concat(!isAuthenticated?'opacity-50 cursor-not-allowed':'cursor-pointer'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC4E\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:comment.dislikes||0})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!isAuthenticated){alert('Please sign in to reply');return;}setReplyingTo(replyingTo===comment.id?null:comment.id);setReplyText('');},className:\"text-sm text-gray-500 hover:text-blue-600 transition-colors\",children:replyingTo===comment.id?'Cancel':'Reply'})]}),replyingTo===comment.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:replyText,onChange:e=>setReplyText(e.target.value),placeholder:\"Reply to \".concat(comment.user_name,\"...\"),className:\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none text-sm\",rows:\"2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setReplyingTo(null);setReplyText('');},className:\"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>submitReply(comment.id),disabled:!replyText.trim(),className:\"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Reply\"})]})]})]}),((user===null||user===void 0?void 0:(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes('admin'))||(user===null||user===void 0?void 0:(_user$roles2=user.roles)===null||_user$roles2===void 0?void 0:_user$roles2.includes('moderator')))&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Are you sure you want to delete this comment?')){deleteComment(comment.id);}},className:\"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 text-sm\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]},comment.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:isAuthenticated?'Be the first to share your thoughts about this match!':'Sign in to be the first to comment on this match!'})]})}),comments.length>0&&comments.length%20===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchComments,className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Load More Comments\"})})]})]})]})]});}export default MatchDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","TeamLogo","PlayerAvatar","getMatchById","REAL_TEAMS","getTeamById","getRandomTeams","getRandomTournament","getCountryFlag","getRealPlayersForTeam","jsx","_jsx","jsxs","_jsxs","getHeroImage","heroName","heroImageMapping","getHeroRole","heroRoles","MatchDetailPage","_ref","params","navigateTo","match","setMatch","activeMap","setActiveMap","loading","setLoading","realPlayersLoaded","setRealPlayersLoaded","comments","setComments","commentsLoading","setCommentsLoading","newComment","setNewComment","submittingComment","setSubmittingComment","replyingTo","setReplyingTo","replyText","setReplyText","userVotes","setUserVotes","saved","localStorage","getItem","JSON","parse","showReplies","setShowReplies","api","user","isAuthenticated","matchId","id","console","log","initializeMatchData","fetchComments","response","get","concat","commentsData","data","length","error","submitComment","trim","commentData","content","post","newCommentResponse","prev","demoComment","Date","now","user_name","name","user_avatar","created_at","toISOString","alert","voteOnComment","commentId","voteType","userVoteKey","existingVote","vote_type","_objectSpread","setItem","stringify","map","comment","likes","Math","max","dislikes","submitReply","parentCommentId","replyData","parent_id","newReply","demoReply","deleteComment","delete","filter","c","fetchMatchData","centralMatch","transformedMatch","transformMatchData","matchData","_matchData$event","_matchData$event2","team1","team2","maps","generateMapData","team1_id","team2_id","Error","score","team1_score","team2_score","status","event","event_name","tier","date","match_date","bestOf","best_of","broadcast","stream","vod","marvelRivalsMaps","mode","description","marvelRivalsHeroes","selectedMaps","slice","mapIndex","currentMap","team1Players","generateRealPlayerStats","team2Players","push","winner","team1Score","team2Score","duration","team","heroPool","roles","_playersResponse$data","playersResponse","allPlayers","realPlayers","Array","isArray","player","team_id","parseInt","p","enhancedPlayers","i","assignedHero","playerRole","tankHeroes","supportHeroes","duelistHeroes","realCountries","playerCountry","country","hero","role","eliminations","deaths","assists","damage","healing","damageBlocked","ultimatesUsed","teamId","warn","placeholderPlayers","short_name","getRoleColor","className","children","onClick","toLocaleDateString","toUpperCase","size","index","title","e","stopPropagation","src","alt","onError","target","style","display","nextSibling","charAt","toFixed","split","word","join","backgroundColor","avatar","value","onChange","placeholder","rows","disabled","window","dispatchEvent","CustomEvent","_user$roles","_user$roles2","month","day","hour","minute","includes","confirm"],"sources":["/app/frontend/src/components/pages/MatchDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\nimport { TeamLogo, PlayerAvatar } from '../../utils/imageUtils';\nimport { getMatchById } from '../../data/matchesData';\nimport { REAL_TEAMS, getTeamById, getRandomTeams, getRandomTournament, getCountryFlag } from '../../data/realTeams';\nimport { getRealPlayersForTeam } from '../../data/realPlayersMapping';\n\n// ğŸ® MARVEL RIVALS HERO SYSTEM - Real Images + Role Data\nconst getHeroImage = (heroName) => {\n  if (!heroName) return null;\n  \n  // âœ… REAL HERO IMAGES - Convert hero name to actual image filename\n  const heroImageMapping = {\n    'Adam Warlock': 'adam-warlock-headbig.webp',\n    'Black Panther': 'black-panther-headbig.webp', \n    'Black Widow': 'black-widow-headbig.webp',\n    'Bruce Banner': 'bruce-banner-headbig.webp',\n    'Captain America': 'captain-america-headbig.webp',\n    'Cloak & Dagger': 'cloak-dagger-headbig.webp',\n    'Doctor Strange': 'doctor-strange-headbig.webp',\n    'Emma Frost': 'emma-frost-headbig.webp',\n    'Groot': 'groot-headbig.webp',\n    'Hawkeye': 'hawkeye-headbig.webp',\n    'Hela': 'hela-headbig.webp',\n    'Human Torch': 'human-torch-headbig.webp',\n    'Invisible Woman': 'invisible-woman-headbig.webp',\n    'Iron Fist': 'iron-fist-headbig.webp',\n    'Iron Man': 'iron-man-headbig.webp',\n    'Jeff the Land Shark': 'jeff-the-land-shark-headbig.webp',\n    'Loki': 'loki-headbig.webp',\n    'Luna Snow': 'luna-snow-headbig.webp',\n    'Magik': 'magik-headbig.webp',\n    'Magneto': 'magneto-headbig.webp',\n    'Mantis': 'mantis-headbig.webp',\n    'Mister Fantastic': 'mister-fantastic-headbig.webp',\n    'Moon Knight': 'moon-knight-headbig.webp',\n    'Namor': 'namor-headbig.webp',\n    'Peni Parker': 'peni-parker-headbig.webp',\n    'Psylocke': 'psylocke-headbig.webp',\n    'Rocket Raccoon': 'rocket-raccoon-headbig.webp',\n    'Scarlet Witch': 'scarlet-witch-headbig.webp',\n    'Spider-Man': 'spider-man-headbig.webp',\n    'Squirrel Girl': 'squirrel-girl-headbig.webp',\n    'Star-Lord': 'star-lord-headbig.webp',\n    'Storm': 'storm-headbig.webp',\n    'The Punisher': 'the-punisher-headbig.webp',\n    'The Thing': 'the-thing-headbig.webp',\n    'Thor': 'thor-headbig.webp',\n    'Ultron': 'ultron-headbig.webp',\n    'Venom': 'venom-headbig.webp'\n  };\n  \n  return heroImageMapping[heroName] || null;\n};\n\n// ğŸ® MARVEL RIVALS ROLE SYSTEM - ALIGNED WITH BACKEND\nconst getHeroRole = (heroName) => {\n  const heroRoles = {\n    // ğŸ›¡ï¸ TANK Heroes - BACKEND USES \"TANK\" NOT \"VANGUARD\"\n    'Captain America': 'Tank',\n    'Doctor Strange': 'Tank', \n    'Groot': 'Tank',\n    'Hulk': 'Tank',\n    'Magneto': 'Tank',\n    'Peni Parker': 'Tank',\n    'The Thing': 'Tank',\n    'Thor': 'Tank',\n    'Venom': 'Tank',\n\n    // âš”ï¸ DUELIST Heroes - 18 heroes\n    'Black Panther': 'Duelist',\n    'Black Widow': 'Duelist',\n    'Hawkeye': 'Duelist',\n    'Hela': 'Duelist',\n    'Human Torch': 'Duelist',\n    'Iron Fist': 'Duelist',\n    'Iron Man': 'Duelist',\n    'Magik': 'Duelist',\n    'Moon Knight': 'Duelist',\n    'Namor': 'Duelist',\n    'Psylocke': 'Duelist',\n    'The Punisher': 'Duelist',\n    'Scarlet Witch': 'Duelist',\n    'Spider-Man': 'Duelist',\n    'Squirrel Girl': 'Duelist',\n    'Star-Lord': 'Duelist',\n    'Storm': 'Duelist',\n    'Wolverine': 'Duelist',\n\n    // ğŸ’š SUPPORT Heroes - 7 heroes\n    'Adam Warlock': 'Support',\n    'Cloak & Dagger': 'Support',\n    'Invisible Woman': 'Support',\n    'Jeff the Land Shark': 'Support',\n    'Loki': 'Support',\n    'Luna Snow': 'Support',\n    'Mantis': 'Support',\n    'Rocket Raccoon': 'Support'\n  };\n  \n  return heroRoles[heroName] || 'Unknown';\n};\n\nfunction MatchDetailPage({ params, navigateTo }) {\n  const [match, setMatch] = useState(null);\n  const [activeMap, setActiveMap] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [realPlayersLoaded, setRealPlayersLoaded] = useState(false);\n  \n  // PHASE 4: ENHANCED COMMENTS SYSTEM STATE\n  const [comments, setComments] = useState([]);\n  const [commentsLoading, setCommentsLoading] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [submittingComment, setSubmittingComment] = useState(false);\n  const [replyingTo, setReplyingTo] = useState(null);\n  const [replyText, setReplyText] = useState('');\n  const [userVotes, setUserVotes] = useState(() => {\n    // âœ… FIXED: Load vote state from localStorage for persistence\n    const saved = localStorage.getItem('mrvl-comment-votes');\n    return saved ? JSON.parse(saved) : {};\n  });\n  const [showReplies, setShowReplies] = useState({});\n  \n  const { api, user, isAuthenticated } = useAuth();\n\n  const matchId = params?.id;\n\n  console.log('ğŸ” MatchDetailPage - Received match ID:', matchId);\n\n  useEffect(() => {\n    if (matchId) {\n      initializeMatchData();\n      fetchComments(); // PHASE 4: Load comments when match loads\n    }\n  }, [matchId]);\n\n  // PHASE 4: FETCH MATCH COMMENTS\n  const fetchComments = async () => {\n    if (!matchId) return;\n    \n    try {\n      setCommentsLoading(true);\n      console.log('ğŸ’¬ Fetching comments for match:', matchId);\n      \n      const response = await api.get(`/matches/${matchId}/comments`);\n      const commentsData = response.data || response || [];\n      \n      setComments(commentsData);\n      console.log('âœ… Comments loaded:', commentsData.length);\n    } catch (error) {\n      console.error('âŒ Error fetching comments:', error);\n      setComments([]); // NO FALLBACK DATA\n    } finally {\n      setCommentsLoading(false);\n    }\n  };\n\n  // PHASE 4: SUBMIT NEW COMMENT\n  const submitComment = async () => {\n    if (!newComment.trim() || !isAuthenticated) return;\n    \n    try {\n      setSubmittingComment(true);\n      console.log('ğŸ’¬ Submitting comment:', newComment);\n      \n      const commentData = {\n        content: newComment.trim()\n      };\n      \n      const response = await api.post(`/matches/${matchId}/comments`, commentData);\n      const newCommentResponse = response.data || response;\n      \n      // Add new comment to list\n      setComments(prev => [newCommentResponse, ...prev]);\n      setNewComment('');\n      \n      console.log('âœ… Comment submitted successfully');\n    } catch (error) {\n      console.error('âŒ Error submitting comment:', error);\n      \n      // For demo purposes, add comment locally\n      const demoComment = {\n        id: Date.now(),\n        content: newComment.trim(),\n        user_name: user?.name || 'Anonymous',\n        user_avatar: \"ğŸ¦¸\",\n        created_at: new Date().toISOString()\n      };\n      \n      setComments(prev => [demoComment, ...prev]);\n      setNewComment('');\n      alert('Comment added (demo mode)');\n    } finally {\n      setSubmittingComment(false);\n    }\n  };\n\n  // ENHANCED COMMENTS: VOTE ON COMMENT (Like/Dislike)\n  const voteOnComment = async (commentId, voteType) => {\n    if (!isAuthenticated) {\n      alert('Please sign in to vote on comments');\n      return;\n    }\n\n    const userVoteKey = `${commentId}_${user.id}`;\n    const existingVote = userVotes[userVoteKey];\n\n    // Prevent multiple votes of same type\n    if (existingVote === voteType) {\n      return;\n    }\n\n    try {\n      console.log(`ğŸ—³ï¸ Voting ${voteType} on comment:`, commentId);\n      \n      // API call to vote\n      await api.post(`/matches/${matchId}/comments/${commentId}/vote`, {\n        vote_type: voteType\n      });\n\n      // Update local state\n      setUserVotes(prev => ({\n        ...prev,\n        [userVoteKey]: voteType\n      }));\n      \n      // âœ… FIXED: Save vote state to localStorage for persistence across pages\n      localStorage.setItem('mrvl-comment-votes', JSON.stringify({\n        ...userVotes,\n        [userVoteKey]: voteType\n      }));\n\n      // Update comment vote count\n      setComments(prev => prev.map(comment => {\n        if (comment.id === commentId) {\n          const newComment = { ...comment };\n          \n          // Remove previous vote if exists\n          if (existingVote) {\n            if (existingVote === 'like') {\n              newComment.likes = Math.max(0, (newComment.likes || 0) - 1);\n            } else {\n              newComment.dislikes = Math.max(0, (newComment.dislikes || 0) - 1);\n            }\n          }\n          \n          // Add new vote\n          if (voteType === 'like') {\n            newComment.likes = (newComment.likes || 0) + 1;\n          } else {\n            newComment.dislikes = (newComment.dislikes || 0) + 1;\n          }\n          \n          return newComment;\n        }\n        return comment;\n      }));\n\n      // âœ… FIXED: Save vote state to localStorage for persistence across pages\n      localStorage.setItem('mrvl-comment-votes', JSON.stringify({\n        ...userVotes,\n        [userVoteKey]: voteType\n      }));\n\n      console.log('âœ… Vote submitted successfully');\n      \n      // âœ… FIXED: Save vote state to localStorage for persistence across pages\n      localStorage.setItem('mrvl-comment-votes', JSON.stringify({\n        ...userVotes,\n        [userVoteKey]: voteType\n      }));\n    } catch (error) {\n      console.error('âŒ Error voting on comment:', error);\n      \n      // Demo mode - update locally\n      setUserVotes(prev => ({\n        ...prev,\n        [userVoteKey]: voteType\n      }));\n\n      setComments(prev => prev.map(comment => {\n        if (comment.id === commentId) {\n          const newComment = { ...comment };\n          \n          if (existingVote) {\n            if (existingVote === 'like') {\n              newComment.likes = Math.max(0, (newComment.likes || 0) - 1);\n            } else {\n              newComment.dislikes = Math.max(0, (newComment.dislikes || 0) - 1);\n            }\n          }\n          \n          if (voteType === 'like') {\n            newComment.likes = (newComment.likes || 0) + 1;\n          } else {\n            newComment.dislikes = (newComment.dislikes || 0) + 1;\n          }\n          \n          return newComment;\n        }\n        return comment;\n      }));\n    }\n  };\n\n  // ENHANCED COMMENTS: REPLY TO COMMENT\n  const submitReply = async (parentCommentId) => {\n    if (!replyText.trim() || !isAuthenticated) return;\n\n    try {\n      console.log('ğŸ’¬ Submitting reply to comment:', parentCommentId);\n      \n      const replyData = {\n        content: replyText.trim(),\n        parent_id: parentCommentId\n      };\n      \n      const response = await api.post(`/matches/${matchId}/comments`, replyData);\n      const newReply = response.data || response;\n      \n      // Add reply to comments list\n      setComments(prev => [newReply, ...prev]);\n      setReplyText('');\n      setReplyingTo(null);\n      \n      console.log('âœ… Reply submitted successfully');\n    } catch (error) {\n      console.error('âŒ Error submitting reply:', error);\n      \n      // Demo mode - add reply locally\n      const demoReply = {\n        id: Date.now(),\n        content: replyText.trim(),\n        user_name: user?.name || 'Anonymous',\n        user_avatar: \"ğŸ¦¸\",\n        created_at: new Date().toISOString(),\n        parent_id: parentCommentId,\n        likes: 0,\n        dislikes: 0\n      };\n      \n      setComments(prev => [demoReply, ...prev]);\n      setReplyText('');\n      setReplyingTo(null);\n    }\n  };\n\n  // DELETE COMMENT FUNCTION\n  const deleteComment = async (commentId) => {\n    try {\n      console.log('ğŸ—‘ï¸ Deleting comment:', commentId);\n      await api.delete(`/matches/${matchId}/comments/${commentId}`);\n      setComments(prev => prev.filter(c => c.id !== commentId));\n      console.log('âœ… Comment deleted successfully');\n    } catch (error) {\n      console.error('âŒ Error deleting comment:', error);\n      alert('Failed to delete comment. Please try again.');\n    }\n  };\n\n  const initializeMatchData = async () => {\n    try {\n      setLoading(true);\n      console.log('ğŸ”„ MatchDetailPage: Initializing match data for ID:', matchId);\n      \n      // Direct fetch match data (no more API dependency for players)\n      await fetchMatchData();\n    } catch (error) {\n      console.error('âŒ Error initializing match data:', error);\n      await fetchMatchData();\n    }\n  };\n\n  const fetchMatchData = async () => {\n    try {\n      console.log('ğŸ”„ MatchDetailPage: Fetching match data for ID:', matchId);\n      \n      // First try to get from centralized data\n      const centralMatch = getMatchById(matchId);\n      \n      if (centralMatch) {\n        console.log('âœ… MatchDetailPage: Using centralized match data:', centralMatch);\n        const transformedMatch = await transformMatchData(centralMatch);\n        setMatch(transformedMatch);\n        return;\n      }\n      \n      // Try to fetch real match data from API\n      try {\n        const response = await api.get(`/matches/${matchId}`);\n        let matchData = response.data || response;\n        console.log('âœ… Real match data received:', matchData);\n        \n        // Transform backend data to frontend format\n        const transformedMatch = await transformMatchData(matchData);\n        setMatch(transformedMatch);\n      } catch (error) {\n        console.error('âŒ Error fetching match data from API:', error);\n        setMatch(null); // NO FALLBACK DATA\n      }\n    } catch (error) {\n      console.error('âŒ Error in fetchMatchData:', error);\n      setMatch(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const transformMatchData = async (matchData) => {\n    console.log('ğŸ” MatchDetailPage: Transforming match data:', matchData);\n    \n    // If this is already from centralized data, return as is with maps\n    if (matchData.team1 && matchData.team2 && matchData.team1.name) {\n      console.log('âœ… MatchDetailPage: Using pre-formatted match data');\n      return {\n        ...matchData,\n        maps: await generateMapData(matchData.team1, matchData.team2) // âœ… AWAIT async function\n      };\n    }\n\n    // CRITICAL FIX: Get real teams by ID from backend data\n    console.log('ğŸ” MatchDetailPage: Getting teams by ID - Team1:', matchData.team1_id, 'Team2:', matchData.team2_id);\n    \n    const team1 = getTeamById(matchData.team1_id);\n    const team2 = getTeamById(matchData.team2_id);\n    \n    if (!team1 || !team2) {\n      console.error('âŒ MatchDetailPage: Could not find teams with IDs:', matchData.team1_id, matchData.team2_id);\n      throw new Error('Teams not found');\n    }\n    \n    console.log('âœ… MatchDetailPage: Found teams:', team1.name, 'vs', team2.name);\n\n    return {\n      id: matchData.id,\n      team1: { ...team1, score: matchData.team1_score || 0 },\n      team2: { ...team2, score: matchData.team2_score || 0 },\n      status: matchData.status || 'completed',\n      event: {\n        name: matchData.event?.name || matchData.event_name || 'Tournament',\n        tier: matchData.event?.tier || 'S'\n      },\n      date: matchData.match_date || matchData.date,\n      bestOf: matchData.best_of || 3,\n      maps: await generateMapData(team1, team2),\n      broadcast: {\n        stream: 'https://twitch.tv/marvelrivals',\n        vod: 'https://youtube.com/watch?v=example'\n      }\n    };\n  };\n\n  const generateMapData = async (team1, team2) => {\n    // âœ… REAL MARVEL RIVALS MAPS - Accurate to the game\n    const marvelRivalsMaps = [\n      {\n        name: 'Tokyo 2099: Spider-Islands',\n        mode: 'Convoy',\n        description: 'Neo-Tokyo futuristic cityscape with web-slinging routes'\n      },\n      {\n        name: 'Midtown Manhattan',\n        mode: 'Domination', \n        description: 'Classic New York City street battles'\n      },\n      {\n        name: 'Wakanda Palace',\n        mode: 'Convoy',\n        description: 'Advanced Wakandan technology and vibranium structures'\n      },\n      {\n        name: 'Sanctum Sanctorum',\n        mode: 'Domination',\n        description: 'Doctor Strange\\'s mystical headquarters with magical portals'\n      },\n      {\n        name: 'Asgard: Royal Palace',\n        mode: 'Convoy',\n        description: 'Thor\\'s home realm with Bifrost bridges and godly architecture'\n      },\n      {\n        name: 'Klyntar Symbiote World',\n        mode: 'Domination',\n        description: 'Dark alien world of the symbiotes with organic structures'\n      },\n      {\n        name: 'Birnin Zana: Golden City',\n        mode: 'Convoy',\n        description: 'Wakanda\\'s capital city with advanced urban warfare'\n      }\n    ];\n\n    // âœ… REAL MARVEL RIVALS HEROES - Current roster\n    const marvelRivalsHeroes = [\n      // Tank (Tanks)\n      'Captain America', 'Doctor Strange', 'Groot', 'Hulk', 'Magneto', \n      'Peni Parker', 'The Thing', 'Thor', 'Venom',\n      \n      // Duelist (DPS) \n      'Black Panther', 'Black Widow', 'Hawkeye', 'Hela', 'Human Torch',\n      'Iron Fist', 'Iron Man', 'Magik', 'Moon Knight', 'Namor', \n      'Psylocke', 'The Punisher', 'Scarlet Witch', 'Spider-Man', \n      'Squirrel Girl', 'Star-Lord', 'Storm', 'Wolverine',\n      \n      // Support (Support)\n      'Adam Warlock', 'Cloak & Dagger', 'Invisible Woman', 'Jeff the Land Shark', \n      'Loki', 'Luna Snow', 'Mantis', 'Rocket Raccoon'\n    ];\n\n    // âœ… INITIALIZE MATCH MAPS - 3 maps for BO3 format\n    const maps = [];\n    const selectedMaps = marvelRivalsMaps.slice(0, 3); // Take first 3 maps for consistency\n    \n    for (let mapIndex = 0; mapIndex < 3; mapIndex++) {\n      const currentMap = selectedMaps[mapIndex];\n      \n      // âœ… AWAIT player data for both teams with real heroes\n      const team1Players = await generateRealPlayerStats(team1, marvelRivalsHeroes);\n      const team2Players = await generateRealPlayerStats(team2, marvelRivalsHeroes);\n      \n      maps.push({\n        name: currentMap.name,\n        mode: currentMap.mode,\n        description: currentMap.description,\n        winner: null, // âœ… Initialize with no winner - ready for live input\n        team1Score: 0, // âœ… Initialize to 0 - ready for live updates\n        team2Score: 0, // âœ… Initialize to 0 - ready for live updates\n        duration: null, // âœ… No duration for new matches - will be updated live\n        status: 'not_started', // âœ… Track map status for live workflow\n        team1Players: team1Players,\n        team2Players: team2Players\n      });\n    }\n    \n    return maps;\n  };\n\n  // âœ… CRITICAL FIX: Get real players from backend API for proper navigation\n  const generateRealPlayerStats = async (team, heroPool) => {\n    const roles = ['Tank', 'Duelist', 'Support', 'Duelist', 'Support', 'Tank'];\n    \n    console.log(`ğŸ” Generating players for team ${team.name} (ID: ${team.id})`);\n    \n    try {\n      // âœ… FETCH REAL PLAYERS FROM BACKEND - Use general players endpoint and filter\n      console.log(`ğŸ” Fetching players for team ${team.name} (ID: ${team.id}) from /api/players...`);\n      \n      const playersResponse = await api.get('/players');\n      const allPlayers = playersResponse?.data?.data || playersResponse?.data || [];\n      \n      // Filter players by team_id\n      const realPlayers = Array.isArray(allPlayers) \n        ? allPlayers.filter(player => player.team_id === team.id || player.team_id === parseInt(team.id))\n        : [];\n      \n      if (realPlayers.length > 0) {\n        console.log(`âœ… Found ${realPlayers.length} REAL players for team ${team.name}:`, realPlayers.map(p => ({ id: p.id, name: p.name })));\n        \n        // âœ… ENHANCED: Assign proper Marvel Rivals heroes to players\n        const enhancedPlayers = realPlayers.slice(0, 6).map((player, i) => {\n          // Get hero from different roles to create balanced team comp\n          let assignedHero;\n          const playerRole = roles[i] || 'Duelist';\n          \n          // âœ… FORCE HERO DIVERSITY - Don't rely on backend main_hero\n          if (playerRole === 'Tank') {\n            const tankHeroes = ['Captain America', 'Doctor Strange', 'Groot', 'Thor', 'Venom', 'Hulk', 'Magneto', 'The Thing', 'Peni Parker'];\n            assignedHero = tankHeroes[i % tankHeroes.length]; // Cycle through different tanks\n          } else if (playerRole === 'Support') {\n            const supportHeroes = ['Luna Snow', 'Mantis', 'Rocket Raccoon', 'Adam Warlock', 'Loki', 'Cloak & Dagger', 'Invisible Woman', 'Jeff the Land Shark'];\n            assignedHero = supportHeroes[i % supportHeroes.length]; // Cycle through different supports\n          } else {\n            const duelistHeroes = ['Iron Man', 'Spider-Man', 'Black Widow', 'Hawkeye', 'Scarlet Witch', 'Black Panther', 'Hela', 'Human Torch', 'Iron Fist', 'Magik', 'Moon Knight', 'Namor', 'Psylocke', 'The Punisher', 'Squirrel Girl', 'Star-Lord', 'Storm', 'Wolverine'];\n            assignedHero = duelistHeroes[i % duelistHeroes.length]; // Cycle through different duelists\n          }\n          \n          // âœ… FORCE REAL COUNTRY FLAGS - Don't show generic flags\n          const realCountries = ['ğŸ‡ºğŸ‡¸', 'ğŸ‡¬ğŸ‡§', 'ğŸ‡¨ğŸ‡¦', 'ğŸ‡«ğŸ‡·', 'ğŸ‡©ğŸ‡ª', 'ğŸ‡¯ğŸ‡µ', 'ğŸ‡°ğŸ‡·', 'ğŸ‡§ğŸ‡·', 'ğŸ‡¦ğŸ‡º', 'ğŸ‡¸ğŸ‡ª', 'ğŸ‡³ğŸ‡´', 'ğŸ‡«ğŸ‡®', 'ğŸ‡©ğŸ‡°', 'ğŸ‡³ğŸ‡±', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡®ğŸ‡¹', 'ğŸ‡µğŸ‡±', 'ğŸ‡·ğŸ‡º', 'ğŸ‡¨ğŸ‡³', 'ğŸ‡®ğŸ‡³'];\n          const playerCountry = player.country && player.country !== 'US' && player.country !== 'Finland' \n            ? player.country \n            : realCountries[i % realCountries.length];\n          \n          return {\n            id: player.id, // âœ… REAL PLAYER ID - NAVIGATION WILL WORK!\n            name: player.name,\n            hero: assignedHero, // âœ… FORCED HERO DIVERSITY - No more all Captain America\n            role: player.role || playerRole,\n            eliminations: 0, // âœ… Initialize to 0 for live input\n            deaths: 0,\n            assists: 0,\n            damage: 0,\n            healing: 0,\n            damageBlocked: 0,\n            ultimatesUsed: 0,\n            country: playerCountry, // âœ… FORCED COUNTRY DIVERSITY\n            teamId: team.id\n          };\n        });\n        \n        return enhancedPlayers;\n      } else {\n        console.warn(`âš ï¸ No players found via API for team ${team.name}, creating placeholder players with Marvel heroes`);\n        \n        // âœ… FALLBACK: Create placeholder players with proper Marvel Rivals heroes\n        const placeholderPlayers = [];\n        for (let i = 0; i < 6; i++) {\n          const playerRole = roles[i] || 'Duelist';\n          let assignedHero;\n          \n          if (playerRole === 'Tank') {\n            const tankHeroes = ['Captain America', 'Doctor Strange', 'Groot', 'Thor', 'Venom'];\n            assignedHero = tankHeroes[i % tankHeroes.length];\n          } else if (playerRole === 'Support') {\n            const supportHeroes = ['Luna Snow', 'Mantis', 'Rocket Raccoon', 'Adam Warlock', 'Loki'];\n            assignedHero = supportHeroes[i % supportHeroes.length];\n          } else {\n            const duelistHeroes = ['Iron Man', 'Spider-Man', 'Black Widow', 'Hawkeye', 'Scarlet Witch'];\n            assignedHero = duelistHeroes[i % duelistHeroes.length];\n          }\n          \n          placeholderPlayers.push({\n            id: `${team.id}_player_${i + 1}`, // Unique placeholder ID\n            name: `${team.short_name}_${i + 1}`,\n            hero: assignedHero,\n            role: playerRole,\n            eliminations: 0,\n            deaths: 0,\n            assists: 0,\n            damage: 0,\n            healing: 0,\n            damageBlocked: 0,\n            ultimatesUsed: 0,\n            country: 'US',\n            teamId: team.id\n          });\n        }\n        \n        return placeholderPlayers;\n      }\n    } catch (error) {\n      console.error(`âŒ Failed to fetch players for team ${team.name}:`, error);\n      return [];\n    }\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case 'Duelist': return 'text-red-600 dark:text-red-400';\n      case 'Tank': return 'text-blue-600 dark:text-blue-400';\n      case 'Support': return 'text-green-600 dark:text-green-400';\n      default: return 'text-gray-600 dark:text-gray-400';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">\n            {!realPlayersLoaded ? 'Loading player data...' : 'Loading match details...'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!match) {\n    return (\n      <div className=\"card p-12 text-center\">\n        <div className=\"text-6xl mb-4\">ğŸ”</div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Match Not Found</h2>\n        <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n          The match you're looking for doesn't exist or may have been removed.\n        </p>\n        <button onClick={() => navigateTo('matches')} className=\"btn btn-primary\">\n          â† Back to Matches\n        </button>\n      </div>\n    );\n  }\n\n  const currentMap = match.maps[activeMap];\n\n  return (\n    <div className=\"space-y-4 text-sm\">\n      {/* Breadcrumb - BIGGER - Left aligned */}\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center space-x-2 text-base text-gray-500 dark:text-gray-500 mb-4 scale-[0.85] origin-top-left transform w-[117%]\">\n          <button \n            onClick={() => navigateTo('home')}\n            className=\"hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n          >\n            Home\n          </button>\n          <span>â€º</span>\n          <button \n            onClick={() => navigateTo('matches')}\n            className=\"hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n          >\n            Matches\n          </button>\n          <span>â€º</span>\n          <span className=\"text-gray-900 dark:text-white\">{match.team1.short_name} vs {match.team2.short_name}</span>\n        </div>\n      </div>\n\n      {/* Main Content - Centered */}\n      <div className=\"max-w-6xl mx-auto space-y-4\">\n\n        {/* VLR.gg Style Match Header - COMPACT */}\n        <div className=\"card\">\n          {/* Match Header */}\n          <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/10 dark:to-red-800/10\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              {match.event.name} â€¢ {new Date(match.date).toLocaleDateString()} â€¢ Best of {match.bestOf}\n            </div>\n            <div className={`px-2 py-1 rounded text-xs font-medium ${\n              match.status === 'live' \n                ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400'\n                : match.status === 'completed'\n                ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n                : 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400'\n            }`}>\n              {match.status.toUpperCase()}\n            </div>\n          </div>\n          \n          {/* Teams Display - COMPACT */}\n          <div className=\"flex items-center justify-center\">\n            <div className=\"flex items-center space-x-6\">\n              {/* Team 1 - CLICKABLE */}\n              <div className=\"text-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div \n                    className=\"cursor-pointer hover:scale-105 transition-transform\"\n                    onClick={() => {\n                      console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team1.name);\n                      navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                    }}\n                  >\n                    <TeamLogo team={match.team1} size=\"w-16 h-16\" />\n                  </div>\n                  <div>\n                    <div \n                      className=\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\"\n                      onClick={() => {\n                        console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team1.name);\n                        navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                      }}\n                    >\n                      {match.team1.name}\n                    </div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{match.team1.short_name}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Score - COMPACT */}\n              <div className=\"text-center px-8\">\n                <div className=\"text-5xl font-bold text-gray-900 dark:text-white\">\n                  {match.team1.score} - {match.team2.score}\n                </div>\n              </div>\n\n              {/* Team 2 - CLICKABLE */}\n              <div className=\"text-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"text-right\">\n                    <div \n                      className=\"text-2xl font-bold text-gray-900 dark:text-white hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors\"\n                      onClick={() => {\n                        console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team2.name);\n                        navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                      }}\n                    >\n                      {match.team2.name}\n                    </div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{match.team2.short_name}</div>\n                  </div>\n                  <div \n                    className=\"cursor-pointer hover:scale-105 transition-transform\"\n                    onClick={() => {\n                      console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team2.name);\n                      navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                    }}\n                  >\n                    <TeamLogo team={match.team2} size=\"w-16 h-16\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Watch Box - Moved to VLR.gg Position */}\n        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800\">\n          <div className=\"flex items-center justify-center space-x-4\">\n            <button className=\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium\">\n              ğŸ“º Live Stream\n            </button>\n            <button className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm font-medium\">\n              ğŸ’° Bet on this match\n            </button>\n            <button className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium\">\n              ğŸ¬ Watch VOD\n            </button>\n          </div>\n        </div>\n      </div>\n\n        {/* VLR.gg Style Match Stats - COMPACT & IMPROVED */}\n        <div className=\"card\">\n          <div className=\"p-4\">\n            <div className=\"space-y-4\">\n            {/* Map Header - COMPACT */}\n            <div className=\"text-center\">\n              <h2 className=\"text-xl font-bold text-red-600 dark:text-red-400 mb-1\">{currentMap.name}</h2>\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">{currentMap.mode} â€¢ {currentMap.description}</div>\n              <div className=\"flex items-center justify-center space-x-4\">\n                <div className={`text-2xl font-bold ${\n                  currentMap.winner === match.team1.id ? 'text-green-600 dark:text-green-400' : 'text-gray-600 dark:text-gray-400'\n                }`}>\n                  {match.team1.short_name} {currentMap.team1Score}\n                </div>\n                <div className=\"text-gray-500 dark:text-gray-500\">-</div>\n                <div className={`text-2xl font-bold ${\n                  currentMap.winner === match.team2.id ? 'text-green-600 dark:text-green-400' : 'text-gray-600 dark:text-gray-400'\n                }`}>\n                  {currentMap.team2Score} {match.team2.short_name}\n                </div>\n              </div>\n              <div className=\"text-gray-600 dark:text-gray-400 text-sm mt-1\">Duration: {currentMap.duration || 'Not started'}</div>\n            </div>\n\n            {/* Maps Navigation - Moved below Duration */}\n            <div className=\"flex items-center justify-center space-x-2\">\n              {match.maps.map((map, index) => (\n                <button\n                  key={index}\n                  onClick={() => setActiveMap(index)}\n                  className={`px-3 py-2 rounded text-xs font-medium transition-colors ${\n                    activeMap === index\n                      ? 'bg-red-600 text-white shadow'\n                      : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                  }`}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"font-bold\">{map.name}</div>\n                    <div className=\"text-xs opacity-75\">{map.team1Score} - {map.team2Score}</div>\n                  </div>\n                </button>\n              ))}\n            </div>\n\n            {/* VLR.gg Style Scoreboard Header - IMPROVED with DMG BLOCKED */}\n            <div className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 bg-gray-800 dark:bg-gray-700 text-white font-bold text-xs rounded-t\">\n              <div className=\"text-left\">Player</div>\n              <div className=\"text-center\">Heroes</div>\n              <div className=\"text-center\">E</div>\n              <div className=\"text-center\">D</div>\n              <div className=\"text-center\">A</div>\n              <div className=\"text-center\">K/D</div>\n              <div className=\"text-center\">DMG</div>\n              <div className=\"text-center\">HEAL</div>\n              <div className=\"text-center\">BLK</div>\n            </div>\n\n            {/* VLR.gg Style Scoreboard - TEAM BOXES */}\n            <div className=\"space-y-4\">\n              {/* Team 1 Box */}\n              <div className=\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\">\n                <div \n                  className=\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                  onClick={() => {\n                    console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team1.name);\n                    navigateTo && navigateTo('team-detail', { id: match.team1.id });\n                  }}\n                >\n                  <div className=\"text-sm font-semibold text-red-600 dark:text-red-400\">{match.team1.name}</div>\n                </div>\n                <div className=\"space-y-1\">\n                  {currentMap.team1Players.map((player, index) => (\n                    <div\n                      key={player.id}\n                      className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\"\n                      onClick={() => {\n                        console.log('ğŸ”— CRITICAL FIX: Navigating to player profile with REAL ID:', player.name, player.id);\n                        navigateTo && navigateTo('player-detail', { id: player.id });\n                      }}\n                    >\n                      {/* âœ… FIXED: Country Flag + Player Name */}\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-6 h-6 flex items-center justify-center text-lg\" title={`Country: ${player.country}`}>\n                          {player.country || 'ğŸŒ'}\n                        </div>\n                        <div \n                          className=\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            console.log('ğŸ”— CRITICAL FIX: Player name clicked - using REAL ID:', player.name, player.id);\n                            navigateTo && navigateTo('player-detail', { id: player.id });\n                          }}\n                        >\n                          {player.name}\n                        </div>\n                      </div>\n                      \n                      {/* âœ… FIXED: Hero Image Display with REAL Production URLs */}\n                      <div className=\"flex justify-center\">\n                        <div className={`relative rounded-lg overflow-hidden w-10 h-10 ${\n                          getHeroRole(player.hero) === 'Tank' ? 'bg-blue-600' :\n                          getHeroRole(player.hero) === 'Duelist' ? 'bg-red-600' : \n                          getHeroRole(player.hero) === 'Support' ? 'bg-green-600' : 'bg-gray-600'\n                        }`}>\n                          {getHeroImage(player.hero) ? (\n                            <img \n                              src={`https://staging.mrvl.net/Heroes/${getHeroImage(player.hero)}`}\n                              alt={player.hero}\n                              className=\"w-10 h-10 object-cover\"\n                              title={`${player.hero} (${getHeroRole(player.hero)})`}\n                              onError={(e) => {\n                                console.error(`âŒ Failed to load hero image: ${player.hero}`);\n                                e.target.style.display = 'none';\n                                e.target.nextSibling.style.display = 'flex';\n                              }}\n                            />\n                          ) : null}\n                          <div \n                            className=\"w-10 h-10 flex items-center justify-center text-white text-xs font-bold text-center leading-tight\"\n                            style={{ display: getHeroImage(player.hero) ? 'none' : 'flex' }}\n                            title={`${player.hero} (${getHeroRole(player.hero)})`}\n                          >\n                            {player.hero ? player.hero.charAt(0) : 'H'}\n                          </div>\n                        </div>\n                      </div>\n                      {/* Stats */}\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.eliminations}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.deaths}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.assists}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.eliminations / Math.max(player.deaths, 1)).toFixed(2)}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.damage / 1000).toFixed(1)}k\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.healing > 0 ? `${(player.healing / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.damageBlocked > 0 ? `${(player.damageBlocked / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Team 2 Box */}\n              <div className=\"border border-gray-200 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-800/50\">\n                <div \n                  className=\"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                  onClick={() => {\n                    console.log('ğŸ”— MatchDetailPage: Navigating to team profile:', match.team2.name);\n                    navigateTo && navigateTo('team-detail', { id: match.team2.id });\n                  }}\n                >\n                  <div className=\"text-sm font-semibold text-red-600 dark:text-red-400\">{match.team2.name}</div>\n                </div>\n                <div className=\"space-y-1\">\n                  {currentMap.team2Players.map((player, index) => (\n                    <div\n                      key={player.id}\n                      className=\"grid grid-cols-9 gap-2 items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\"\n                      onClick={() => {\n                        console.log('ğŸ”— CRITICAL FIX: Navigating to player profile with REAL ID:', player.name, player.id);\n                        navigateTo && navigateTo('player-detail', { id: player.id });\n                      }}\n                    >\n                      {/* âœ… FIXED: Country Flag + Player Name (Team 2) */}\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-6 h-6 flex items-center justify-center text-lg\" title={`Country: ${player.country}`}>\n                          {player.country || 'ğŸŒ'}\n                        </div>\n                        <div \n                          className=\"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer text-sm transition-colors\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            console.log('ğŸ”— CRITICAL FIX: Player name clicked - using REAL ID:', player.name, player.id);\n                            navigateTo && navigateTo('player-detail', { id: player.id });\n                          }}\n                        >\n                          {player.name}\n                        </div>\n                      </div>\n                      \n                      {/* âœ… FIXED: Hero Image Display with Real Marvel Rivals Images */}\n                      <div className=\"flex justify-center\">\n                        <div className={`relative rounded-lg overflow-hidden ${\n                          getHeroRole(player.hero) === 'Tank' ? 'bg-blue-600' :\n                          getHeroRole(player.hero) === 'Duelist' ? 'bg-red-600' : \n                          getHeroRole(player.hero) === 'Support' ? 'bg-green-600' : 'bg-gray-600'\n                        }`}>\n                          {getHeroImage(player.hero) ? (\n                            <img \n                              src={`https://staging.mrvl.net/Heroes/${getHeroImage(player.hero)}`}\n                              alt={player.hero}\n                              className=\"w-10 h-10 object-cover rounded-lg\"\n                              title={`${player.hero} (${getHeroRole(player.hero)})`}\n                              onError={(e) => {\n                                console.error(`âŒ Failed to load hero image: https://staging.mrvl.net/Heroes/${getHeroImage(player.hero)}`);\n                                // Show role-colored fallback with hero name\n                                e.target.style.display = 'none';\n                                e.target.nextSibling.style.display = 'flex';\n                              }}\n                            />\n                          ) : null}\n                          <div \n                            className=\"w-10 h-10 flex items-center justify-center text-white text-xs font-bold text-center leading-tight\"\n                            style={{ display: getHeroImage(player.hero) ? 'none' : 'flex' }}\n                            title={`${player.hero} (${getHeroRole(player.hero)})`}\n                          >\n                            {player.hero.split(' ').map(word => word[0]).join('').slice(0, 3)}\n                          </div>\n                          {/* Role indicator */}\n                          <div className=\"absolute -top-1 -right-1 w-3 h-3 rounded-full text-xs flex items-center justify-center text-white font-bold\" \n                               style={{\n                                 backgroundColor: getHeroRole(player.hero) === 'Tank' ? '#3B82F6' :\n                                                getHeroRole(player.hero) === 'Duelist' ? '#EF4444' : \n                                                getHeroRole(player.hero) === 'Support' ? '#10B981' : '#6B7280'\n                               }}>\n                            {getHeroRole(player.hero) === 'Tank' ? 'ğŸ›¡ï¸' :\n                             getHeroRole(player.hero) === 'Duelist' ? 'âš”ï¸' : \n                             getHeroRole(player.hero) === 'Support' ? 'ğŸ’š' : 'â“'}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Stats */}\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.eliminations}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.deaths}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">{player.assists}</div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.eliminations / Math.max(player.deaths, 1)).toFixed(2)}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {(player.damage / 1000).toFixed(1)}k\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.healing > 0 ? `${(player.healing / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                      <div className=\"text-center text-sm font-medium text-gray-800 dark:text-gray-200\">\n                        {player.damageBlocked > 0 ? `${(player.damageBlocked / 1000).toFixed(1)}k` : '-'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* MATCH COMMENTS SECTION - VLR.gg Style */}\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2\">\n            <span>ğŸ’¬</span>\n            <span>Match Comments ({comments.length})</span>\n          </h3>\n\n        {/* Comment Input */}\n        {isAuthenticated ? (\n          <div className=\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"text-2xl\">{user?.avatar || \"ğŸ¦¸\"}</div>\n              <div className=\"flex-1\">\n                <textarea\n                  value={newComment}\n                  onChange={(e) => setNewComment(e.target.value)}\n                  placeholder=\"Share your thoughts about this match...\"\n                  className=\"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none\"\n                  rows=\"3\"\n                />\n                <div className=\"flex justify-between items-center mt-2\">\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    Posting as {user?.name}\n                  </div>\n                  <button\n                    onClick={submitComment}\n                    disabled={!newComment.trim() || submittingComment}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {submittingComment ? 'Posting...' : 'Post Comment'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-center\">\n            <p className=\"text-gray-600 dark:text-gray-400 mb-3\">Sign in to join the discussion</p>\n            <button\n              onClick={() => window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'))}\n              className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            >\n              Sign In to Comment\n            </button>\n          </div>\n        )}\n\n        {/* Comments List */}\n        <div className=\"space-y-4\">\n          {commentsLoading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-600 dark:text-gray-400\">Loading comments...</div>\n            </div>\n          ) : comments.length > 0 ? (\n            comments.map(comment => (\n              <div key={comment.id} className=\"flex items-start space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n                <div className=\"text-xl\">{comment.user_avatar || \"ğŸ‘¤\"}</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2 mb-1\">\n                    <span className=\"font-medium text-gray-900 dark:text-white\">\n                      {comment.user_name}\n                    </span>\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {new Date(comment.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </span>\n                  </div>\n                  <p className=\"text-gray-700 dark:text-gray-300\">{comment.content}</p>\n                  \n                  {/* VLR.gg Style Comment Actions - FIXED VOTING */}\n                  <div className=\"flex items-center space-x-4 mt-2\">\n                    <button \n                      onClick={() => voteOnComment(comment.id, 'like')}\n                      disabled={!isAuthenticated}\n                      className={`flex items-center space-x-1 transition-colors ${\n                        userVotes[`${comment.id}_${user?.id}`] === 'like'\n                          ? 'text-green-600 font-semibold' \n                          : 'text-gray-500 hover:text-green-600'\n                      } ${!isAuthenticated ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                    >\n                      <span>ğŸ‘</span>\n                      <span className=\"text-sm\">{comment.likes || 0}</span>\n                    </button>\n                    <button \n                      onClick={() => voteOnComment(comment.id, 'dislike')}\n                      disabled={!isAuthenticated}\n                      className={`flex items-center space-x-1 transition-colors ${\n                        userVotes[`${comment.id}_${user?.id}`] === 'dislike'\n                          ? 'text-red-600 font-semibold' \n                          : 'text-gray-500 hover:text-red-600'\n                      } ${!isAuthenticated ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                    >\n                      <span>ğŸ‘</span>\n                      <span className=\"text-sm\">{comment.dislikes || 0}</span>\n                    </button>\n                    <button \n                      onClick={() => {\n                        if (!isAuthenticated) {\n                          alert('Please sign in to reply');\n                          return;\n                        }\n                        setReplyingTo(replyingTo === comment.id ? null : comment.id);\n                        setReplyText('');\n                      }}\n                      className=\"text-sm text-gray-500 hover:text-blue-600 transition-colors\"\n                    >\n                      {replyingTo === comment.id ? 'Cancel' : 'Reply'}\n                    </button>\n                  </div>\n\n                  {/* Reply Input */}\n                  {replyingTo === comment.id && (\n                    <div className=\"mt-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg\">\n                      <textarea\n                        value={replyText}\n                        onChange={(e) => setReplyText(e.target.value)}\n                        placeholder={`Reply to ${comment.user_name}...`}\n                        className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none text-sm\"\n                        rows=\"2\"\n                      />\n                      <div className=\"flex justify-end space-x-2 mt-2\">\n                        <button\n                          onClick={() => {\n                            setReplyingTo(null);\n                            setReplyText('');\n                          }}\n                          className=\"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200\"\n                        >\n                          Cancel\n                        </button>\n                        <button\n                          onClick={() => submitReply(comment.id)}\n                          disabled={!replyText.trim()}\n                          className=\"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                          Reply\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                \n                {/* Delete button for admins/moderators */}\n                {(user?.roles?.includes('admin') || user?.roles?.includes('moderator')) && (\n                  <button\n                    onClick={() => {\n                      if (window.confirm('Are you sure you want to delete this comment?')) {\n                        deleteComment(comment.id);\n                      }\n                    }}\n                    className=\"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 text-sm\"\n                  >\n                    ğŸ—‘ï¸\n                  </button>\n                )}\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center py-8\">\n              <div className=\"text-4xl mb-4\">ğŸ’¬</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">No comments yet</h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {isAuthenticated \n                  ? 'Be the first to share your thoughts about this match!'\n                  : 'Sign in to be the first to comment on this match!'\n                }\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Load More Comments (if needed) */}\n        {comments.length > 0 && comments.length % 20 === 0 && (\n          <div className=\"text-center mt-6\">\n            <button\n              onClick={fetchComments}\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n            >\n              Load More Comments\n            </button>\n          </div>\n        )}\n      </div>\n      </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MatchDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}