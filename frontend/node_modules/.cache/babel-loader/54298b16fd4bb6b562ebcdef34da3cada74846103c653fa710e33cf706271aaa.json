{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ThreadDetailPage(_ref){let{params,navigateTo}=_ref;const{user,isAuthenticated,api}=useAuth();const[thread,setThread]=useState(null);const[newPost,setNewPost]=useState('');const[posting,setPosting]=useState(false);const[loading,setLoading]=useState(true);const[replyingTo,setReplyingTo]=useState(null);const[expandedReplies,setExpandedReplies]=useState({});const[userReactions,setUserReactions]=useState({});// CRITICAL FIX: Track user reactions\nconst fetchThreadData=async()=>{setLoading(true);try{console.log('🔍 ThreadDetailPage: Fetching REAL thread data for ID:',params.id);// ✅ FIXED: ONLY USE REAL BACKEND DATA - NO MOCK FALLBACK\ntry{var _threadResponse$data;const threadResponse=await api.get(\"/forums/threads/\".concat(params.id));const realThread=(threadResponse===null||threadResponse===void 0?void 0:(_threadResponse$data=threadResponse.data)===null||_threadResponse$data===void 0?void 0:_threadResponse$data.data)||(threadResponse===null||threadResponse===void 0?void 0:threadResponse.data);if(realThread&&realThread.id){var _realThread$author,_realThread$author2,_realThread$author3,_realThread$author4,_realThread$author5,_realThread$author6;// Transform backend thread data to frontend format\nconst transformedThread={id:realThread.id,title:realThread.title,author:{id:realThread.user_id||((_realThread$author=realThread.author)===null||_realThread$author===void 0?void 0:_realThread$author.id)||1,name:realThread.user_name||((_realThread$author2=realThread.author)===null||_realThread$author2===void 0?void 0:_realThread$author2.name)||'Unknown User',avatar:((_realThread$author3=realThread.author)===null||_realThread$author3===void 0?void 0:_realThread$author3.avatar)||\"🎮\",posts:((_realThread$author4=realThread.author)===null||_realThread$author4===void 0?void 0:_realThread$author4.posts_count)||1,joined:((_realThread$author5=realThread.author)===null||_realThread$author5===void 0?void 0:_realThread$author5.created_at)||\"2024-01-01\",rank:((_realThread$author6=realThread.author)===null||_realThread$author6===void 0?void 0:_realThread$author6.rank)||\"User\"},content:realThread.content||\"No content available\",createdAt:realThread.created_at||new Date().toISOString(),views:realThread.views||realThread.views_count||0,replies:realThread.replies||realThread.replies_count||0,locked:realThread.locked||false,pinned:realThread.pinned||false,reactions:[{type:'👍',count:realThread.likes||0,userReacted:false},{type:'👎',count:realThread.dislikes||0,userReacted:false}],posts:[]// Comments will be fetched separately if available\n};console.log('✅ ThreadDetailPage: Using REAL backend thread data');setThread(transformedThread);// Initialize expanded state and user reactions\nsetExpandedReplies({});setUserReactions({});setLoading(false);return;}}catch(backendError){console.error('❌ ThreadDetailPage: Backend thread not found:',backendError);setThread(null);// ✅ NO MOCK DATA - Show not found instead\n}}catch(error){console.error('❌ ThreadDetailPage: Error fetching thread:',error);setThread(null);// ✅ NO MOCK DATA - Show error instead\n}setLoading(false);};useEffect(()=>{if(params.id){fetchThreadData();}},[params.id]);// Enhanced reaction handling with 1 reaction per user limit\nconst handleReaction=async(postId,type)=>{if(!isAuthenticated){window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));return;}console.log(\"\\uD83D\\uDD17 ThreadDetailPage: Reacting to post \".concat(postId,\" with \").concat(type));const reactionKey=\"\".concat(postId,\"-\").concat(type);const hasReacted=userReactions[reactionKey];// Update user reactions tracking\nconst newUserReactions=_objectSpread({},userReactions);// Clear all reactions for this post\nObject.keys(newUserReactions).forEach(key=>{if(key.startsWith(\"\".concat(postId,\"-\"))){delete newUserReactions[key];}});// Set new reaction if not removing\nif(!hasReacted){newUserReactions[reactionKey]=true;}setUserReactions(newUserReactions);if(postId==='main'){setThread(prev=>_objectSpread(_objectSpread({},prev),{},{reactions:prev.reactions.map(reaction=>{if(reaction.type===type){const newCount=hasReacted?reaction.count-1:reaction.count+1;return _objectSpread(_objectSpread({},reaction),{},{count:Math.max(0,newCount),userReacted:!hasReacted});}else{// Clear other reactions for main post\nconst otherReactionKey=\"main-\".concat(reaction.type);const hadOtherReaction=userReactions[otherReactionKey];if(hadOtherReaction){return _objectSpread(_objectSpread({},reaction),{},{count:Math.max(0,reaction.count-1),userReacted:false});}return reaction;}})}));}};// Enhanced post submission with nested reply support\nconst handlePostSubmit=async e=>{e.preventDefault();if(!newPost.trim()||posting)return;setPosting(true);try{console.log(\"Submitting \".concat(replyingTo?'nested reply':'post',\":\"),newPost);const newPostObj={id:Date.now(),parentId:replyingTo,author:{id:(user===null||user===void 0?void 0:user.id)||999,name:(user===null||user===void 0?void 0:user.name)||'Anonymous',avatar:(user===null||user===void 0?void 0:user.avatar)||\"👤\",posts:1,joined:\"2024-12-01\",rank:\"Rookie\"},content:newPost,createdAt:new Date().toISOString(),reactions:[{type:'👍',count:0,userReacted:false},{type:'👎',count:0,userReacted:false}],replies:[]};if(replyingTo){// Add nested reply\nconst addNestedReply=posts=>{return posts.map(post=>{if(post.id===replyingTo){return _objectSpread(_objectSpread({},post),{},{replies:[...(post.replies||[]),newPostObj]});}if(post.replies){return _objectSpread(_objectSpread({},post),{},{replies:addNestedReply(post.replies)});}return post;});};setThread(prev=>_objectSpread(_objectSpread({},prev),{},{posts:addNestedReply(prev.posts),replies:prev.replies+1}));// Auto-expand the parent comment to show new reply\nsetExpandedReplies(prev=>_objectSpread(_objectSpread({},prev),{},{[replyingTo]:true}));}else{// Add top-level comment\nsetThread(prev=>_objectSpread(_objectSpread({},prev),{},{posts:[...prev.posts,newPostObj],replies:prev.replies+1}));}setNewPost('');setReplyingTo(null);}catch(error){console.error('Error posting reply:',error);}setPosting(false);};// Toggle nested replies visibility\nconst toggleReplies=postId=>{setExpandedReplies(prev=>_objectSpread(_objectSpread({},prev),{},{[postId]:!prev[postId]}));};const formatDate=dateString=>{const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/60000);const diffHours=Math.floor(diffMs/3600000);const diffDays=Math.floor(diffMs/86400000);if(diffMins<60)return\"\".concat(diffMins,\"m ago\");if(diffHours<24)return\"\".concat(diffHours,\"h ago\");return\"\".concat(diffDays,\"d ago\");};const ReactionButton=_ref2=>{let{reaction,postId}=_ref2;const reactionKey=\"\".concat(postId,\"-\").concat(reaction.type);const hasUserReacted=userReactions[reactionKey]||reaction.userReacted;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleReaction(postId,reaction.type),className:\"flex items-center space-x-1 px-2 py-1 rounded text-xs transition-colors \".concat(hasUserReacted?'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 border border-red-300 dark:border-red-600':'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600'),disabled:!isAuthenticated,children:[/*#__PURE__*/_jsx(\"span\",{children:reaction.type}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:reaction.count})]});};// Enhanced PostCard with nested comment support\nconst PostCard=_ref3=>{let{post,isMainPost=false,depth=0}=_ref3;const hasReplies=post.replies&&post.replies.length>0;const isExpanded=expandedReplies[post.id];const maxDepth=3;return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(isMainPost?'':depth>0?'ml-8 border-l-2 border-gray-200 dark:border-gray-600 pl-4':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 \".concat(isMainPost?'pb-4':'py-3'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm\",children:post.author.avatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white text-sm\",children:post.author.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded\",children:post.author.rank}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-500\",children:formatDate(post.createdAt)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 dark:text-white mb-3 leading-relaxed\",children:post.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:post.reactions.map((reaction,index)=>/*#__PURE__*/_jsx(ReactionButton,{reaction:reaction,postId:isMainPost?'main':post.id},index))}),!isMainPost&&depth<maxDepth&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!isAuthenticated){window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));return;}setReplyingTo(post.id);},className:\"text-xs text-gray-500 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors\",children:\"Reply\"}),hasReplies&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleReplies(post.id),className:\"text-xs text-blue-600 dark:text-blue-400 hover:underline\",children:[isExpanded?'Hide':'Show',\" \",post.replies.length,\" \",post.replies.length===1?'reply':'replies']})]})]}),isMainPost&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-500 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[post.author.posts,\" posts\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Joined \",new Date(post.author.joined).toLocaleDateString()]})]})})]}),hasReplies&&isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:post.replies.map(reply=>/*#__PURE__*/_jsx(PostCard,{post:reply,isMainPost:false,depth:depth+1},reply.id))}),replyingTo===post.id&&isAuthenticated&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 ml-11 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400 mb-2\",children:[\"Replying to @\",post.author.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePostSubmit,className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newPost,onChange:e=>setNewPost(e.target.value),placeholder:\"Reply to \".concat(post.author.name,\"...\"),rows:3,className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setReplyingTo(null);setNewPost('');},className:\"px-3 py-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:posting||!newPost.trim(),className:\"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:posting?'Posting...':'Reply'})]})]})]})]});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-4\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading post...\"})]})});}if(!thread){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:\"Post not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:\"This forum thread could not be found or may have been deleted.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo&&navigateTo('forums'),className:\"text-red-600 dark:text-red-400 hover:underline\",children:\"Back to Forums\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo&&navigateTo('forums'),className:\"text-red-600 dark:text-red-400 hover:underline text-sm\",children:\"\\u2190 Back to Forums\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-500\",children:[thread.views.toLocaleString(),\" views \\u2022 \",thread.replies,\" replies\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:thread.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-1 text-xs text-gray-500 dark:text-gray-500\",children:[thread.pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600 dark:text-red-400\",children:\"\\uD83D\\uDCCC Pinned\"}),thread.locked&&/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-600 dark:text-yellow-400\",children:\"\\uD83D\\uDD12 Locked\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(PostCard,{post:_objectSpread(_objectSpread({},thread),{},{author:thread.author}),isMainPost:true})}),thread.posts.map(post=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(PostCard,{post:post,depth:0})},post.id))]})]}),isAuthenticated&&!thread.locked&&!replyingTo?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 card p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 dark:text-white mb-3\",children:\"Reply to Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePostSubmit,className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newPost,onChange:e=>setNewPost(e.target.value),placeholder:\"Share your thoughts...\",rows:4,className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:[\"Posting as \",(user===null||user===void 0?void 0:user.name)||'Anonymous']}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:posting||!newPost.trim(),className:\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:posting?'Posting...':'Post Reply'})]})]})]}):!isAuthenticated?/*#__PURE__*//* Sign-in prompt for non-authenticated users */_jsxs(\"div\",{className:\"mt-4 card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 dark:text-white mb-2\",children:\"Join the Discussion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400 mb-3\",children:\"Sign in to reply to this post and share your thoughts with the community.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));},className:\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\",children:\"Sign In to Reply\"})]}):thread.locked?/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 card p-4 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"This post is locked and no longer accepting replies.\"})}):null]});}export default ThreadDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","ThreadDetailPage","_ref","params","navigateTo","user","isAuthenticated","api","thread","setThread","newPost","setNewPost","posting","setPosting","loading","setLoading","replyingTo","setReplyingTo","expandedReplies","setExpandedReplies","userReactions","setUserReactions","fetchThreadData","console","log","id","_threadResponse$data","threadResponse","get","concat","realThread","data","_realThread$author","_realThread$author2","_realThread$author3","_realThread$author4","_realThread$author5","_realThread$author6","transformedThread","title","author","user_id","name","user_name","avatar","posts","posts_count","joined","created_at","rank","content","createdAt","Date","toISOString","views","views_count","replies","replies_count","locked","pinned","reactions","type","count","likes","userReacted","dislikes","backendError","error","handleReaction","postId","window","dispatchEvent","CustomEvent","reactionKey","hasReacted","newUserReactions","_objectSpread","Object","keys","forEach","key","startsWith","prev","map","reaction","newCount","Math","max","otherReactionKey","hadOtherReaction","handlePostSubmit","e","preventDefault","trim","newPostObj","now","parentId","addNestedReply","post","toggleReplies","formatDate","dateString","date","diffMs","diffMins","floor","diffHours","diffDays","ReactionButton","_ref2","hasUserReacted","onClick","className","disabled","children","PostCard","_ref3","isMainPost","depth","hasReplies","length","isExpanded","maxDepth","index","toLocaleDateString","reply","onSubmit","value","onChange","target","placeholder","rows","required","toLocaleString"],"sources":["/app/frontend/src/components/pages/ThreadDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction ThreadDetailPage({ params, navigateTo }) {\n  const { user, isAuthenticated, api } = useAuth();\n  const [thread, setThread] = useState(null);\n  const [newPost, setNewPost] = useState('');\n  const [posting, setPosting] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [replyingTo, setReplyingTo] = useState(null);\n  const [expandedReplies, setExpandedReplies] = useState({});\n  const [userReactions, setUserReactions] = useState({}); // CRITICAL FIX: Track user reactions\n\n  const fetchThreadData = async () => {\n    setLoading(true);\n    try {\n      console.log('🔍 ThreadDetailPage: Fetching REAL thread data for ID:', params.id);\n      \n      // ✅ FIXED: ONLY USE REAL BACKEND DATA - NO MOCK FALLBACK\n      try {\n        const threadResponse = await api.get(`/forums/threads/${params.id}`);\n        const realThread = threadResponse?.data?.data || threadResponse?.data;\n        \n        if (realThread && realThread.id) {\n          // Transform backend thread data to frontend format\n          const transformedThread = {\n            id: realThread.id,\n            title: realThread.title,\n            author: {\n              id: realThread.user_id || realThread.author?.id || 1,\n              name: realThread.user_name || realThread.author?.name || 'Unknown User',\n              avatar: realThread.author?.avatar || \"🎮\",\n              posts: realThread.author?.posts_count || 1,\n              joined: realThread.author?.created_at || \"2024-01-01\",\n              rank: realThread.author?.rank || \"User\"\n            },\n            content: realThread.content || \"No content available\",\n            createdAt: realThread.created_at || new Date().toISOString(),\n            views: realThread.views || realThread.views_count || 0,\n            replies: realThread.replies || realThread.replies_count || 0,\n            locked: realThread.locked || false,\n            pinned: realThread.pinned || false,\n            reactions: [\n              { type: '👍', count: realThread.likes || 0, userReacted: false },\n              { type: '👎', count: realThread.dislikes || 0, userReacted: false }\n            ],\n            posts: [] // Comments will be fetched separately if available\n          };\n          \n          console.log('✅ ThreadDetailPage: Using REAL backend thread data');\n          setThread(transformedThread);\n          \n          // Initialize expanded state and user reactions\n          setExpandedReplies({});\n          setUserReactions({});\n          \n          setLoading(false);\n          return;\n        }\n      } catch (backendError) {\n        console.error('❌ ThreadDetailPage: Backend thread not found:', backendError);\n        setThread(null); // ✅ NO MOCK DATA - Show not found instead\n      }\n      \n    } catch (error) {\n      console.error('❌ ThreadDetailPage: Error fetching thread:', error);\n      setThread(null); // ✅ NO MOCK DATA - Show error instead\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    if (params.id) {\n      fetchThreadData();\n    }\n  }, [params.id]);\n\n  // Enhanced reaction handling with 1 reaction per user limit\n  const handleReaction = async (postId, type) => {\n    if (!isAuthenticated) {\n      window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n      return;\n    }\n\n    console.log(`🔗 ThreadDetailPage: Reacting to post ${postId} with ${type}`);\n    \n    const reactionKey = `${postId}-${type}`;\n    const hasReacted = userReactions[reactionKey];\n    \n    // Update user reactions tracking\n    const newUserReactions = { ...userReactions };\n    \n    // Clear all reactions for this post\n    Object.keys(newUserReactions).forEach(key => {\n      if (key.startsWith(`${postId}-`)) {\n        delete newUserReactions[key];\n      }\n    });\n    \n    // Set new reaction if not removing\n    if (!hasReacted) {\n      newUserReactions[reactionKey] = true;\n    }\n    \n    setUserReactions(newUserReactions);\n\n    if (postId === 'main') {\n      setThread(prev => ({\n        ...prev,\n        reactions: prev.reactions.map(reaction => {\n          if (reaction.type === type) {\n            const newCount = hasReacted ? reaction.count - 1 : reaction.count + 1;\n            return { ...reaction, count: Math.max(0, newCount), userReacted: !hasReacted };\n          } else {\n            // Clear other reactions for main post\n            const otherReactionKey = `main-${reaction.type}`;\n            const hadOtherReaction = userReactions[otherReactionKey];\n            if (hadOtherReaction) {\n              return { ...reaction, count: Math.max(0, reaction.count - 1), userReacted: false };\n            }\n            return reaction;\n          }\n        })\n      }));\n    }\n  };\n\n  // Enhanced post submission with nested reply support\n  const handlePostSubmit = async (e) => {\n    e.preventDefault();\n    if (!newPost.trim() || posting) return;\n\n    setPosting(true);\n    try {\n      console.log(`Submitting ${replyingTo ? 'nested reply' : 'post'}:`, newPost);\n      \n      const newPostObj = {\n        id: Date.now(),\n        parentId: replyingTo,\n        author: {\n          id: user?.id || 999,\n          name: user?.name || 'Anonymous',\n          avatar: user?.avatar || \"👤\",\n          posts: 1,\n          joined: \"2024-12-01\",\n          rank: \"Rookie\"\n        },\n        content: newPost,\n        createdAt: new Date().toISOString(),\n        reactions: [\n          { type: '👍', count: 0, userReacted: false },\n          { type: '👎', count: 0, userReacted: false }\n        ],\n        replies: []\n      };\n\n      if (replyingTo) {\n        // Add nested reply\n        const addNestedReply = (posts) => {\n          return posts.map(post => {\n            if (post.id === replyingTo) {\n              return {\n                ...post,\n                replies: [...(post.replies || []), newPostObj]\n              };\n            }\n            if (post.replies) {\n              return { ...post, replies: addNestedReply(post.replies) };\n            }\n            return post;\n          });\n        };\n\n        setThread(prev => ({\n          ...prev,\n          posts: addNestedReply(prev.posts),\n          replies: prev.replies + 1\n        }));\n\n        // Auto-expand the parent comment to show new reply\n        setExpandedReplies(prev => ({\n          ...prev,\n          [replyingTo]: true\n        }));\n      } else {\n        // Add top-level comment\n        setThread(prev => ({\n          ...prev,\n          posts: [...prev.posts, newPostObj],\n          replies: prev.replies + 1\n        }));\n      }\n\n      setNewPost('');\n      setReplyingTo(null);\n    } catch (error) {\n      console.error('Error posting reply:', error);\n    }\n    setPosting(false);\n  };\n\n  // Toggle nested replies visibility\n  const toggleReplies = (postId) => {\n    setExpandedReplies(prev => ({\n      ...prev,\n      [postId]: !prev[postId]\n    }));\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n  };\n\n  const ReactionButton = ({ reaction, postId }) => {\n    const reactionKey = `${postId}-${reaction.type}`;\n    const hasUserReacted = userReactions[reactionKey] || reaction.userReacted;\n    \n    return (\n      <button\n        onClick={() => handleReaction(postId, reaction.type)}\n        className={`flex items-center space-x-1 px-2 py-1 rounded text-xs transition-colors ${\n          hasUserReacted\n            ? 'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 border border-red-300 dark:border-red-600'\n            : 'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600'\n        }`}\n        disabled={!isAuthenticated}\n      >\n        <span>{reaction.type}</span>\n        <span className=\"font-medium\">{reaction.count}</span>\n      </button>\n    );\n  };\n\n  // Enhanced PostCard with nested comment support\n  const PostCard = ({ post, isMainPost = false, depth = 0 }) => {\n    const hasReplies = post.replies && post.replies.length > 0;\n    const isExpanded = expandedReplies[post.id];\n    const maxDepth = 3;\n\n    return (\n      <div className={`${isMainPost ? '' : depth > 0 ? 'ml-8 border-l-2 border-gray-200 dark:border-gray-600 pl-4' : ''}`}>\n        <div className={`flex space-x-3 ${isMainPost ? 'pb-4' : 'py-3'}`}>\n          {/* Avatar Column */}\n          <div className=\"flex-shrink-0\">\n            <div className=\"w-8 h-8 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm\">\n              {post.author.avatar}\n            </div>\n          </div>\n\n          {/* Content Column */}\n          <div className=\"flex-1 min-w-0\">\n            {/* Header */}\n            <div className=\"flex items-center space-x-2 mb-2\">\n              <span className=\"font-medium text-gray-900 dark:text-white text-sm\">\n                {post.author.name}\n              </span>\n              <span className=\"text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded\">\n                {post.author.rank}\n              </span>\n              <span className=\"text-xs text-gray-500 dark:text-gray-500\">\n                {formatDate(post.createdAt)}\n              </span>\n            </div>\n\n            {/* Content */}\n            <div className=\"text-sm text-gray-900 dark:text-white mb-3 leading-relaxed\">\n              {post.content}\n            </div>\n\n            {/* Actions Row */}\n            <div className=\"flex items-center space-x-3\">\n              {/* Reactions */}\n              <div className=\"flex items-center space-x-2\">\n                {post.reactions.map((reaction, index) => (\n                  <ReactionButton\n                    key={index}\n                    reaction={reaction}\n                    postId={isMainPost ? 'main' : post.id}\n                  />\n                ))}\n              </div>\n\n              {/* Reply button for nested comments */}\n              {!isMainPost && depth < maxDepth && (\n                <button\n                  onClick={() => {\n                    if (!isAuthenticated) {\n                      window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n                      return;\n                    }\n                    setReplyingTo(post.id);\n                  }}\n                  className=\"text-xs text-gray-500 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n                >\n                  Reply\n                </button>\n              )}\n\n              {/* Toggle replies button */}\n              {hasReplies && (\n                <button\n                  onClick={() => toggleReplies(post.id)}\n                  className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\n                >\n                  {isExpanded ? 'Hide' : 'Show'} {post.replies.length} {post.replies.length === 1 ? 'reply' : 'replies'}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Stats Column (for main post only) */}\n          {isMainPost && (\n            <div className=\"flex-shrink-0 text-right\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-500 space-y-1\">\n                <div>{post.author.posts} posts</div>\n                <div>Joined {new Date(post.author.joined).toLocaleDateString()}</div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Nested Replies */}\n        {hasReplies && isExpanded && (\n          <div className=\"mt-2\">\n            {post.replies.map(reply => (\n              <PostCard\n                key={reply.id}\n                post={reply}\n                isMainPost={false}\n                depth={depth + 1}\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Inline Reply Form */}\n        {replyingTo === post.id && isAuthenticated && (\n          <div className=\"mt-3 ml-11 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded p-3\">\n            <div className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">\n              Replying to @{post.author.name}\n            </div>\n            <form onSubmit={handlePostSubmit} className=\"space-y-2\">\n              <textarea\n                value={newPost}\n                onChange={(e) => setNewPost(e.target.value)}\n                placeholder={`Reply to ${post.author.name}...`}\n                rows={3}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                required\n              />\n              <div className=\"flex items-center justify-end space-x-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setReplyingTo(null);\n                    setNewPost('');\n                  }}\n                  className=\"px-3 py-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={posting || !newPost.trim()}\n                  className=\"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {posting ? 'Posting...' : 'Reply'}\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center py-8\">\n          <div className=\"text-2xl mb-4\">💬</div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading post...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!thread) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center py-8\">\n          <div className=\"text-4xl mb-4\">❌</div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">Post not found</h3>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n            This forum thread could not be found or may have been deleted.\n          </p>\n          <button\n            onClick={() => navigateTo && navigateTo('forums')}\n            className=\"text-red-600 dark:text-red-400 hover:underline\"\n          >\n            Back to Forums\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={() => navigateTo && navigateTo('forums')}\n            className=\"text-red-600 dark:text-red-400 hover:underline text-sm\"\n          >\n            ← Back to Forums\n          </button>\n          <div className=\"text-sm text-gray-500 dark:text-gray-500\">\n            {thread.views.toLocaleString()} views • {thread.replies} replies\n          </div>\n        </div>\n      </div>\n\n      {/* Thread Content - VLR.gg Style */}\n      <div className=\"card\">\n        {/* Thread Title */}\n        <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-600\">\n          <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            {thread.title}\n          </h1>\n          <div className=\"flex items-center space-x-4 mt-1 text-xs text-gray-500 dark:text-gray-500\">\n            {thread.pinned && (\n              <span className=\"text-red-600 dark:text-red-400\">📌 Pinned</span>\n            )}\n            {thread.locked && (\n              <span className=\"text-yellow-600 dark:text-yellow-400\">🔒 Locked</span>\n            )}\n          </div>\n        </div>\n\n        {/* Posts */}\n        <div className=\"divide-y divide-gray-200 dark:divide-gray-600\">\n          {/* Main Post */}\n          <div className=\"p-4\">\n            <PostCard post={{ ...thread, author: thread.author }} isMainPost={true} />\n          </div>\n\n          {/* Comments with Nested Replies */}\n          {thread.posts.map(post => (\n            <div key={post.id} className=\"p-4\">\n              <PostCard post={post} depth={0} />\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Reply Form (only for top-level comments) */}\n      {isAuthenticated && !thread.locked && !replyingTo ? (\n        <div className=\"mt-4 card p-4\">\n          <h3 className=\"text-sm font-medium text-gray-900 dark:text-white mb-3\">Reply to Post</h3>\n          <form onSubmit={handlePostSubmit} className=\"space-y-3\">\n            <textarea\n              value={newPost}\n              onChange={(e) => setNewPost(e.target.value)}\n              placeholder=\"Share your thoughts...\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n              required\n            />\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n                Posting as {user?.name || 'Anonymous'}\n              </div>\n              <button\n                type=\"submit\"\n                disabled={posting || !newPost.trim()}\n                className=\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {posting ? 'Posting...' : 'Post Reply'}\n              </button>\n            </div>\n          </form>\n        </div>\n      ) : !isAuthenticated ? (\n        /* Sign-in prompt for non-authenticated users */\n        <div className=\"mt-4 card p-4 text-center\">\n          <h3 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">Join the Discussion</h3>\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3\">\n            Sign in to reply to this post and share your thoughts with the community.\n          </p>\n          <button\n            onClick={() => {\n              window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n            }}\n            className=\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n          >\n            Sign In to Reply\n          </button>\n        </div>\n      ) : thread.locked ? (\n        <div className=\"mt-4 card p-4 text-center\">\n          <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n            This post is locked and no longer accepting replies.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default ThreadDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}