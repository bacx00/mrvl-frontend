{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserForm(_ref){let{navigateTo,userId=null}=_ref;const[formData,setFormData]=useState({name:'',email:'',password:'',roles:['user'],// Default to user role\navatar:'üë§',status:'active'});const[loading,setLoading]=useState(false);const[submitting,setSubmitting]=useState(false);const{api}=useAuth();const isEdit=!!userId;useEffect(()=>{if(isEdit){fetchUser();}},[userId]);const fetchUser=async()=>{try{setLoading(true);const response=await api.get(\"/admin/users/\".concat(userId));const user=response.data||response;setFormData(_objectSpread(_objectSpread({},user),{},{password:'',// Don't populate password field for security\nroles:user.roles||['user']}));}catch(error){console.error('Error fetching user:',error);alert('Error loading user data. Please try again.');navigateTo('admin-dashboard');}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();setSubmitting(true);try{// Validate roles\nif(formData.roles.length===0){alert('Please select at least one role');return;}// Don't send empty password on edit\nconst dataToSend=_objectSpread({},formData);if(isEdit&&!dataToSend.password){delete dataToSend.password;}// FIXED: Backend expects 'role' string, not 'roles' array\n// Use the exact backend-supported values: \"admin\", \"moderator\", \"user\"\nif(dataToSend.roles&&dataToSend.roles.length>0){dataToSend.role=dataToSend.roles[0];// Take first role as primary\ndelete dataToSend.roles;// Remove roles array to avoid confusion\n}let response;if(isEdit){// FIXED: Use POST with method spoofing for Laravel backend updates\ndataToSend._method='PUT';response=await api.post(\"/admin/users/\".concat(userId),dataToSend);}else{// Create new user\nresponse=await api.post('/admin/users',dataToSend);}alert(\"User \".concat(isEdit?'updated':'created',\" successfully!\"));navigateTo('admin-dashboard');}catch(error){console.error('Error saving user:',error);alert(\"Error \".concat(isEdit?'updating':'creating',\" user: \").concat(error.message));}finally{setSubmitting(false);}};const handleChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleRoleChange=role=>{setFormData(prev=>{const newRoles=[...prev.roles];if(newRoles.includes(role)){// Remove role if already selected\nreturn _objectSpread(_objectSpread({},prev),{},{roles:newRoles.filter(r=>r!==role)});}else{// Add role if not selected\nreturn _objectSpread(_objectSpread({},prev),{},{roles:[...newRoles,role]});}});};const avatarOptions=['üë§','üë©','üë®','üßë','üë±','üë∏','ü§¥','üßô','ü¶∏','ü¶π','üõ°Ô∏è','‚≠ê','üéÆ','üèÜ'];// FIXED: Use exact backend-supported role values (lowercase)\nconst roleOptions=[{id:'admin',label:'Administrator',description:'Full access to all features'},{id:'moderator',label:'Moderator',description:'Can moderate content and users'},{id:'user',label:'Regular User',description:'Standard user account'}];const statusOptions=['active','inactive','banned'];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading user data...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:isEdit?'Edit User':'Create New User'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:isEdit?'Update user information and permissions':'Add a new user to the platform'})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:e=>handleChange('name',e.target.value),className:\"form-input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:e=>handleChange('email',e.target.value),className:\"form-input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:[\"Password \",isEdit&&'(leave blank to keep current)']}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:e=>handleChange('password',e.target.value),className:\"form-input\",required:!isEdit})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{name:\"status\",value:formData.status,onChange:e=>handleChange('status',e.target.value),className:\"form-input\",children:statusOptions.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status,children:status.charAt(0).toUpperCase()+status.slice(1)},status))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Roles & Appearance\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"User Roles *\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:roleOptions.map(role=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"role-\".concat(role.id),checked:formData.roles.includes(role.id),onChange:()=>handleRoleChange(role.id),className:\"mt-1 mr-3\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"role-\".concat(role.id),className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 dark:text-white\",children:role.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:role.description})]})]},role.id))}),formData.roles.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 dark:text-red-400 text-sm mt-2\",children:\"Please select at least one role\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Avatar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-2\",children:avatarOptions.map(avatar=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleChange('avatar',avatar),className:\"\\n                        text-2xl p-2 rounded-md text-center cursor-pointer\\n                        \".concat(formData.avatar===avatar?'bg-blue-100 dark:bg-blue-900 border-2 border-blue-500 dark:border-blue-400':'bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700',\"\\n                      \"),children:avatar},avatar))})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigateTo('admin-dashboard'),className:\"btn btn-secondary\",disabled:submitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:submitting||formData.roles.length===0,children:submitting?'Saving...':isEdit?'Update User':'Create User'})]})]})]});}export default UserForm;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","UserForm","_ref","navigateTo","userId","formData","setFormData","name","email","password","roles","avatar","status","loading","setLoading","submitting","setSubmitting","api","isEdit","fetchUser","response","get","concat","user","data","_objectSpread","error","console","alert","handleSubmit","e","preventDefault","length","dataToSend","role","_method","post","message","handleChange","field","value","prev","handleRoleChange","newRoles","includes","filter","r","avatarOptions","roleOptions","id","label","description","statusOptions","className","children","onSubmit","type","onChange","target","required","map","charAt","toUpperCase","slice","checked","htmlFor","onClick","disabled"],"sources":["/app/frontend/src/components/admin/UserForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction UserForm({ navigateTo, userId = null }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    roles: ['user'], // Default to user role\n    avatar: 'üë§',\n    status: 'active'\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const { api } = useAuth();\n\n  const isEdit = !!userId;\n\n  useEffect(() => {\n    if (isEdit) {\n      fetchUser();\n    }\n  }, [userId]);\n\n  const fetchUser = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/admin/users/${userId}`);\n      const user = response.data || response;\n      \n      setFormData({\n        ...user,\n        password: '', // Don't populate password field for security\n        roles: user.roles || ['user']\n      });\n    } catch (error) {\n      console.error('Error fetching user:', error);\n      alert('Error loading user data. Please try again.');\n      navigateTo('admin-dashboard');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      // Validate roles\n      if (formData.roles.length === 0) {\n        alert('Please select at least one role');\n        return;\n      }\n\n      // Don't send empty password on edit\n      const dataToSend = {...formData};\n      if (isEdit && !dataToSend.password) {\n        delete dataToSend.password;\n      }\n      \n      // FIXED: Backend expects 'role' string, not 'roles' array\n      // Use the exact backend-supported values: \"admin\", \"moderator\", \"user\"\n      if (dataToSend.roles && dataToSend.roles.length > 0) {\n        dataToSend.role = dataToSend.roles[0]; // Take first role as primary\n        delete dataToSend.roles; // Remove roles array to avoid confusion\n      }\n\n      let response;\n      if (isEdit) {\n        // FIXED: Use POST with method spoofing for Laravel backend updates\n        dataToSend._method = 'PUT';\n        response = await api.post(`/admin/users/${userId}`, dataToSend);\n      } else {\n        // Create new user\n        response = await api.post('/admin/users', dataToSend);\n      }\n\n      alert(`User ${isEdit ? 'updated' : 'created'} successfully!`);\n      navigateTo('admin-dashboard');\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert(`Error ${isEdit ? 'updating' : 'creating'} user: ${error.message}`);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleRoleChange = (role) => {\n    setFormData(prev => {\n      const newRoles = [...prev.roles];\n      \n      if (newRoles.includes(role)) {\n        // Remove role if already selected\n        return { ...prev, roles: newRoles.filter(r => r !== role) };\n      } else {\n        // Add role if not selected\n        return { ...prev, roles: [...newRoles, role] };\n      }\n    });\n  };\n\n  const avatarOptions = ['üë§', 'üë©', 'üë®', 'üßë', 'üë±', 'üë∏', 'ü§¥', 'üßô', 'ü¶∏', 'ü¶π', 'üõ°Ô∏è', '‚≠ê', 'üéÆ', 'üèÜ'];\n  \n  // FIXED: Use exact backend-supported role values (lowercase)\n  const roleOptions = [\n    { id: 'admin', label: 'Administrator', description: 'Full access to all features' },\n    { id: 'moderator', label: 'Moderator', description: 'Can moderate content and users' },\n    { id: 'user', label: 'Regular User', description: 'Standard user account' }\n  ];\n  \n  const statusOptions = ['active', 'inactive', 'banned'];\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">Loading user data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n          {isEdit ? 'Edit User' : 'Create New User'}\n        </h2>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          {isEdit ? 'Update user information and permissions' : 'Add a new user to the platform'}\n        </p>\n      </div>\n\n      {/* Form */}\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div className=\"card p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Basic Information */}\n            <div className=\"space-y-6\">\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Basic Information</h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Name *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={(e) => handleChange('name', e.target.value)}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Email *\n                </label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={(e) => handleChange('email', e.target.value)}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Password {isEdit && '(leave blank to keep current)'}\n                </label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={formData.password}\n                  onChange={(e) => handleChange('password', e.target.value)}\n                  className=\"form-input\"\n                  required={!isEdit}\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Status\n                </label>\n                <select\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={(e) => handleChange('status', e.target.value)}\n                  className=\"form-input\"\n                >\n                  {statusOptions.map(status => (\n                    <option key={status} value={status}>\n                      {status.charAt(0).toUpperCase() + status.slice(1)}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            {/* Roles and Avatar */}\n            <div className=\"space-y-6\">\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Roles & Appearance</h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  User Roles *\n                </label>\n                <div className=\"space-y-3\">\n                  {roleOptions.map(role => (\n                    <div key={role.id} className=\"flex items-start\">\n                      <input\n                        type=\"checkbox\"\n                        id={`role-${role.id}`}\n                        checked={formData.roles.includes(role.id)}\n                        onChange={() => handleRoleChange(role.id)}\n                        className=\"mt-1 mr-3\"\n                      />\n                      <label htmlFor={`role-${role.id}`} className=\"cursor-pointer\">\n                        <div className=\"font-medium text-gray-900 dark:text-white\">{role.label}</div>\n                        <div className=\"text-sm text-gray-600 dark:text-gray-400\">{role.description}</div>\n                      </label>\n                    </div>\n                  ))}\n                </div>\n                {formData.roles.length === 0 && (\n                  <p className=\"text-red-600 dark:text-red-400 text-sm mt-2\">\n                    Please select at least one role\n                  </p>\n                )}\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Avatar\n                </label>\n                <div className=\"grid grid-cols-7 gap-2\">\n                  {avatarOptions.map(avatar => (\n                    <div\n                      key={avatar}\n                      onClick={() => handleChange('avatar', avatar)}\n                      className={`\n                        text-2xl p-2 rounded-md text-center cursor-pointer\n                        ${formData.avatar === avatar \n                          ? 'bg-blue-100 dark:bg-blue-900 border-2 border-blue-500 dark:border-blue-400' \n                          : 'bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700'}\n                      `}\n                    >\n                      {avatar}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Form Actions */}\n        <div className=\"flex justify-between\">\n          <button\n            type=\"button\"\n            onClick={() => navigateTo('admin-dashboard')}\n            className=\"btn btn-secondary\"\n            disabled={submitting}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            disabled={submitting || formData.roles.length === 0}\n          >\n            {submitting ? 'Saving...' : isEdit ? 'Update User' : 'Create User'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default UserForm;"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAgC,IAA/B,CAAEC,UAAU,CAAEC,MAAM,CAAG,IAAK,CAAC,CAAAF,IAAA,CAC7C,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACvCa,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,CAAC,MAAM,CAAC,CAAE;AACjBC,MAAM,CAAE,IAAI,CACZC,MAAM,CAAE,QACV,CAAC,CAAC,CAEF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACqB,UAAU,CAAEC,aAAa,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAEuB,GAAI,CAAC,CAAGrB,OAAO,CAAC,CAAC,CAEzB,KAAM,CAAAsB,MAAM,CAAG,CAAC,CAACd,MAAM,CAEvBT,SAAS,CAAC,IAAM,CACd,GAAIuB,MAAM,CAAE,CACVC,SAAS,CAAC,CAAC,CACb,CACF,CAAC,CAAE,CAACf,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACI,GAAG,iBAAAC,MAAA,CAAiBlB,MAAM,CAAE,CAAC,CACxD,KAAM,CAAAmB,IAAI,CAAGH,QAAQ,CAACI,IAAI,EAAIJ,QAAQ,CAEtCd,WAAW,CAAAmB,aAAA,CAAAA,aAAA,IACNF,IAAI,MACPd,QAAQ,CAAE,EAAE,CAAE;AACdC,KAAK,CAAEa,IAAI,CAACb,KAAK,EAAI,CAAC,MAAM,CAAC,EAC9B,CAAC,CACJ,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CE,KAAK,CAAC,4CAA4C,CAAC,CACnDzB,UAAU,CAAC,iBAAiB,CAAC,CAC/B,CAAC,OAAS,CACRW,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBf,aAAa,CAAC,IAAI,CAAC,CAEnB,GAAI,CACF;AACA,GAAIX,QAAQ,CAACK,KAAK,CAACsB,MAAM,GAAK,CAAC,CAAE,CAC/BJ,KAAK,CAAC,iCAAiC,CAAC,CACxC,OACF,CAEA;AACA,KAAM,CAAAK,UAAU,CAAAR,aAAA,IAAOpB,QAAQ,CAAC,CAChC,GAAIa,MAAM,EAAI,CAACe,UAAU,CAACxB,QAAQ,CAAE,CAClC,MAAO,CAAAwB,UAAU,CAACxB,QAAQ,CAC5B,CAEA;AACA;AACA,GAAIwB,UAAU,CAACvB,KAAK,EAAIuB,UAAU,CAACvB,KAAK,CAACsB,MAAM,CAAG,CAAC,CAAE,CACnDC,UAAU,CAACC,IAAI,CAAGD,UAAU,CAACvB,KAAK,CAAC,CAAC,CAAC,CAAE;AACvC,MAAO,CAAAuB,UAAU,CAACvB,KAAK,CAAE;AAC3B,CAEA,GAAI,CAAAU,QAAQ,CACZ,GAAIF,MAAM,CAAE,CACV;AACAe,UAAU,CAACE,OAAO,CAAG,KAAK,CAC1Bf,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACmB,IAAI,iBAAAd,MAAA,CAAiBlB,MAAM,EAAI6B,UAAU,CAAC,CACjE,CAAC,IAAM,CACL;AACAb,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACmB,IAAI,CAAC,cAAc,CAAEH,UAAU,CAAC,CACvD,CAEAL,KAAK,SAAAN,MAAA,CAASJ,MAAM,CAAG,SAAS,CAAG,SAAS,kBAAgB,CAAC,CAC7Df,UAAU,CAAC,iBAAiB,CAAC,CAC/B,CAAE,MAAOuB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1CE,KAAK,UAAAN,MAAA,CAAUJ,MAAM,CAAG,UAAU,CAAG,UAAU,YAAAI,MAAA,CAAUI,KAAK,CAACW,OAAO,CAAE,CAAC,CAC3E,CAAC,OAAS,CACRrB,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAsB,YAAY,CAAGA,CAACC,KAAK,CAAEC,KAAK,GAAK,CACrClC,WAAW,CAACmC,IAAI,EAAAhB,aAAA,CAAAA,aAAA,IAAUgB,IAAI,MAAE,CAACF,KAAK,EAAGC,KAAK,EAAG,CAAC,CACpD,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAIR,IAAI,EAAK,CACjC5B,WAAW,CAACmC,IAAI,EAAI,CAClB,KAAM,CAAAE,QAAQ,CAAG,CAAC,GAAGF,IAAI,CAAC/B,KAAK,CAAC,CAEhC,GAAIiC,QAAQ,CAACC,QAAQ,CAACV,IAAI,CAAC,CAAE,CAC3B;AACA,OAAAT,aAAA,CAAAA,aAAA,IAAYgB,IAAI,MAAE/B,KAAK,CAAEiC,QAAQ,CAACE,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAKZ,IAAI,CAAC,GAC3D,CAAC,IAAM,CACL;AACA,OAAAT,aAAA,CAAAA,aAAA,IAAYgB,IAAI,MAAE/B,KAAK,CAAE,CAAC,GAAGiC,QAAQ,CAAET,IAAI,CAAC,GAC9C,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAa,aAAa,CAAG,CAAC,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,KAAK,CAAE,GAAG,CAAE,IAAI,CAAE,IAAI,CAAC,CAE1G;AACA,KAAM,CAAAC,WAAW,CAAG,CAClB,CAAEC,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,eAAe,CAAEC,WAAW,CAAE,6BAA8B,CAAC,CACnF,CAAEF,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAW,CAAEC,WAAW,CAAE,gCAAiC,CAAC,CACtF,CAAEF,EAAE,CAAE,MAAM,CAAEC,KAAK,CAAE,cAAc,CAAEC,WAAW,CAAE,uBAAwB,CAAC,CAC5E,CAED,KAAM,CAAAC,aAAa,CAAG,CAAC,QAAQ,CAAE,UAAU,CAAE,QAAQ,CAAC,CAEtD,GAAIvC,OAAO,CAAE,CACX,mBACEf,IAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDtD,KAAA,QAAKqD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,IAAA,QAAKuD,SAAS,CAAC,8BAA8B,CAAM,CAAC,cACpDvD,IAAA,QAAKuD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,EACzE,CAAC,CACH,CAAC,CAEV,CAEA,mBACEtD,KAAA,QAAKqD,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBtD,KAAA,QAAAsD,QAAA,eACExD,IAAA,OAAIuD,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAC7DpC,MAAM,CAAG,WAAW,CAAG,iBAAiB,CACvC,CAAC,cACLpB,IAAA,MAAGuD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CpC,MAAM,CAAG,yCAAyC,CAAG,gCAAgC,CACrF,CAAC,EACD,CAAC,cAGNlB,KAAA,SAAMuD,QAAQ,CAAE1B,YAAa,CAACwB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACjDxD,IAAA,QAAKuD,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBtD,KAAA,QAAKqD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDtD,KAAA,QAAKqD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,IAAA,OAAIuD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAE1FtD,KAAA,QAAAsD,QAAA,eACExD,IAAA,UAAOuD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,QAEnF,CAAO,CAAC,cACRxD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXjD,IAAI,CAAC,MAAM,CACXiC,KAAK,CAAEnC,QAAQ,CAACE,IAAK,CACrBkD,QAAQ,CAAG3B,CAAC,EAAKQ,YAAY,CAAC,MAAM,CAAER,CAAC,CAAC4B,MAAM,CAAClB,KAAK,CAAE,CACtDa,SAAS,CAAC,YAAY,CACtBM,QAAQ,MACT,CAAC,EACC,CAAC,cAEN3D,KAAA,QAAAsD,QAAA,eACExD,IAAA,UAAOuD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,SAEnF,CAAO,CAAC,cACRxD,IAAA,UACE0D,IAAI,CAAC,OAAO,CACZjD,IAAI,CAAC,OAAO,CACZiC,KAAK,CAAEnC,QAAQ,CAACG,KAAM,CACtBiD,QAAQ,CAAG3B,CAAC,EAAKQ,YAAY,CAAC,OAAO,CAAER,CAAC,CAAC4B,MAAM,CAAClB,KAAK,CAAE,CACvDa,SAAS,CAAC,YAAY,CACtBM,QAAQ,MACT,CAAC,EACC,CAAC,cAEN3D,KAAA,QAAAsD,QAAA,eACEtD,KAAA,UAAOqD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,EAAC,WACxE,CAACpC,MAAM,EAAI,+BAA+B,EAC9C,CAAC,cACRpB,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfjD,IAAI,CAAC,UAAU,CACfiC,KAAK,CAAEnC,QAAQ,CAACI,QAAS,CACzBgD,QAAQ,CAAG3B,CAAC,EAAKQ,YAAY,CAAC,UAAU,CAAER,CAAC,CAAC4B,MAAM,CAAClB,KAAK,CAAE,CAC1Da,SAAS,CAAC,YAAY,CACtBM,QAAQ,CAAE,CAACzC,MAAO,CACnB,CAAC,EACC,CAAC,cAENlB,KAAA,QAAAsD,QAAA,eACExD,IAAA,UAAOuD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,QAEnF,CAAO,CAAC,cACRxD,IAAA,WACES,IAAI,CAAC,QAAQ,CACbiC,KAAK,CAAEnC,QAAQ,CAACO,MAAO,CACvB6C,QAAQ,CAAG3B,CAAC,EAAKQ,YAAY,CAAC,QAAQ,CAAER,CAAC,CAAC4B,MAAM,CAAClB,KAAK,CAAE,CACxDa,SAAS,CAAC,YAAY,CAAAC,QAAA,CAErBF,aAAa,CAACQ,GAAG,CAAChD,MAAM,eACvBd,IAAA,WAAqB0C,KAAK,CAAE5B,MAAO,CAAA0C,QAAA,CAChC1C,MAAM,CAACiD,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGlD,MAAM,CAACmD,KAAK,CAAC,CAAC,CAAC,EADtCnD,MAEL,CACT,CAAC,CACI,CAAC,EACN,CAAC,EACH,CAAC,cAGNZ,KAAA,QAAKqD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,IAAA,OAAIuD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAE3FtD,KAAA,QAAAsD,QAAA,eACExD,IAAA,UAAOuD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,cAEnF,CAAO,CAAC,cACRxD,IAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBN,WAAW,CAACY,GAAG,CAAC1B,IAAI,eACnBlC,KAAA,QAAmBqD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7CxD,IAAA,UACE0D,IAAI,CAAC,UAAU,CACfP,EAAE,SAAA3B,MAAA,CAAUY,IAAI,CAACe,EAAE,CAAG,CACtBe,OAAO,CAAE3D,QAAQ,CAACK,KAAK,CAACkC,QAAQ,CAACV,IAAI,CAACe,EAAE,CAAE,CAC1CQ,QAAQ,CAAEA,CAAA,GAAMf,gBAAgB,CAACR,IAAI,CAACe,EAAE,CAAE,CAC1CI,SAAS,CAAC,WAAW,CACtB,CAAC,cACFrD,KAAA,UAAOiE,OAAO,SAAA3C,MAAA,CAAUY,IAAI,CAACe,EAAE,CAAG,CAACI,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3DxD,IAAA,QAAKuD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAEpB,IAAI,CAACgB,KAAK,CAAM,CAAC,cAC7EpD,IAAA,QAAKuD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAEpB,IAAI,CAACiB,WAAW,CAAM,CAAC,EAC7E,CAAC,GAXAjB,IAAI,CAACe,EAYV,CACN,CAAC,CACC,CAAC,CACL5C,QAAQ,CAACK,KAAK,CAACsB,MAAM,GAAK,CAAC,eAC1BlC,IAAA,MAAGuD,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAC,iCAE3D,CAAG,CACJ,EACE,CAAC,cAENtD,KAAA,QAAAsD,QAAA,eACExD,IAAA,UAAOuD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,QAEnF,CAAO,CAAC,cACRxD,IAAA,QAAKuD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCP,aAAa,CAACa,GAAG,CAACjD,MAAM,eACvBb,IAAA,QAEEoE,OAAO,CAAEA,CAAA,GAAM5B,YAAY,CAAC,QAAQ,CAAE3B,MAAM,CAAE,CAC9C0C,SAAS,0GAAA/B,MAAA,CAELjB,QAAQ,CAACM,MAAM,GAAKA,MAAM,CACxB,4EAA4E,CAC5E,uEAAuE,4BAC3E,CAAA2C,QAAA,CAED3C,MAAM,EATFA,MAUF,CACN,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNX,KAAA,QAAKqD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCxD,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbU,OAAO,CAAEA,CAAA,GAAM/D,UAAU,CAAC,iBAAiB,CAAE,CAC7CkD,SAAS,CAAC,mBAAmB,CAC7Bc,QAAQ,CAAEpD,UAAW,CAAAuC,QAAA,CACtB,QAED,CAAQ,CAAC,cACTxD,IAAA,WACE0D,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,iBAAiB,CAC3Bc,QAAQ,CAAEpD,UAAU,EAAIV,QAAQ,CAACK,KAAK,CAACsB,MAAM,GAAK,CAAE,CAAAsB,QAAA,CAEnDvC,UAAU,CAAG,WAAW,CAAGG,MAAM,CAAG,aAAa,CAAG,aAAa,CAC5D,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAjB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}