{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AdminForums(_ref){let{navigateTo}=_ref;const[threads,setThreads]=useState([]);const[categories,setCategories]=useState([]);const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('threads');const[filters,setFilters]=useState({search:'',category:'all',status:'all'});const{api,isAdmin,isModerator}=useAuth();// Check permissions\nconst canModerateForums=isAdmin()||isModerator();useEffect(()=>{if(canModerateForums){fetchForumData();}},[filters,activeTab,canModerateForums]);const fetchForumData=async()=>{try{setLoading(true);// CRITICAL FIX: Use REAL backend data only\ntry{var _threadsResponse$data;console.log('üîç AdminForums: Fetching REAL moderation data...');// Try to fetch real threads for moderation\nconst threadsResponse=await api.get('/admin/forums/threads');const realThreads=(threadsResponse===null||threadsResponse===void 0?void 0:(_threadsResponse$data=threadsResponse.data)===null||_threadsResponse$data===void 0?void 0:_threadsResponse$data.data)||(threadsResponse===null||threadsResponse===void 0?void 0:threadsResponse.data)||[];if(Array.isArray(realThreads)&&realThreads.length>0){const moderationThreads=realThreads.map(thread=>{var _thread$author,_thread$author2;return{id:thread.id,title:thread.title,author:{name:thread.user_name||((_thread$author=thread.author)===null||_thread$author===void 0?void 0:_thread$author.name)||'Unknown User',avatar:((_thread$author2=thread.author)===null||_thread$author2===void 0?void 0:_thread$author2.avatar)||'üë§'},category:thread.category||'general',replies:thread.replies||thread.replies_count||0,views:thread.views||thread.views_count||0,created_at:thread.created_at,status:thread.status||'active',pinned:thread.pinned||false,locked:thread.locked||false,reported:thread.reported||false,reports_count:thread.reports_count||0};});setThreads(moderationThreads);console.log('‚úÖ AdminForums: Using REAL backend threads:',moderationThreads.length);}else{setThreads([]);console.log('‚ö†Ô∏è AdminForums: No threads found for moderation');}// Try to fetch real categories\ntry{var _categoriesResponse$d;const categoriesResponse=await api.get('/admin/forums/categories');const realCategories=(categoriesResponse===null||categoriesResponse===void 0?void 0:(_categoriesResponse$d=categoriesResponse.data)===null||_categoriesResponse$d===void 0?void 0:_categoriesResponse$d.data)||(categoriesResponse===null||categoriesResponse===void 0?void 0:categoriesResponse.data)||[];setCategories(realCategories);}catch(categoriesError){console.log('‚ö†Ô∏è AdminForums: Categories endpoint not available');setCategories([{id:'all',name:'All Categories'},{id:'general',name:'General Discussion'},{id:'tournaments',name:'Tournaments'},{id:'hero-discussion',name:'Hero Discussion'},{id:'strategy',name:'Strategy & Tactics'},{id:'esports',name:'Esports & Competitive'}]);}// Set empty reports for now\nsetReports([]);}catch(error){console.error('‚ùå AdminForums: Failed to fetch moderation data:',error);setThreads([]);setCategories([]);setReports([]);}}catch(error){console.error('‚ùå AdminForums: Error in fetchForumData:',error);}finally{setLoading(false);}};const handleThreadAction=async(threadId,action)=>{try{let endpoint='';let method='POST';let message='';// ‚úÖ FIXED: Use proper REST API endpoints\nswitch(action){case'pin':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread pinned successfully!';break;case'unpin':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread unpinned successfully!';break;case'lock':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread locked successfully!';break;case'unlock':endpoint=\"/admin/forums/threads/\".concat(threadId);method='PUT';message='Thread unlocked successfully!';break;case'delete':if(!window.confirm('Are you sure you want to delete this thread? This action cannot be undone.')){return;}endpoint=\"/admin/forums/threads/\".concat(threadId);method='DELETE';message='Thread deleted successfully!';break;}// ‚úÖ FIXED: Send proper data with action type\nconst requestData=action==='delete'?undefined:{action:action};if(method==='DELETE'){await api.delete(endpoint);}else if(method==='PUT'){await api.put(endpoint,requestData);}else{await api.post(endpoint,requestData);}await fetchForumData();// Refresh data\nalert(message);}catch(error){console.error(\"Error performing \".concat(action,\" on thread:\"),error);alert(\"\\u274C Backend issue: \".concat(action,\" functionality not implemented. Please check /admin/forums/threads endpoints.\"));}};const handleReportAction=async(reportId,action)=>{try{await api.post(\"/admin/forums/reports/\".concat(reportId,\"/\").concat(action));await fetchForumData();// Refresh data\nalert(\"Report \".concat(action,\" successfully!\"));}catch(error){console.error(\"Error \".concat(action,\" report:\"),error);alert(\"Error \".concat(action,\" report. Please try again.\"));}};const getCategoryColor=category=>{switch(category){case'hero-discussion':return'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';case'strategy':return'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';case'esports':return'bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400';case'guides':return'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400';case'team-recruitment':return'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';default:return'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const filteredThreads=threads.filter(thread=>{if(filters.search&&!thread.title.toLowerCase().includes(filters.search.toLowerCase())){return false;}if(filters.category!=='all'&&thread.category!==filters.category){return false;}if(filters.status!=='all'){if(filters.status==='pinned'&&!thread.pinned)return false;if(filters.status==='locked'&&!thread.locked)return false;if(filters.status==='reported'&&!thread.reported)return false;}return true;});if(!canModerateForums){return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDEAB\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"You don't have permission to moderate forums.\"})]});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading forum data...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\",children:\"Forum Moderation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Manage threads, categories, and reports\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:[{id:'threads',label:'Threads',count:threads.length},{id:'categories',label:'Categories',count:categories.length},{id:'reports',label:'Reports',count:reports.length}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-red-500 text-red-600 dark:text-red-400':'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'),children:[tab.label,\" (\",tab.count,\")\"]},tab.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-blue-600 dark:text-blue-400\",children:threads.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Total Threads\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDCCC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-yellow-600 dark:text-yellow-400\",children:threads.filter(t=>t.pinned).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Pinned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-600 dark:text-gray-400\",children:threads.filter(t=>t.locked).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Locked\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDEA8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-red-600 dark:text-red-400\",children:reports.filter(r=>r.status==='pending').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Pending Reports\"})]})]}),activeTab==='threads'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Search Threads\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title...\",value:filters.search,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{search:e.target.value})),className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.category,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{category:e.target.value})),className:\"form-input\",children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"form-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pinned\",children:\"Pinned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"locked\",children:\"Locked\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reported\",children:\"Reported\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({search:'',category:'all',status:'all'}),className:\"btn btn-secondary w-full\",children:\"Clear Filters\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:filteredThreads.map(thread=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded \".concat(getCategoryColor(thread.category)),children:thread.category.replace('-',' ').toUpperCase()}),thread.pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200\",children:\"\\uD83D\\uDCCC PINNED\"}),thread.locked&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\",children:\"\\uD83D\\uDD12 LOCKED\"}),thread.reported&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\",children:\"\\uD83D\\uDEA8 REPORTED\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:thread.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[thread.author.avatar,\" \",thread.author.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCAC \",thread.replies,\" replies\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDC41 \",thread.views.toLocaleString(),\" views\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDC4D \",thread.upvotes-thread.downvotes]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(thread.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('thread-detail',{id:thread.id}),className:\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"\\uD83D\\uDC41 View\"}),thread.pinned?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'unpin'),className:\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\",children:\"\\uD83D\\uDCCC Unpin\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'pin'),className:\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\",children:\"\\uD83D\\uDCCC Pin\"}),thread.locked?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'unlock'),className:\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",children:\"\\uD83D\\uDD13 Unlock\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'lock'),className:\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\",children:\"\\uD83D\\uDD12 Lock\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleThreadAction(thread.id,'delete'),className:\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]})})},thread.id))})]}),activeTab==='categories'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[categories.filter(cat=>cat.id!=='all').map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:category.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2\",children:category.threads_count}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-4\",children:\"threads\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary text-xs\",children:\"\\u270F\\uFE0F Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn text-xs bg-red-600 text-white hover:bg-red-700\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]},category.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center border-2 border-dashed border-gray-300 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:\"Add Category\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-4\",children:\"Create a new forum category\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary text-xs\",children:\"\\u2795 Add Category\"})]})]}),activeTab==='reports'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[reports.map(report=>/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\",children:[\"\\uD83D\\uDEA8 \",report.reason.toUpperCase()]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\",children:report.status.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-2\",children:[\"Reported Thread: \",report.thread_title]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-2\",children:report.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Reported by: \",report.reporter.avatar,\" \",report.reporter.name]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(report.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('thread-detail',{id:report.thread_id}),className:\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",children:\"\\uD83D\\uDC41 View Thread\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReportAction(report.id,'approve'),className:\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",children:\"\\u2705 Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReportAction(report.id,'dismiss'),className:\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\",children:\"\\u274C Dismiss\"})]})]})})},report.id)),reports.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:\"No Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"All clear! No pending reports to review.\"})]})]})]});}export default AdminForums;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminForums","_ref","navigateTo","threads","setThreads","categories","setCategories","reports","setReports","loading","setLoading","activeTab","setActiveTab","filters","setFilters","search","category","status","api","isAdmin","isModerator","canModerateForums","fetchForumData","_threadsResponse$data","console","log","threadsResponse","get","realThreads","data","Array","isArray","length","moderationThreads","map","thread","_thread$author","_thread$author2","id","title","author","name","user_name","avatar","replies","replies_count","views","views_count","created_at","pinned","locked","reported","reports_count","_categoriesResponse$d","categoriesResponse","realCategories","categoriesError","error","handleThreadAction","threadId","action","endpoint","method","message","concat","window","confirm","requestData","undefined","delete","put","post","alert","handleReportAction","reportId","getCategoryColor","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","filteredThreads","filter","toLowerCase","includes","className","children","label","count","tab","onClick","t","r","type","placeholder","value","onChange","e","_objectSpread","target","replace","toUpperCase","toLocaleString","upvotes","downvotes","cat","threads_count","report","reason","thread_title","description","reporter","thread_id"],"sources":["/app/frontend/src/components/admin/AdminForums.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction AdminForums({ navigateTo }) {\n  const [threads, setThreads] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('threads');\n  const [filters, setFilters] = useState({\n    search: '',\n    category: 'all',\n    status: 'all'\n  });\n  const { api, isAdmin, isModerator } = useAuth();\n\n  // Check permissions\n  const canModerateForums = isAdmin() || isModerator();\n\n  useEffect(() => {\n    if (canModerateForums) {\n      fetchForumData();\n    }\n  }, [filters, activeTab, canModerateForums]);\n\n  const fetchForumData = async () => {\n    try {\n      setLoading(true);\n      \n      // CRITICAL FIX: Use REAL backend data only\n      try {\n        console.log('üîç AdminForums: Fetching REAL moderation data...');\n        \n        // Try to fetch real threads for moderation\n        const threadsResponse = await api.get('/admin/forums/threads');\n        const realThreads = threadsResponse?.data?.data || threadsResponse?.data || [];\n        \n        if (Array.isArray(realThreads) && realThreads.length > 0) {\n          const moderationThreads = realThreads.map(thread => ({\n            id: thread.id,\n            title: thread.title,\n            author: { \n              name: thread.user_name || thread.author?.name || 'Unknown User',\n              avatar: thread.author?.avatar || 'üë§'\n            },\n            category: thread.category || 'general',\n            replies: thread.replies || thread.replies_count || 0,\n            views: thread.views || thread.views_count || 0,\n            created_at: thread.created_at,\n            status: thread.status || 'active',\n            pinned: thread.pinned || false,\n            locked: thread.locked || false,\n            reported: thread.reported || false,\n            reports_count: thread.reports_count || 0\n          }));\n          \n          setThreads(moderationThreads);\n          console.log('‚úÖ AdminForums: Using REAL backend threads:', moderationThreads.length);\n        } else {\n          setThreads([]);\n          console.log('‚ö†Ô∏è AdminForums: No threads found for moderation');\n        }\n        \n        // Try to fetch real categories\n        try {\n          const categoriesResponse = await api.get('/admin/forums/categories');\n          const realCategories = categoriesResponse?.data?.data || categoriesResponse?.data || [];\n          setCategories(realCategories);\n        } catch (categoriesError) {\n          console.log('‚ö†Ô∏è AdminForums: Categories endpoint not available');\n          setCategories([\n            { id: 'all', name: 'All Categories' },\n            { id: 'general', name: 'General Discussion' },\n            { id: 'tournaments', name: 'Tournaments' },\n            { id: 'hero-discussion', name: 'Hero Discussion' },\n            { id: 'strategy', name: 'Strategy & Tactics' },\n            { id: 'esports', name: 'Esports & Competitive' }\n          ]);\n        }\n        \n        // Set empty reports for now\n        setReports([]);\n        \n      } catch (error) {\n        console.error('‚ùå AdminForums: Failed to fetch moderation data:', error);\n        setThreads([]);\n        setCategories([]);\n        setReports([]);\n      }\n    } catch (error) {\n      console.error('‚ùå AdminForums: Error in fetchForumData:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleThreadAction = async (threadId, action) => {\n    try {\n      let endpoint = '';\n      let method = 'POST';\n      let message = '';\n      \n      // ‚úÖ FIXED: Use proper REST API endpoints\n      switch (action) {\n        case 'pin':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread pinned successfully!';\n          break;\n        case 'unpin':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread unpinned successfully!';\n          break;\n        case 'lock':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread locked successfully!';\n          break;\n        case 'unlock':\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'PUT';\n          message = 'Thread unlocked successfully!';\n          break;\n        case 'delete':\n          if (!window.confirm('Are you sure you want to delete this thread? This action cannot be undone.')) {\n            return;\n          }\n          endpoint = `/admin/forums/threads/${threadId}`;\n          method = 'DELETE';\n          message = 'Thread deleted successfully!';\n          break;\n      }\n      \n      // ‚úÖ FIXED: Send proper data with action type\n      const requestData = action === 'delete' ? undefined : { action: action };\n      \n      if (method === 'DELETE') {\n        await api.delete(endpoint);\n      } else if (method === 'PUT') {\n        await api.put(endpoint, requestData);\n      } else {\n        await api.post(endpoint, requestData);\n      }\n      \n      await fetchForumData(); // Refresh data\n      alert(message);\n    } catch (error) {\n      console.error(`Error performing ${action} on thread:`, error);\n      alert(`‚ùå Backend issue: ${action} functionality not implemented. Please check /admin/forums/threads endpoints.`);\n    }\n  };\n\n  const handleReportAction = async (reportId, action) => {\n    try {\n      await api.post(`/admin/forums/reports/${reportId}/${action}`);\n      await fetchForumData(); // Refresh data\n      alert(`Report ${action} successfully!`);\n    } catch (error) {\n      console.error(`Error ${action} report:`, error);\n      alert(`Error ${action} report. Please try again.`);\n    }\n  };\n\n  const getCategoryColor = (category) => {\n    switch (category) {\n      case 'hero-discussion': return 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';\n      case 'strategy': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';\n      case 'esports': return 'bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400';\n      case 'guides': return 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400';\n      case 'team-recruitment': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const filteredThreads = threads.filter(thread => {\n    if (filters.search && !thread.title.toLowerCase().includes(filters.search.toLowerCase())) {\n      return false;\n    }\n    if (filters.category !== 'all' && thread.category !== filters.category) {\n      return false;\n    }\n    if (filters.status !== 'all') {\n      if (filters.status === 'pinned' && !thread.pinned) return false;\n      if (filters.status === 'locked' && !thread.locked) return false;\n      if (filters.status === 'reported' && !thread.reported) return false;\n    }\n    return true;\n  });\n\n  if (!canModerateForums) {\n    return (\n      <div className=\"card p-12 text-center\">\n        <div className=\"text-6xl mb-4\">üö´</div>\n        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Access Denied</h3>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          You don't have permission to moderate forums.\n        </p>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 dark:text-gray-400\">Loading forum data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 max-w-6xl mx-auto\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\">Forum Moderation</h2>\n        <p className=\"text-gray-600 dark:text-gray-400\">Manage threads, categories, and reports</p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 dark:border-gray-700\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {[\n            { id: 'threads', label: 'Threads', count: threads.length },\n            { id: 'categories', label: 'Categories', count: categories.length },\n            { id: 'reports', label: 'Reports', count: reports.length }\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === tab.id\n                  ? 'border-red-500 text-red-600 dark:text-red-400'\n                  : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'\n              }`}\n            >\n              {tab.label} ({tab.count})\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Forum Stats */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">üí¨</div>\n          <div className=\"text-xl font-bold text-blue-600 dark:text-blue-400\">\n            {threads.length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Total Threads</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">üìå</div>\n          <div className=\"text-xl font-bold text-yellow-600 dark:text-yellow-400\">\n            {threads.filter(t => t.pinned).length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Pinned</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">üîí</div>\n          <div className=\"text-xl font-bold text-gray-600 dark:text-gray-400\">\n            {threads.filter(t => t.locked).length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Locked</div>\n        </div>\n        <div className=\"card p-4 text-center\">\n          <div className=\"text-2xl mb-2\">üö®</div>\n          <div className=\"text-xl font-bold text-red-600 dark:text-red-400\">\n            {reports.filter(r => r.status === 'pending').length}\n          </div>\n          <div className=\"text-xs text-gray-600 dark:text-gray-400\">Pending Reports</div>\n        </div>\n      </div>\n\n      {/* Threads Tab */}\n      {activeTab === 'threads' && (\n        <>\n          {/* Filters */}\n          <div className=\"card p-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Search Threads\n                </label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by title...\"\n                  value={filters.search}\n                  onChange={(e) => setFilters({...filters, search: e.target.value})}\n                  className=\"form-input\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Category\n                </label>\n                <select\n                  value={filters.category}\n                  onChange={(e) => setFilters({...filters, category: e.target.value})}\n                  className=\"form-input\"\n                >\n                  {categories.map(category => (\n                    <option key={category.id} value={category.id}>\n                      {category.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100\">\n                  Status\n                </label>\n                <select\n                  value={filters.status}\n                  onChange={(e) => setFilters({...filters, status: e.target.value})}\n                  className=\"form-input\"\n                >\n                  <option value=\"all\">All</option>\n                  <option value=\"pinned\">Pinned</option>\n                  <option value=\"locked\">Locked</option>\n                  <option value=\"reported\">Reported</option>\n                </select>\n              </div>\n              <div className=\"flex items-end\">\n                <button\n                  onClick={() => setFilters({ search: '', category: 'all', status: 'all' })}\n                  className=\"btn btn-secondary w-full\"\n                >\n                  Clear Filters\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Threads List */}\n          <div className=\"space-y-4\">\n            {filteredThreads.map((thread) => (\n              <div key={thread.id} className=\"card p-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    {/* Thread badges */}\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <span className={`px-2 py-1 text-xs font-bold rounded ${getCategoryColor(thread.category)}`}>\n                        {thread.category.replace('-', ' ').toUpperCase()}\n                      </span>\n                      {thread.pinned && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200\">\n                          üìå PINNED\n                        </span>\n                      )}\n                      {thread.locked && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n                          üîí LOCKED\n                        </span>\n                      )}\n                      {thread.reported && (\n                        <span className=\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\">\n                          üö® REPORTED\n                        </span>\n                      )}\n                    </div>\n\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                      {thread.title}\n                    </h3>\n\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\">\n                      <span>{thread.author.avatar} {thread.author.name}</span>\n                      <span>üí¨ {thread.replies} replies</span>\n                      <span>üëÅ {thread.views.toLocaleString()} views</span>\n                      <span>üëç {thread.upvotes - thread.downvotes}</span>\n                      <span>{formatDate(thread.created_at)}</span>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex flex-wrap gap-2\">\n                      <button\n                        onClick={() => navigateTo('thread-detail', { id: thread.id })}\n                        className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                      >\n                        üëÅ View\n                      </button>\n                      \n                      {thread.pinned ? (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'unpin')}\n                          className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\n                        >\n                          üìå Unpin\n                        </button>\n                      ) : (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'pin')}\n                          className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\n                        >\n                          üìå Pin\n                        </button>\n                      )}\n                      \n                      {thread.locked ? (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'unlock')}\n                          className=\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                        >\n                          üîì Unlock\n                        </button>\n                      ) : (\n                        <button\n                          onClick={() => handleThreadAction(thread.id, 'lock')}\n                          className=\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\"\n                        >\n                          üîí Lock\n                        </button>\n                      )}\n                      \n                      <button\n                        onClick={() => handleThreadAction(thread.id, 'delete')}\n                        className=\"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                      >\n                        üóëÔ∏è Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n\n      {/* Categories Tab */}\n      {activeTab === 'categories' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {categories.filter(cat => cat.id !== 'all').map((category) => (\n            <div key={category.id} className=\"card p-6 text-center\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                {category.name}\n              </h3>\n              <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2\">\n                {category.threads_count}\n              </p>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n                threads\n              </p>\n              <div className=\"flex space-x-2\">\n                <button className=\"btn btn-secondary text-xs\">\n                  ‚úèÔ∏è Edit\n                </button>\n                <button className=\"btn text-xs bg-red-600 text-white hover:bg-red-700\">\n                  üóëÔ∏è Delete\n                </button>\n              </div>\n            </div>\n          ))}\n          \n          {/* Add Category Card */}\n          <div className=\"card p-6 text-center border-2 border-dashed border-gray-300 dark:border-gray-600\">\n            <div className=\"text-4xl mb-4\">‚ûï</div>\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n              Add Category\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n              Create a new forum category\n            </p>\n            <button className=\"btn btn-primary text-xs\">\n              ‚ûï Add Category\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Reports Tab */}\n      {activeTab === 'reports' && (\n        <div className=\"space-y-4\">\n          {reports.map((report) => (\n            <div key={report.id} className=\"card p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-2 mb-2\">\n                    <span className=\"px-2 py-1 text-xs font-bold rounded bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200\">\n                      üö® {report.reason.toUpperCase()}\n                    </span>\n                    <span className=\"px-2 py-1 text-xs font-bold rounded bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n                      {report.status.toUpperCase()}\n                    </span>\n                  </div>\n\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                    Reported Thread: {report.thread_title}\n                  </h3>\n\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                    {report.description}\n                  </p>\n\n                  <div className=\"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-500 mb-3\">\n                    <span>Reported by: {report.reporter.avatar} {report.reporter.name}</span>\n                    <span>{formatDate(report.created_at)}</span>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => navigateTo('thread-detail', { id: report.thread_id })}\n                      className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                    >\n                      üëÅ View Thread\n                    </button>\n                    <button\n                      onClick={() => handleReportAction(report.id, 'approve')}\n                      className=\"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                    >\n                      ‚úÖ Approve\n                    </button>\n                    <button\n                      onClick={() => handleReportAction(report.id, 'dismiss')}\n                      className=\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\"\n                    >\n                      ‚ùå Dismiss\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {reports.length === 0 && (\n            <div className=\"card p-8 text-center\">\n              <div className=\"text-4xl mb-4\">üéâ</div>\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">No Reports</h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                All clear! No pending reports to review.\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminForums;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}