{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CreateThreadPage(_ref){var _categories$find;let{navigateTo}=_ref;const{user,api}=useAuth();const[formData,setFormData]=useState({title:'',category:'general',content:'',tags:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');// ✅ BACKEND VALIDATED: Use EXACT categories that backend accepts\nconst categories=[{id:'general',name:'General Discussion',description:'General Marvel Rivals discussion'},{id:'strategy',name:'Strategy & Tactics',description:'Share strategies and gameplay tactics'},{id:'hero-discussion',name:'Hero Discussion',description:'Discuss heroes, abilities, and balancing'},{id:'esports',name:'Esports & Competitive',description:'Competitive scene and tournament discussion'},{id:'guides',name:'Guides & Tutorials',description:'Player guides and tutorials'},{id:'team-recruitment',name:'Team Recruitment',description:'Looking for team members or teams'},{id:'meta-discussion',name:'Meta Analysis',description:'Current meta and balance discussion'},{id:'feedback',name:'Feedback & Suggestions',description:'Game feedback and improvement suggestions'},{id:'bugs',name:'Bug Reports',description:'Report bugs and technical issues'}];const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!user){setError('You must be logged in to create a thread');return;}if(!formData.title.trim()){setError('Thread title is required');return;}if(!formData.content.trim()){setError('Thread content is required');return;}// FIXED: Match backend validation - minimum 10 characters\nif(formData.content.trim().length<10){setError('Thread content must be at least 10 characters long');return;}setLoading(true);setError('');try{console.log('🚀 CreateThreadPage: Submitting thread...');const submitData={title:formData.title.trim(),category:formData.category,content:formData.content.trim(),tags:formData.tags.split(',').map(tag=>tag.trim()).filter(tag=>tag.length>0),author_id:user.id};console.log('💾 CreateThreadPage: Submit data:',submitData);// Try to create thread via API\nconst response=await api.post('/forums/threads',submitData);console.log('✅ CreateThreadPage: Thread created successfully:',response);const threadData=response.data||response;const threadId=threadData.id;alert('✅ Thread created successfully!');// CRITICAL FIX: Emit event to refresh forum list\nwindow.dispatchEvent(new CustomEvent('mrvl-thread-created'));// Navigate to the created thread or back to forums\nsetTimeout(()=>{if(threadId){navigateTo('thread-detail',{id:threadId});}else{navigateTo('forums');}},1000);}catch(error){console.error('❌ CreateThreadPage: Error creating thread:',error);// Enhanced error handling with backend issue highlighting\nif(error.message.includes('401')){setError('🚨 AUTHENTICATION ISSUE: Please log in again to create threads.');}else if(error.message.includes('403')){setError('🚨 PERMISSION ISSUE: You do not have permission to create threads.');}else if(error.message.includes('422')){setError('🚨 VALIDATION ISSUE: Please check your thread title and content.');}else if(error.message.includes('404')){setError('🚨 BACKEND ISSUE: Forum threads API endpoint not found. Please implement /api/forums/threads endpoint.');}else if(error.message.includes('500')){setError('🚨 BACKEND ISSUE: Server error when creating thread. Check backend forum implementation.');}else{setError(\"Failed to create thread: \".concat(error.message));}}finally{setLoading(false);}};// If user is not logged in, show login prompt\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Login Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"You need to be logged in to create forum threads and participate in discussions.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Trigger main auth modal\nwindow.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));},className:\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"Sign In / Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('forums'),className:\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Back to Forums\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\",children:\"Create New Thread\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Start a new discussion in the Marvel Rivals community\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('forums'),className:\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\",children:\"\\u2190 Back to Forums\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"border px-4 py-3 rounded mb-4 \".concat(error.includes('BACKEND ISSUE')||error.includes('AUTHENTICATION ISSUE')||error.includes('PERMISSION ISSUE')?'bg-red-100 border-red-400 text-red-700':'bg-yellow-100 border-yellow-400 text-yellow-700'),children:[error,error.includes('BACKEND ISSUE')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"For Backend Developer:\"}),\" Please implement the forum threads API endpoint with proper validation.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Thread Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleInputChange,className:\"form-input w-full\",placeholder:\"e.g., Iron Man is too overpowered in ranked matches\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:[formData.title.length,\"/200 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Category *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",value:formData.category,onChange:handleInputChange,className:\"form-input w-full\",required:true,children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:(_categories$find=categories.find(c=>c.id===formData.category))===null||_categories$find===void 0?void 0:_categories$find.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Content *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",value:formData.content,onChange:handleInputChange,rows:12,className:\"form-input w-full\",placeholder:\"Share your thoughts, strategies, feedback, or questions about Marvel Rivals... You can discuss:\\n\\u2022 Hero balance and gameplay mechanics\\n\\u2022 Strategic tips and team compositions\\n\\u2022 Tournament results and esports news\\n\\u2022 Bug reports and technical issues\\n\\u2022 Team recruitment and player connections Be respectful and constructive in your discussions!\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"Minimum 10 characters, be descriptive and helpful\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",children:\"Tags (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tags\",value:formData.tags,onChange:handleInputChange,className:\"form-input w-full\",placeholder:\"e.g., iron-man, balance, ranked, strategy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"Separate multiple tags with commas. Use relevant tags to help others find your thread.\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2\",children:\"Community Guidelines\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-xs text-blue-800 dark:text-blue-200 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Be respectful and constructive in your discussions\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Keep content relevant to Marvel Rivals\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Use appropriate language and avoid toxicity\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Search existing threads before creating duplicates\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Use descriptive titles and proper categories\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigateTo('forums'),className:\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!formData.title.trim()||!formData.content.trim(),className:\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),\"Creating Thread...\"]}):'Create Thread'})]})]})]});}export default CreateThreadPage;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","CreateThreadPage","_ref","_categories$find","navigateTo","user","api","formData","setFormData","title","category","content","tags","loading","setLoading","error","setError","categories","id","name","description","handleInputChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","trim","length","console","log","submitData","split","map","tag","filter","author_id","response","post","threadData","data","threadId","alert","window","dispatchEvent","CustomEvent","setTimeout","message","includes","concat","className","children","onClick","onSubmit","type","onChange","placeholder","maxLength","required","find","c","rows","disabled"],"sources":["/app/frontend/src/components/pages/CreateThreadPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction CreateThreadPage({ navigateTo }) {\n  const { user, api } = useAuth();\n  const [formData, setFormData] = useState({\n    title: '',\n    category: 'general',\n    content: '',\n    tags: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // ✅ BACKEND VALIDATED: Use EXACT categories that backend accepts\n  const categories = [\n    { id: 'general', name: 'General Discussion', description: 'General Marvel Rivals discussion' },\n    { id: 'strategy', name: 'Strategy & Tactics', description: 'Share strategies and gameplay tactics' },\n    { id: 'hero-discussion', name: 'Hero Discussion', description: 'Discuss heroes, abilities, and balancing' },\n    { id: 'esports', name: 'Esports & Competitive', description: 'Competitive scene and tournament discussion' },\n    { id: 'guides', name: 'Guides & Tutorials', description: 'Player guides and tutorials' },\n    { id: 'team-recruitment', name: 'Team Recruitment', description: 'Looking for team members or teams' },\n    { id: 'meta-discussion', name: 'Meta Analysis', description: 'Current meta and balance discussion' },\n    { id: 'feedback', name: 'Feedback & Suggestions', description: 'Game feedback and improvement suggestions' },\n    { id: 'bugs', name: 'Bug Reports', description: 'Report bugs and technical issues' }\n  ];\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!user) {\n      setError('You must be logged in to create a thread');\n      return;\n    }\n\n    if (!formData.title.trim()) {\n      setError('Thread title is required');\n      return;\n    }\n\n    if (!formData.content.trim()) {\n      setError('Thread content is required');\n      return;\n    }\n\n    // FIXED: Match backend validation - minimum 10 characters\n    if (formData.content.trim().length < 10) {\n      setError('Thread content must be at least 10 characters long');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log('🚀 CreateThreadPage: Submitting thread...');\n      \n      const submitData = {\n        title: formData.title.trim(),\n        category: formData.category,\n        content: formData.content.trim(),\n        tags: formData.tags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0),\n        author_id: user.id\n      };\n\n      console.log('💾 CreateThreadPage: Submit data:', submitData);\n\n      // Try to create thread via API\n      const response = await api.post('/forums/threads', submitData);\n      \n      console.log('✅ CreateThreadPage: Thread created successfully:', response);\n      \n      const threadData = response.data || response;\n      const threadId = threadData.id;\n\n      alert('✅ Thread created successfully!');\n      \n      // CRITICAL FIX: Emit event to refresh forum list\n      window.dispatchEvent(new CustomEvent('mrvl-thread-created'));\n      \n      // Navigate to the created thread or back to forums\n      setTimeout(() => {\n        if (threadId) {\n          navigateTo('thread-detail', { id: threadId });\n        } else {\n          navigateTo('forums');\n        }\n      }, 1000);\n\n    } catch (error) {\n      console.error('❌ CreateThreadPage: Error creating thread:', error);\n      \n      // Enhanced error handling with backend issue highlighting\n      if (error.message.includes('401')) {\n        setError('🚨 AUTHENTICATION ISSUE: Please log in again to create threads.');\n      } else if (error.message.includes('403')) {\n        setError('🚨 PERMISSION ISSUE: You do not have permission to create threads.');\n      } else if (error.message.includes('422')) {\n        setError('🚨 VALIDATION ISSUE: Please check your thread title and content.');\n      } else if (error.message.includes('404')) {\n        setError('🚨 BACKEND ISSUE: Forum threads API endpoint not found. Please implement /api/forums/threads endpoint.');\n      } else if (error.message.includes('500')) {\n        setError('🚨 BACKEND ISSUE: Server error when creating thread. Check backend forum implementation.');\n      } else {\n        setError(`Failed to create thread: ${error.message}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // If user is not logged in, show login prompt\n  if (!user) {\n    return (\n      <div className=\"max-w-2xl mx-auto\">\n        <div className=\"card p-8 text-center\">\n          <div className=\"text-4xl mb-4\">🔐</div>\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Login Required</h2>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n            You need to be logged in to create forum threads and participate in discussions.\n          </p>\n          <div className=\"space-x-4\">\n            <button \n              onClick={() => {\n                // Trigger main auth modal\n                window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n              }}\n              className=\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            >\n              Sign In / Sign Up\n            </button>\n            <button \n              onClick={() => navigateTo('forums')}\n              className=\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n            >\n              Back to Forums\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\">Create New Thread</h1>\n          <p className=\"text-gray-600 dark:text-gray-400\">Start a new discussion in the Marvel Rivals community</p>\n        </div>\n        <button \n          onClick={() => navigateTo('forums')}\n          className=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\n        >\n          ← Back to Forums\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Error Display */}\n        {error && (\n          <div className={`border px-4 py-3 rounded mb-4 ${\n            error.includes('BACKEND ISSUE') || error.includes('AUTHENTICATION ISSUE') || error.includes('PERMISSION ISSUE')\n              ? 'bg-red-100 border-red-400 text-red-700' \n              : 'bg-yellow-100 border-yellow-400 text-yellow-700'\n          }`}>\n            {error}\n            {error.includes('BACKEND ISSUE') && (\n              <div className=\"mt-2 text-sm\">\n                <strong>For Backend Developer:</strong> Please implement the forum threads API endpoint with proper validation.\n              </div>\n            )}\n          </div>\n        )}\n\n        <div className=\"card p-6\">\n          <div className=\"space-y-6\">\n            {/* Thread Title */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Thread Title *\n              </label>\n              <input\n                type=\"text\"\n                name=\"title\"\n                value={formData.title}\n                onChange={handleInputChange}\n                className=\"form-input w-full\"\n                placeholder=\"e.g., Iron Man is too overpowered in ranked matches\"\n                maxLength=\"200\"\n                required\n              />\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                {formData.title.length}/200 characters\n              </p>\n            </div>\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Category *\n              </label>\n              <select\n                name=\"category\"\n                value={formData.category}\n                onChange={handleInputChange}\n                className=\"form-input w-full\"\n                required\n              >\n                {categories.map(category => (\n                  <option key={category.id} value={category.id}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                {categories.find(c => c.id === formData.category)?.description}\n              </p>\n            </div>\n\n            {/* Content */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Content *\n              </label>\n              <textarea\n                name=\"content\"\n                value={formData.content}\n                onChange={handleInputChange}\n                rows={12}\n                className=\"form-input w-full\"\n                placeholder=\"Share your thoughts, strategies, feedback, or questions about Marvel Rivals...\n\nYou can discuss:\n• Hero balance and gameplay mechanics\n• Strategic tips and team compositions\n• Tournament results and esports news\n• Bug reports and technical issues\n• Team recruitment and player connections\n\nBe respectful and constructive in your discussions!\"\n                required\n              />\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                Minimum 10 characters, be descriptive and helpful\n              </p>\n            </div>\n\n            {/* Tags */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                Tags (Optional)\n              </label>\n              <input\n                type=\"text\"\n                name=\"tags\"\n                value={formData.tags}\n                onChange={handleInputChange}\n                className=\"form-input w-full\"\n                placeholder=\"e.g., iron-man, balance, ranked, strategy\"\n              />\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                Separate multiple tags with commas. Use relevant tags to help others find your thread.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Community Guidelines */}\n        <div className=\"card p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800\">\n          <h3 className=\"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2\">Community Guidelines</h3>\n          <ul className=\"text-xs text-blue-800 dark:text-blue-200 space-y-1\">\n            <li>• Be respectful and constructive in your discussions</li>\n            <li>• Keep content relevant to Marvel Rivals</li>\n            <li>• Use appropriate language and avoid toxicity</li>\n            <li>• Search existing threads before creating duplicates</li>\n            <li>• Use descriptive titles and proper categories</li>\n          </ul>\n        </div>\n\n        {/* Submit Buttons */}\n        <div className=\"flex justify-end space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => navigateTo('forums')}\n            className=\"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading || !formData.title.trim() || !formData.content.trim()}\n            className=\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {loading ? (\n              <span className=\"flex items-center\">\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n                Creating Thread...\n              </span>\n            ) : (\n              'Create Thread'\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateThreadPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}