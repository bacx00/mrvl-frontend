{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ForumsPage(_ref){let{navigateTo}=_ref;const{isAuthenticated,isAdmin,isModerator,api}=useAuth();const[selectedCategory,setSelectedCategory]=useState('all');const[searchQuery,setSearchQuery]=useState('');const[sortBy,setSortBy]=useState('recent');const[threads,setThreads]=useState([]);const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(true);const[showAuthModal,setShowAuthModal]=useState(false);const fetchForumData=useCallback(async()=>{try{setLoading(true);// CRITICAL FIX: Fetch REAL forum threads from backend first\nlet threadsData=[];let categoriesData=[];try{var _threadsResponse$data;console.log('🔍 ForumsPage: Fetching REAL forum data from backend...');// Get real threads from backend\nconst threadsResponse=await api.get('/forums/threads');const rawThreads=(threadsResponse===null||threadsResponse===void 0?void 0:(_threadsResponse$data=threadsResponse.data)===null||_threadsResponse$data===void 0?void 0:_threadsResponse$data.data)||(threadsResponse===null||threadsResponse===void 0?void 0:threadsResponse.data)||[];if(Array.isArray(rawThreads)&&rawThreads.length>0){threadsData=rawThreads.map(thread=>{var _thread$author,_thread$author2,_thread$author3,_thread$author4,_thread$last_reply;return{id:thread.id,// CRITICAL FIX: Use REAL thread ID from backend\ntitle:thread.title,author:{name:thread.user_name||((_thread$author=thread.author)===null||_thread$author===void 0?void 0:_thread$author.name)||'Unknown User',role:((_thread$author2=thread.author)===null||_thread$author2===void 0?void 0:_thread$author2.role)||'user',country:((_thread$author3=thread.author)===null||_thread$author3===void 0?void 0:_thread$author3.country)||'US',teamFlair:((_thread$author4=thread.author)===null||_thread$author4===void 0?void 0:_thread$author4.team_flair)||null},category:thread.category||'general',replies:thread.replies||thread.replies_count||0,views:thread.views||thread.views_count||0,lastReply:{user:((_thread$last_reply=thread.last_reply)===null||_thread$last_reply===void 0?void 0:_thread$last_reply.user)||'No replies yet',timestamp:formatTimeAgo(thread.updated_at||thread.created_at)},created:thread.created_at,pinned:thread.pinned||false,locked:thread.locked||false,trending:thread.trending||false,excerpt:thread.content?thread.content.substring(0,150)+'...':'No preview available'};});console.log('✅ ForumsPage: Using REAL backend threads:',threadsData.length);}else{throw new Error('No real threads found');}// Try to get real categories from backend\ntry{var _categoriesResponse$d;const categoriesResponse=await api.get('/forums/categories');const rawCategories=(categoriesResponse===null||categoriesResponse===void 0?void 0:(_categoriesResponse$d=categoriesResponse.data)===null||_categoriesResponse$d===void 0?void 0:_categoriesResponse$d.data)||(categoriesResponse===null||categoriesResponse===void 0?void 0:categoriesResponse.data)||[];if(Array.isArray(rawCategories)&&rawCategories.length>0){categoriesData=[{id:'all',name:'All Categories',count:threadsData.length},...rawCategories.map(cat=>({id:cat.id||cat.slug,name:cat.name,count:cat.threads_count||0}))];console.log('✅ ForumsPage: Using REAL backend categories:',categoriesData.length);}else{throw new Error('Empty categories response');}}catch(categoriesError){console.log('⚠️ ForumsPage: Categories API unavailable, using enhanced fallback categories');categoriesData=[{id:'all',name:'All Categories',count:threadsData.length},{id:'general',name:'General Discussion',count:Math.floor(threadsData.length*0.3)},{id:'tournaments',name:'Tournaments',count:Math.floor(threadsData.length*0.2)},{id:'hero-discussion',name:'Hero Discussion',count:Math.floor(threadsData.length*0.25)},{id:'strategy',name:'Strategy & Tactics',count:Math.floor(threadsData.length*0.15)},{id:'esports',name:'Esports & Competitive',count:Math.floor(threadsData.length*0.1)}];}}catch(error){console.error('❌ ForumsPage: Backend API failed, using mock data:',error);// Enhanced mock categories with new threads refresh\ncategoriesData=[{id:'all',name:'All Categories',count:1247},{id:'general',name:'General Discussion',count:234},{id:'hero-discussion',name:'Hero Discussion',count:189},{id:'strategy',name:'Strategy & Tactics',count:156},{id:'esports',name:'Esports & Competitive',count:98},{id:'guides',name:'Guides & Tutorials',count:67},{id:'patch-notes',name:'Patch Notes & Updates',count:23},{id:'bugs',name:'Bug Reports',count:45},{id:'feedback',name:'Feedback & Suggestions',count:78},{id:'team-recruitment',name:'Team Recruitment',count:89},{id:'meta-discussion',name:'Meta Analysis',count:134}];// Enhanced mock threads with real Marvel Rivals content\nthreadsData=generateMockThreads();}setCategories(categoriesData);// Filter and sort threads\nlet filteredThreads=threadsData;if(selectedCategory!=='all'){filteredThreads=filteredThreads.filter(thread=>thread.category===selectedCategory);}if(searchQuery){filteredThreads=filteredThreads.filter(thread=>thread.title.toLowerCase().includes(searchQuery.toLowerCase())||thread.excerpt.toLowerCase().includes(searchQuery.toLowerCase()));}// Apply sorting\nswitch(sortBy){case'recent':filteredThreads.sort((a,b)=>new Date(b.created)-new Date(a.created));break;case'popular':filteredThreads.sort((a,b)=>b.replies-a.replies);break;case'replies':filteredThreads.sort((a,b)=>b.replies-a.replies);break;case'views':filteredThreads.sort((a,b)=>b.views-a.views);break;default:break;}// Always put pinned posts first\nconst pinnedThreads=filteredThreads.filter(t=>t.pinned);const regularThreads=filteredThreads.filter(t=>!t.pinned);filteredThreads=[...pinnedThreads,...regularThreads];setThreads(filteredThreads);}catch(error){console.error('Error fetching forum data:',error);setThreads(generateMockThreads());}finally{setLoading(false);}},[selectedCategory,searchQuery,sortBy,api]);// Helper function to format time ago\nconst formatTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/60000);const diffHours=Math.floor(diffMs/3600000);const diffDays=Math.floor(diffMs/86400000);if(diffMins<60)return\"\".concat(diffMins,\"m ago\");if(diffHours<24)return\"\".concat(diffHours,\"h ago\");return\"\".concat(diffDays,\"d ago\");};// Generate mock threads function\nconst generateMockThreads=()=>{return[{id:1,title:'Iron Man is completely broken in the current meta - needs urgent nerf',author:{name:'CompetitiveGamer2024',role:'user',country:'US',teamFlair:{name:'Team Stark',logo:null}},category:'hero-discussion',replies:189,views:4567,lastReply:{user:'TacticalAnalyst',timestamp:'2 hours ago'},created:'2025-01-24T10:30:00Z',pinned:false,locked:false,trending:true,excerpt:'His Repulsors do way too much damage and his mobility with the Arc Reactor flight makes him nearly impossible to counter...'},{id:2,title:'[GUIDE] Complete Tank Meta Guide - Best Strategies for Season 1',author:{name:'TankMaster_Pro',role:'moderator',country:'CA',teamFlair:{name:'Avengers',logo:null}},category:'strategy',replies:234,views:8932,lastReply:{user:'NewPlayer123',timestamp:'45 minutes ago'},created:'2025-01-22T14:15:00Z',pinned:true,locked:false,trending:true,excerpt:'After analyzing 500+ ranked matches in Masters tier, here are the most effective tank strategies...'},{id:3,title:'Season 1 Balance Changes Discussion - What are your thoughts?',author:{name:'Marvel_DevTeam',role:'admin',country:'US',teamFlair:null},category:'patch-notes',replies:345,views:12456,lastReply:{user:'CommunityVoice',timestamp:'30 minutes ago'},created:'2025-01-26T09:00:00Z',pinned:true,locked:false,trending:true,excerpt:'The latest Season 1 balance changes bring significant adjustments to Spider-Man, Scarlet Witch...'}];};useEffect(()=>{fetchForumData();},[fetchForumData]);// CRITICAL FIX: Listen for new thread creation to refresh forum list\nuseEffect(()=>{const handleNewThreadCreated=()=>{console.log('🔄 ForumsPage: New thread created, refreshing forum list...');fetchForumData();};window.addEventListener('mrvl-thread-created',handleNewThreadCreated);return()=>{window.removeEventListener('mrvl-thread-created',handleNewThreadCreated);};},[fetchForumData]);// FIXED: Properly handle sign-in by setting up the main auth modal\nconst handleSignInClick=()=>{console.log('🔑 ForumsPage: Sign in button clicked');setShowAuthModal(true);};// CRITICAL FIX: Use REAL thread ID for navigation\nconst handleThreadClick=threadId=>{console.log('🔗 ForumsPage: Navigating to thread with REAL ID:',threadId);if(navigateTo&&typeof navigateTo==='function'){navigateTo('thread-detail',{id:threadId});}};const handleCreateThread=()=>{if(isAuthenticated){if(navigateTo&&typeof navigateTo==='function'){navigateTo('create-thread');}}else{handleSignInClick();}};const getRoleColor=role=>{switch(role){case'admin':return'text-red-600 dark:text-red-400';case'moderator':return'text-yellow-600 dark:text-yellow-400';default:return'text-gray-600 dark:text-gray-400';}};const getRoleDisplay=role=>{switch(role){case'admin':return'DEV';case'moderator':return'MOD';default:return'';}};// Country flag helper function\nconst getCountryFlag=countryCode=>{const flagMap={'US':'🇺🇸','CA':'🇨🇦','UK':'🇬🇧','DE':'🇩🇪','FR':'🇫🇷','BR':'🇧🇷','KR':'🇰🇷','JP':'🇯🇵'};return flagMap[countryCode]||'🌍';};// FIXED: Inline Auth Modal Component - triggers main App.js AuthModal\nconst InlineAuthModal=()=>{if(!showAuthModal)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/60 backdrop-blur-sm\",onClick:()=>setShowAuthModal(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"relative card w-full max-w-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"\\uD83D\\uDD11 Sign In Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"Please sign in to participate in forum discussions and create posts.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAuthModal(false);window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));},className:\"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",children:\"\\uD83D\\uDE80 Sign In / Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAuthModal(false),className:\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Continue Browsing\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-xs text-gray-500 dark:text-gray-500\",children:\"Sign in to reply to posts and join the conversation!\"})]})})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"forum-layout max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(InlineAuthModal,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-red-600 dark:text-red-400\",children:\"Forums\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateThread,className:\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\",children:isAuthenticated?'New Post':'Sign In to Post'}),(isAdmin()||isModerator())&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo&&navigateTo('admin-forums'),className:\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\",children:\"Moderate\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-b border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search posts...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-700 dark:text-gray-300\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"recent\",children:\"Recent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popular\",children:\"Popular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"replies\",children:\"Most Replies\"}),/*#__PURE__*/_jsx(\"option\",{value:\"views\",children:\"Most Views\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200 dark:divide-gray-600\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading posts...\"})}):threads.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl mb-2\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white mb-1\",children:\"No posts found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:searchQuery?'Try adjusting your search criteria':'Be the first to start a discussion!'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateThread,className:\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\",children:isAuthenticated?'Create First Post':'Sign In to Create Post'})]}):threads.map(thread=>/*#__PURE__*/_jsx(\"div\",{className:\"forum-thread cursor-pointer p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\",onClick:()=>handleThreadClick(thread.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-start space-y-2 md:space-y-0 md:space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-wrap space-x-2 mb-1\",children:[thread.pinned&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-xs font-bold rounded\",children:\"PINNED\"}),thread.trending&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200 text-xs font-bold rounded\",children:\"TRENDING\"}),thread.locked&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-xs font-bold rounded\",children:\"LOCKED\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm md:text-base font-semibold text-gray-900 dark:text-white mb-1 hover:text-red-600 dark:hover:text-red-400 transition-colors line-clamp-2\",children:thread.title}),/*#__PURE__*/_jsx(\"p\",{className:\"hidden md:block text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-1\",children:thread.excerpt}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-500 dark:text-gray-500 space-y-1 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:getCountryFlag(thread.author.country)}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-gray-100\",children:thread.author.name}),thread.author.role!=='user'&&/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat(getRoleColor(thread.author.role)),children:getRoleDisplay(thread.author.role)}),thread.author.teamFlair&&/*#__PURE__*/_jsx(\"span\",{className:\"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded\",children:thread.author.teamFlair.name}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTimeAgo(thread.created)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700 dark:text-gray-300 font-medium\",children:[thread.replies,\" replies\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"hidden sm:inline\",children:[thread.views.toLocaleString(),\" views\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-xs text-gray-500 dark:text-gray-500\",children:[\"Last reply by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:thread.lastReply.user}),\" \\u2022 \",thread.lastReply.timestamp]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-1 self-start md:self-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();if(!isAuthenticated){handleSignInClick();}else{handleThreadClick(thread.id);}},className:\"px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",children:\"Reply\"})})]})},thread.id))})]})]});}export default ForumsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","jsx","_jsx","jsxs","_jsxs","ForumsPage","_ref","navigateTo","isAuthenticated","isAdmin","isModerator","api","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","sortBy","setSortBy","threads","setThreads","categories","setCategories","loading","setLoading","showAuthModal","setShowAuthModal","fetchForumData","threadsData","categoriesData","_threadsResponse$data","console","log","threadsResponse","get","rawThreads","data","Array","isArray","length","map","thread","_thread$author","_thread$author2","_thread$author3","_thread$author4","_thread$last_reply","id","title","author","name","user_name","role","country","teamFlair","team_flair","category","replies","replies_count","views","views_count","lastReply","user","last_reply","timestamp","formatTimeAgo","updated_at","created_at","created","pinned","locked","trending","excerpt","content","substring","Error","_categoriesResponse$d","categoriesResponse","rawCategories","count","cat","slug","threads_count","categoriesError","Math","floor","error","generateMockThreads","filteredThreads","filter","toLowerCase","includes","sort","a","b","Date","pinnedThreads","t","regularThreads","dateString","date","now","diffMs","diffMins","diffHours","diffDays","concat","logo","handleNewThreadCreated","window","addEventListener","removeEventListener","handleSignInClick","handleThreadClick","threadId","handleCreateThread","getRoleColor","getRoleDisplay","getCountryFlag","countryCode","flagMap","InlineAuthModal","className","children","onClick","dispatchEvent","CustomEvent","type","placeholder","value","onChange","e","target","toLocaleString","stopPropagation"],"sources":["/app/frontend/src/components/pages/ForumsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../../hooks';\n\nfunction ForumsPage({ navigateTo }) {\n  const { isAuthenticated, isAdmin, isModerator, api } = useAuth();\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('recent'); \n  const [threads, setThreads] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n\n  const fetchForumData = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      // CRITICAL FIX: Fetch REAL forum threads from backend first\n      let threadsData = [];\n      let categoriesData = [];\n      \n      try {\n        console.log('🔍 ForumsPage: Fetching REAL forum data from backend...');\n        \n        // Get real threads from backend\n        const threadsResponse = await api.get('/forums/threads');\n        const rawThreads = threadsResponse?.data?.data || threadsResponse?.data || [];\n        \n        if (Array.isArray(rawThreads) && rawThreads.length > 0) {\n          threadsData = rawThreads.map(thread => ({\n            id: thread.id, // CRITICAL FIX: Use REAL thread ID from backend\n            title: thread.title,\n            author: {\n              name: thread.user_name || thread.author?.name || 'Unknown User',\n              role: thread.author?.role || 'user',\n              country: thread.author?.country || 'US',\n              teamFlair: thread.author?.team_flair || null\n            },\n            category: thread.category || 'general',\n            replies: thread.replies || thread.replies_count || 0,\n            views: thread.views || thread.views_count || 0,\n            lastReply: {\n              user: thread.last_reply?.user || 'No replies yet',\n              timestamp: formatTimeAgo(thread.updated_at || thread.created_at)\n            },\n            created: thread.created_at,\n            pinned: thread.pinned || false,\n            locked: thread.locked || false,\n            trending: thread.trending || false,\n            excerpt: thread.content ? thread.content.substring(0, 150) + '...' : 'No preview available'\n          }));\n          console.log('✅ ForumsPage: Using REAL backend threads:', threadsData.length);\n        } else {\n          throw new Error('No real threads found');\n        }\n        \n        // Try to get real categories from backend\n        try {\n          const categoriesResponse = await api.get('/forums/categories');\n          const rawCategories = categoriesResponse?.data?.data || categoriesResponse?.data || [];\n          \n          if (Array.isArray(rawCategories) && rawCategories.length > 0) {\n            categoriesData = [\n              { id: 'all', name: 'All Categories', count: threadsData.length },\n              ...rawCategories.map(cat => ({\n                id: cat.id || cat.slug,\n                name: cat.name,\n                count: cat.threads_count || 0\n              }))\n            ];\n            console.log('✅ ForumsPage: Using REAL backend categories:', categoriesData.length);\n          } else {\n            throw new Error('Empty categories response');\n          }\n        } catch (categoriesError) {\n          console.log('⚠️ ForumsPage: Categories API unavailable, using enhanced fallback categories');\n          categoriesData = [\n            { id: 'all', name: 'All Categories', count: threadsData.length },\n            { id: 'general', name: 'General Discussion', count: Math.floor(threadsData.length * 0.3) },\n            { id: 'tournaments', name: 'Tournaments', count: Math.floor(threadsData.length * 0.2) },\n            { id: 'hero-discussion', name: 'Hero Discussion', count: Math.floor(threadsData.length * 0.25) },\n            { id: 'strategy', name: 'Strategy & Tactics', count: Math.floor(threadsData.length * 0.15) },\n            { id: 'esports', name: 'Esports & Competitive', count: Math.floor(threadsData.length * 0.1) }\n          ];\n        }\n        \n      } catch (error) {\n        console.error('❌ ForumsPage: Backend API failed, using mock data:', error);\n        \n        // Enhanced mock categories with new threads refresh\n        categoriesData = [\n          { id: 'all', name: 'All Categories', count: 1247 },\n          { id: 'general', name: 'General Discussion', count: 234 },\n          { id: 'hero-discussion', name: 'Hero Discussion', count: 189 },\n          { id: 'strategy', name: 'Strategy & Tactics', count: 156 },\n          { id: 'esports', name: 'Esports & Competitive', count: 98 },\n          { id: 'guides', name: 'Guides & Tutorials', count: 67 },\n          { id: 'patch-notes', name: 'Patch Notes & Updates', count: 23 },\n          { id: 'bugs', name: 'Bug Reports', count: 45 },\n          { id: 'feedback', name: 'Feedback & Suggestions', count: 78 },\n          { id: 'team-recruitment', name: 'Team Recruitment', count: 89 },\n          { id: 'meta-discussion', name: 'Meta Analysis', count: 134 }\n        ];\n        \n        // Enhanced mock threads with real Marvel Rivals content\n        threadsData = generateMockThreads();\n      }\n\n      setCategories(categoriesData);\n      \n      // Filter and sort threads\n      let filteredThreads = threadsData;\n      \n      if (selectedCategory !== 'all') {\n        filteredThreads = filteredThreads.filter(thread => thread.category === selectedCategory);\n      }\n      \n      if (searchQuery) {\n        filteredThreads = filteredThreads.filter(thread =>\n          thread.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          thread.excerpt.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n      }\n      \n      // Apply sorting\n      switch (sortBy) {\n        case 'recent':\n          filteredThreads.sort((a, b) => new Date(b.created) - new Date(a.created));\n          break;\n        case 'popular':\n          filteredThreads.sort((a, b) => b.replies - a.replies);\n          break;\n        case 'replies':\n          filteredThreads.sort((a, b) => b.replies - a.replies);\n          break;\n        case 'views':\n          filteredThreads.sort((a, b) => b.views - a.views);\n          break;\n        default:\n          break;\n      }\n      \n      // Always put pinned posts first\n      const pinnedThreads = filteredThreads.filter(t => t.pinned);\n      const regularThreads = filteredThreads.filter(t => !t.pinned);\n      filteredThreads = [...pinnedThreads, ...regularThreads];\n      \n      setThreads(filteredThreads);\n    } catch (error) {\n      console.error('Error fetching forum data:', error);\n      setThreads(generateMockThreads());\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedCategory, searchQuery, sortBy, api]);\n\n  // Helper function to format time ago\n  const formatTimeAgo = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n  };\n\n  // Generate mock threads function\n  const generateMockThreads = () => {\n    return [\n      {\n        id: 1,\n        title: 'Iron Man is completely broken in the current meta - needs urgent nerf',\n        author: { \n          name: 'CompetitiveGamer2024', \n          role: 'user',\n          country: 'US',\n          teamFlair: { name: 'Team Stark', logo: null }\n        },\n        category: 'hero-discussion',\n        replies: 189,\n        views: 4567,\n        lastReply: {\n          user: 'TacticalAnalyst',\n          timestamp: '2 hours ago'\n        },\n        created: '2025-01-24T10:30:00Z',\n        pinned: false,\n        locked: false,\n        trending: true,\n        excerpt: 'His Repulsors do way too much damage and his mobility with the Arc Reactor flight makes him nearly impossible to counter...'\n      },\n      {\n        id: 2,\n        title: '[GUIDE] Complete Tank Meta Guide - Best Strategies for Season 1',\n        author: { \n          name: 'TankMaster_Pro', \n          role: 'moderator',\n          country: 'CA',\n          teamFlair: { name: 'Avengers', logo: null }\n        },\n        category: 'strategy',\n        replies: 234,\n        views: 8932,\n        lastReply: {\n          user: 'NewPlayer123',\n          timestamp: '45 minutes ago'\n        },\n        created: '2025-01-22T14:15:00Z',\n        pinned: true,\n        locked: false,\n        trending: true,\n        excerpt: 'After analyzing 500+ ranked matches in Masters tier, here are the most effective tank strategies...'\n      },\n      {\n        id: 3,\n        title: 'Season 1 Balance Changes Discussion - What are your thoughts?',\n        author: { \n          name: 'Marvel_DevTeam', \n          role: 'admin',\n          country: 'US',\n          teamFlair: null\n        },\n        category: 'patch-notes',\n        replies: 345,\n        views: 12456,\n        lastReply: {\n          user: 'CommunityVoice',\n          timestamp: '30 minutes ago'\n        },\n        created: '2025-01-26T09:00:00Z',\n        pinned: true,\n        locked: false,\n        trending: true,\n        excerpt: 'The latest Season 1 balance changes bring significant adjustments to Spider-Man, Scarlet Witch...'\n      }\n    ];\n  };\n\n  useEffect(() => {\n    fetchForumData();\n  }, [fetchForumData]);\n\n  // CRITICAL FIX: Listen for new thread creation to refresh forum list\n  useEffect(() => {\n    const handleNewThreadCreated = () => {\n      console.log('🔄 ForumsPage: New thread created, refreshing forum list...');\n      fetchForumData();\n    };\n\n    window.addEventListener('mrvl-thread-created', handleNewThreadCreated);\n    \n    return () => {\n      window.removeEventListener('mrvl-thread-created', handleNewThreadCreated);\n    };\n  }, [fetchForumData]);\n\n  // FIXED: Properly handle sign-in by setting up the main auth modal\n  const handleSignInClick = () => {\n    console.log('🔑 ForumsPage: Sign in button clicked');\n    setShowAuthModal(true);\n  };\n\n  // CRITICAL FIX: Use REAL thread ID for navigation\n  const handleThreadClick = (threadId) => {\n    console.log('🔗 ForumsPage: Navigating to thread with REAL ID:', threadId);\n    if (navigateTo && typeof navigateTo === 'function') {\n      navigateTo('thread-detail', { id: threadId });\n    }\n  };\n\n  const handleCreateThread = () => {\n    if (isAuthenticated) {\n      if (navigateTo && typeof navigateTo === 'function') {\n        navigateTo('create-thread');\n      }\n    } else {\n      handleSignInClick();\n    }\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case 'admin': return 'text-red-600 dark:text-red-400';\n      case 'moderator': return 'text-yellow-600 dark:text-yellow-400';\n      default: return 'text-gray-600 dark:text-gray-400';\n    }\n  };\n\n  const getRoleDisplay = (role) => {\n    switch (role) {\n      case 'admin': return 'DEV';\n      case 'moderator': return 'MOD';\n      default: return '';\n    }\n  };\n\n  // Country flag helper function\n  const getCountryFlag = (countryCode) => {\n    const flagMap = {\n      'US': '🇺🇸',\n      'CA': '🇨🇦', \n      'UK': '🇬🇧',\n      'DE': '🇩🇪',\n      'FR': '🇫🇷',\n      'BR': '🇧🇷',\n      'KR': '🇰🇷',\n      'JP': '🇯🇵'\n    };\n    return flagMap[countryCode] || '🌍';\n  };\n\n  // FIXED: Inline Auth Modal Component - triggers main App.js AuthModal\n  const InlineAuthModal = () => {\n    if (!showAuthModal) return null;\n\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n        <div \n          className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n          onClick={() => setShowAuthModal(false)}\n        />\n        <div className=\"relative card w-full max-w-md\">\n          <div className=\"p-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">\n                🔑 Sign In Required\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                Please sign in to participate in forum discussions and create posts.\n              </p>\n              \n              <div className=\"space-y-3\">\n                <button \n                  onClick={() => {\n                    setShowAuthModal(false);\n                    window.dispatchEvent(new CustomEvent('mrvl-show-auth-modal'));\n                  }}\n                  className=\"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                >\n                  🚀 Sign In / Sign Up\n                </button>\n                \n                <button \n                  onClick={() => setShowAuthModal(false)}\n                  className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Continue Browsing\n                </button>\n              </div>\n              \n              <div className=\"mt-4 text-xs text-gray-500 dark:text-gray-500\">\n                Sign in to reply to posts and join the conversation!\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"forum-layout max-w-6xl mx-auto\">\n      <InlineAuthModal />\n\n      {/* Compact header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-xl font-bold text-red-600 dark:text-red-400\">Forums</h1>\n        \n        {/* FIXED: Show different buttons based on user role */}\n        <div className=\"flex items-center space-x-2\">\n          <button \n            onClick={handleCreateThread}\n            className=\"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n          >\n            {isAuthenticated ? 'New Post' : 'Sign In to Post'}\n          </button>\n          \n          {/* Only show Admin Panel for admins and moderators */}\n          {(isAdmin() || isModerator()) && (\n            <button \n              onClick={() => navigateTo && navigateTo('admin-forums')}\n              className=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n            >\n              Moderate\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Responsive card layout */}\n      <div className=\"card\">\n        {/* Added sorting controls */}\n        <div className=\"p-3 border-b border-gray-200 dark:border-gray-600\">\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"flex-1\">\n              <input\n                type=\"text\"\n                placeholder=\"Search posts...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n              />\n            </div>\n            \n            {/* Added sorting dropdown */}\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">Sort by:</label>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n              >\n                <option value=\"recent\">Recent</option>\n                <option value=\"popular\">Popular</option>\n                <option value=\"replies\">Most Replies</option>\n                <option value=\"views\">Most Views</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Posts List - VLR.gg style with user flags and team flairs */}\n        <div className=\"divide-y divide-gray-200 dark:divide-gray-600\">\n          {loading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-600 dark:text-gray-400\">Loading posts...</div>\n            </div>\n          ) : threads.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-xl mb-2\">💬</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">No posts found</h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                {searchQuery ? 'Try adjusting your search criteria' : 'Be the first to start a discussion!'}\n              </p>\n              <button \n                onClick={handleCreateThread}\n                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n              >\n                {isAuthenticated ? 'Create First Post' : 'Sign In to Create Post'}\n              </button>\n            </div>\n          ) : (\n            threads.map(thread => (\n              <div \n                key={thread.id} \n                className=\"forum-thread cursor-pointer p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                onClick={() => handleThreadClick(thread.id)}\n              >\n                <div className=\"flex flex-col md:flex-row md:items-start space-y-2 md:space-y-0 md:space-x-3\">\n                  <div className=\"flex-1 min-w-0\">\n                    {/* Post badges */}\n                    <div className=\"flex items-center flex-wrap space-x-2 mb-1\">\n                      {thread.pinned && (\n                        <span className=\"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-xs font-bold rounded\">\n                          PINNED\n                        </span>\n                      )}\n                      {thread.trending && (\n                        <span className=\"px-2 py-0.5 bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200 text-xs font-bold rounded\">\n                          TRENDING\n                        </span>\n                      )}\n                      {thread.locked && (\n                        <span className=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-xs font-bold rounded\">\n                          LOCKED\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Title - responsive text sizing */}\n                    <h3 className=\"text-sm md:text-base font-semibold text-gray-900 dark:text-white mb-1 hover:text-red-600 dark:hover:text-red-400 transition-colors line-clamp-2\">\n                      {thread.title}\n                    </h3>\n\n                    {/* Excerpt - hidden on mobile */}\n                    <p className=\"hidden md:block text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-1\">\n                      {thread.excerpt}\n                    </p>\n\n                    {/* Meta info with VLR.gg style flags and team flairs */}\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-500 dark:text-gray-500 space-y-1 sm:space-y-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        {/* Country Flag */}\n                        <span className=\"text-sm\">{getCountryFlag(thread.author.country)}</span>\n                        \n                        {/* Username */}\n                        <span className=\"font-medium text-gray-900 dark:text-gray-100\">{thread.author.name}</span>\n                        \n                        {/* Role badge */}\n                        {thread.author.role !== 'user' && (\n                          <span className={`font-bold ${getRoleColor(thread.author.role)}`}>\n                            {getRoleDisplay(thread.author.role)}\n                          </span>\n                        )}\n                        \n                        {/* Team Flair */}\n                        {thread.author.teamFlair && (\n                          <span className=\"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded\">\n                            {thread.author.teamFlair.name}\n                          </span>\n                        )}\n                        \n                        <span>•</span>\n                        <span>{formatTimeAgo(thread.created)}</span>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-gray-700 dark:text-gray-300 font-medium\">{thread.replies} replies</span>\n                        <span className=\"hidden sm:inline\">{thread.views.toLocaleString()} views</span>\n                      </div>\n                    </div>\n\n                    {/* Last Reply */}\n                    <div className=\"mt-1 text-xs text-gray-500 dark:text-gray-500\">\n                      Last reply by <span className=\"font-medium text-gray-700 dark:text-gray-300\">{thread.lastReply.user}</span> • {thread.lastReply.timestamp}\n                    </div>\n                  </div>\n\n                  {/* Reply Button */}\n                  <div className=\"pt-1 self-start md:self-center\">\n                    <button \n                      onClick={(e) => {\n                        e.stopPropagation();\n                        if (!isAuthenticated) {\n                          handleSignInClick();\n                        } else {\n                          handleThreadClick(thread.id);\n                        }\n                      }}\n                      className=\"px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                    >\n                      Reply\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ForumsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}