{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useAuth,useTheme}from'../hooks';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Navigation(_ref){var _user$name;let{currentPage,navigateTo,onAuthClick,user:propUser}=_ref;const{user:contextUser,logout,isAdmin,api}=useAuth();const{theme,toggleTheme}=useTheme();const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[searchQuery,setSearchQuery]=useState('');// LIVE SEARCH DROPDOWN STATE\nconst[searchResults,setSearchResults]=useState([]);const[showDropdown,setShowDropdown]=useState(false);const[isSearching,setIsSearching]=useState(false);const searchRef=useRef(null);const dropdownRef=useRef(null);// Use user from context or prop (for flexibility)\nconst user=contextUser||propUser;// CRITICAL FIX: Ensure all navigation functions work properly\nconst handleNavigationClick=function(page){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};console.log(\"\\uD83E\\uDDED Navigation: Navigating to \".concat(page),params);if(!navigateTo||typeof navigateTo!=='function'){console.error('❌ Navigation: navigateTo function not available');alert('Navigation error: Page navigation is not available. Please refresh and try again.');return;}try{navigateTo(page,params);setIsMobileMenuOpen(false);// Close mobile menu after navigation\n}catch(error){console.error('❌ Navigation: Navigation failed:',error);alert('Navigation failed. Please try again.');}};const toggleMobileMenu=()=>{setIsMobileMenuOpen(!isMobileMenuOpen);};const handleLogout=()=>{console.log('🚪 Navigation: User logging out');try{if(logout&&typeof logout==='function'){logout();setIsMobileMenuOpen(false);// Navigate to home after logout\nhandleNavigationClick('home');}else{console.error('❌ Navigation: Logout function not available');alert('Logout failed. Please refresh the page.');}}catch(error){console.error('❌ Navigation: Logout error:',error);alert('Logout failed. Please try again.');}};// LIVE SEARCH FUNCTIONALITY\nconst performLiveSearch=async query=>{if(!query.trim()||query.length<2){setSearchResults([]);setShowDropdown(false);return;}setIsSearching(true);try{console.log('🔍 Live search for:',query);// Parallel fetch from all backend endpoints for comprehensive search\nconst[teamsRes,playersRes,eventsRes,matchesRes,forumsRes,newsRes]=await Promise.allSettled([api.get('/teams'),api.get('/players'),api.get('/events'),api.get('/matches'),api.get('/forums/threads'),api.get('/news')]);const searchTerm=query.toLowerCase();const results=[];// Process teams\nif(teamsRes.status==='fulfilled'){var _teamsRes$value,_teamsRes$value$data,_teamsRes$value2;const teams=((_teamsRes$value=teamsRes.value)===null||_teamsRes$value===void 0?void 0:(_teamsRes$value$data=_teamsRes$value.data)===null||_teamsRes$value$data===void 0?void 0:_teamsRes$value$data.data)||((_teamsRes$value2=teamsRes.value)===null||_teamsRes$value2===void 0?void 0:_teamsRes$value2.data)||[];teams.filter(team=>{var _team$name,_team$short_name;return((_team$name=team.name)===null||_team$name===void 0?void 0:_team$name.toLowerCase().includes(searchTerm))||((_team$short_name=team.short_name)===null||_team$short_name===void 0?void 0:_team$short_name.toLowerCase().includes(searchTerm));}).slice(0,3).forEach(team=>{results.push({id:team.id,type:'team',title:team.name,subtitle:team.short_name,icon:'👥',data:team});});}// Process players\nif(playersRes.status==='fulfilled'){var _playersRes$value,_playersRes$value$dat,_playersRes$value2;const players=((_playersRes$value=playersRes.value)===null||_playersRes$value===void 0?void 0:(_playersRes$value$dat=_playersRes$value.data)===null||_playersRes$value$dat===void 0?void 0:_playersRes$value$dat.data)||((_playersRes$value2=playersRes.value)===null||_playersRes$value2===void 0?void 0:_playersRes$value2.data)||[];players.filter(player=>{var _player$name,_player$username;return((_player$name=player.name)===null||_player$name===void 0?void 0:_player$name.toLowerCase().includes(searchTerm))||((_player$username=player.username)===null||_player$username===void 0?void 0:_player$username.toLowerCase().includes(searchTerm));}).slice(0,3).forEach(player=>{results.push({id:player.id,type:'player',title:player.name||player.username,subtitle:player.team_name||'Free Agent',icon:'🎮',data:player});});}// Process matches\nif(matchesRes.status==='fulfilled'){var _matchesRes$value,_matchesRes$value$dat,_matchesRes$value2;const matches=((_matchesRes$value=matchesRes.value)===null||_matchesRes$value===void 0?void 0:(_matchesRes$value$dat=_matchesRes$value.data)===null||_matchesRes$value$dat===void 0?void 0:_matchesRes$value$dat.data)||((_matchesRes$value2=matchesRes.value)===null||_matchesRes$value2===void 0?void 0:_matchesRes$value2.data)||[];matches.filter(match=>{var _match$team,_match$team$name,_match$team2,_match$team2$name;return((_match$team=match.team1)===null||_match$team===void 0?void 0:(_match$team$name=_match$team.name)===null||_match$team$name===void 0?void 0:_match$team$name.toLowerCase().includes(searchTerm))||((_match$team2=match.team2)===null||_match$team2===void 0?void 0:(_match$team2$name=_match$team2.name)===null||_match$team2$name===void 0?void 0:_match$team2$name.toLowerCase().includes(searchTerm));}).slice(0,2).forEach(match=>{var _match$team3,_match$team4,_match$event;results.push({id:match.id,type:'match',title:\"\".concat((_match$team3=match.team1)===null||_match$team3===void 0?void 0:_match$team3.name,\" vs \").concat((_match$team4=match.team2)===null||_match$team4===void 0?void 0:_match$team4.name),subtitle:((_match$event=match.event)===null||_match$event===void 0?void 0:_match$event.name)||'Match',icon:'⚔️',data:match});});}// Process events\nif(eventsRes.status==='fulfilled'){var _eventsRes$value,_eventsRes$value$data,_eventsRes$value2;const events=((_eventsRes$value=eventsRes.value)===null||_eventsRes$value===void 0?void 0:(_eventsRes$value$data=_eventsRes$value.data)===null||_eventsRes$value$data===void 0?void 0:_eventsRes$value$data.data)||((_eventsRes$value2=eventsRes.value)===null||_eventsRes$value2===void 0?void 0:_eventsRes$value2.data)||[];events.filter(event=>{var _event$name;return(_event$name=event.name)===null||_event$name===void 0?void 0:_event$name.toLowerCase().includes(searchTerm);}).slice(0,2).forEach(event=>{results.push({id:event.id,type:'event',title:event.name,subtitle:event.location||'Tournament',icon:'🏆',data:event});});}// Process forum threads\nif(forumsRes.status==='fulfilled'){var _forumsRes$value,_forumsRes$value$data,_forumsRes$value2;const threads=((_forumsRes$value=forumsRes.value)===null||_forumsRes$value===void 0?void 0:(_forumsRes$value$data=_forumsRes$value.data)===null||_forumsRes$value$data===void 0?void 0:_forumsRes$value$data.data)||((_forumsRes$value2=forumsRes.value)===null||_forumsRes$value2===void 0?void 0:_forumsRes$value2.data)||[];threads.filter(thread=>{var _thread$title;return(_thread$title=thread.title)===null||_thread$title===void 0?void 0:_thread$title.toLowerCase().includes(searchTerm);}).slice(0,2).forEach(thread=>{results.push({id:thread.id,type:'forum',title:thread.title,subtitle:\"by \".concat(thread.user_name||'Anonymous'),icon:'💬',data:thread});});}setSearchResults(results.slice(0,10));// Limit to 10 total results\nsetShowDropdown(results.length>0);}catch(error){console.error('❌ Live search error:',error);setSearchResults([]);setShowDropdown(false);}finally{setIsSearching(false);}};// Debounced search effect\nuseEffect(()=>{const timer=setTimeout(()=>{if(searchQuery.trim()){performLiveSearch(searchQuery);}},300);return()=>clearTimeout(timer);},[searchQuery]);// Click outside to close dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)&&searchRef.current&&!searchRef.current.contains(event.target)){setShowDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// Handle search result click\nconst handleResultClick=result=>{console.log('🔗 Search result clicked:',result);switch(result.type){case'team':handleNavigationClick('team-detail',{id:result.id});break;case'player':handleNavigationClick('player-detail',{id:result.id});break;case'match':handleNavigationClick('match-detail',{id:result.id});break;case'event':handleNavigationClick('event-detail',{id:result.id});break;case'forum':handleNavigationClick('thread-detail',{id:result.id});break;case'news':handleNavigationClick('news-detail',{id:result.id});break;default:break;}setShowDropdown(false);setSearchQuery('');};const handleAuthClick=()=>{console.log('🔑 Navigation: Auth button clicked');if(onAuthClick&&typeof onAuthClick==='function'){onAuthClick();}else{console.error('❌ Navigation: onAuthClick function not available');alert('Authentication modal is not available. Please refresh the page.');}};const handleThemeToggle=()=>{console.log('🎨 Navigation: Theme toggle clicked');try{if(toggleTheme&&typeof toggleTheme==='function'){toggleTheme();}else{console.error('❌ Navigation: toggleTheme function not available');}}catch(error){console.error('❌ Navigation: Theme toggle error:',error);}};const handleDashboardClick=()=>{console.log('📊 Navigation: Dashboard button clicked, user role check:',{isAdmin:isAdmin()||false,user:(user===null||user===void 0?void 0:user.role)||'none'});try{const dashboardPage=isAdmin()?'admin-dashboard':'user-dashboard';handleNavigationClick(dashboardPage);}catch(error){console.error('❌ Navigation: Dashboard navigation error:',error);alert('Dashboard access failed. Please try again.');}};// FIXED: Remove news from navigation per requirements\nconst navigationItems=[{id:'forums',label:'Forums'},{id:'matches',label:'Matches'},{id:'events',label:'Events'},{id:'rankings',label:'Rankings'}];return/*#__PURE__*/_jsxs(\"nav\",{className:\"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-14\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer group\",onClick:()=>handleNavigationClick('home'),children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform\",children:\"MRVL\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex items-center justify-center flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-8\",children:navigationItems.map(item=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNavigationClick(item.id),className:\"px-3 py-2 text-sm font-medium transition-colors whitespace-nowrap \".concat(currentPage===item.id?'text-red-600 dark:text-red-400 border-b-2 border-red-600 dark:border-red-400':'text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400'),children:item.label},item.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-48\",children:[/*#__PURE__*/_jsx(\"input\",{ref:searchRef,type:\"text\",placeholder:\"Search\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onFocus:()=>searchQuery.trim()&&setShowDropdown(true),onKeyPress:e=>{if(e.key==='Enter'&&searchQuery.trim()){handleNavigationClick('search',{query:searchQuery.trim()});setShowDropdown(false);setSearchQuery('');}},className:\"w-full px-3 py-1.5 pl-8 pr-3 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none\",children:isSearching?/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-gray-400 border-t-red-500 rounded-full animate-spin\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),showDropdown&&searchResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto\",children:[searchResults.map((result,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleResultClick(result),className:\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base\",children:result.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white truncate\",children:result.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 truncate\",children:result.subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 dark:text-gray-500 capitalize\",children:result.type})]},\"\".concat(result.type,\"-\").concat(result.id))),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleNavigationClick('search',{query:searchQuery.trim()});setShowDropdown(false);setSearchQuery('');},className:\"w-full px-3 py-2 text-center text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-t border-gray-200 dark:border-gray-600 font-medium\",children:[\"View all results for \\\"\",searchQuery,\"\\\" \\u2192\"]})]})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleThemeToggle,className:\"p-1.5 rounded text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors h-8 w-8 flex items-center justify-center\",\"aria-label\":\"Toggle theme\",children:theme==='dark'?'☀️':'🌙'}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDashboardClick,className:\"px-2 py-1.5 text-sm font-medium transition-colors whitespace-nowrap \".concat(['user-dashboard','admin-dashboard'].includes(currentPage)?'text-blue-600 dark:text-blue-400':'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400'),children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 bg-red-500 rounded text-white text-xs flex items-center justify-center font-bold\",children:((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||'U'}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-900 dark:text-white\",children:user.name})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors\",\"aria-label\":\"Logout\",children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAuthClick,className:\"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded text-sm transition-colors\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleMobileMenu,className:\"lg:hidden p-1.5 rounded text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors h-8 w-8 flex items-center justify-center\",\"aria-label\":\"Toggle mobile menu\",children:isMobileMenuOpen?'✕':'☰'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden px-4 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onFocus:()=>searchQuery.trim()&&setShowDropdown(true),onKeyPress:e=>{if(e.key==='Enter'&&searchQuery.trim()){handleNavigationClick('search',{query:searchQuery.trim()});setShowDropdown(false);setSearchQuery('');}},className:\"w-full px-3 py-2 pl-8 pr-3 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none\",children:isSearching?/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-gray-400 border-t-red-500 rounded-full animate-spin\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),showDropdown&&searchResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto\",children:[searchResults.map((result,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleResultClick(result),className:\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base\",children:result.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white truncate\",children:result.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 truncate\",children:result.subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 dark:text-gray-500 capitalize\",children:result.type})]},\"mobile-\".concat(result.type,\"-\").concat(result.id))),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleNavigationClick('search',{query:searchQuery.trim()});setShowDropdown(false);setSearchQuery('');},className:\"w-full px-3 py-2 text-center text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-t border-gray-200 dark:border-gray-600 font-medium\",children:[\"View all results for \\\"\",searchQuery,\"\\\" \\u2192\"]})]})]})})]}),isMobileMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 pt-2 pb-4 space-y-1 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600\",children:[navigationItems.map(item=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNavigationClick(item.id),className:\"w-full text-left px-3 py-2 text-sm font-medium transition-colors \".concat(currentPage===item.id?'text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20':'text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700'),children:item.label},item.id)),user&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDashboardClick,className:\"w-full text-left px-3 py-2 text-sm font-medium transition-colors \".concat(['user-dashboard','admin-dashboard'].includes(currentPage)?'text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20':'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-700'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"w-full text-left px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\",children:\"Logout\"})]})}),!user&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleAuthClick,className:\"w-full text-left px-3 py-2 text-sm font-medium bg-red-600 text-white hover:bg-red-700 transition-colors rounded\",children:\"Sign In\"})})]})})]});}export default Navigation;","map":{"version":3,"names":["React","useState","useRef","useEffect","useAuth","useTheme","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navigation","_ref","_user$name","currentPage","navigateTo","onAuthClick","user","propUser","contextUser","logout","isAdmin","api","theme","toggleTheme","isMobileMenuOpen","setIsMobileMenuOpen","searchQuery","setSearchQuery","searchResults","setSearchResults","showDropdown","setShowDropdown","isSearching","setIsSearching","searchRef","dropdownRef","handleNavigationClick","page","params","arguments","length","undefined","console","log","concat","error","alert","toggleMobileMenu","handleLogout","performLiveSearch","query","trim","teamsRes","playersRes","eventsRes","matchesRes","forumsRes","newsRes","Promise","allSettled","get","searchTerm","toLowerCase","results","status","_teamsRes$value","_teamsRes$value$data","_teamsRes$value2","teams","value","data","filter","team","_team$name","_team$short_name","name","includes","short_name","slice","forEach","push","id","type","title","subtitle","icon","_playersRes$value","_playersRes$value$dat","_playersRes$value2","players","player","_player$name","_player$username","username","team_name","_matchesRes$value","_matchesRes$value$dat","_matchesRes$value2","matches","match","_match$team","_match$team$name","_match$team2","_match$team2$name","team1","team2","_match$team3","_match$team4","_match$event","event","_eventsRes$value","_eventsRes$value$data","_eventsRes$value2","events","_event$name","location","_forumsRes$value","_forumsRes$value$data","_forumsRes$value2","threads","thread","_thread$title","user_name","timer","setTimeout","clearTimeout","handleClickOutside","current","contains","target","document","addEventListener","removeEventListener","handleResultClick","result","handleAuthClick","handleThemeToggle","handleDashboardClick","role","dashboardPage","navigationItems","label","className","children","onClick","map","item","ref","placeholder","onChange","e","onFocus","onKeyPress","key","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","index","charAt"],"sources":["/app/frontend/src/components/Navigation.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useAuth, useTheme } from '../hooks';\n\nfunction Navigation({ currentPage, navigateTo, onAuthClick, user: propUser }) {\n  const { user: contextUser, logout, isAdmin, api } = useAuth();\n  const { theme, toggleTheme } = useTheme();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  \n  // LIVE SEARCH DROPDOWN STATE\n  const [searchResults, setSearchResults] = useState([]);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [isSearching, setIsSearching] = useState(false);\n  const searchRef = useRef(null);\n  const dropdownRef = useRef(null);\n\n  // Use user from context or prop (for flexibility)\n  const user = contextUser || propUser;\n\n  // CRITICAL FIX: Ensure all navigation functions work properly\n  const handleNavigationClick = (page, params = {}) => {\n    console.log(`🧭 Navigation: Navigating to ${page}`, params);\n    \n    if (!navigateTo || typeof navigateTo !== 'function') {\n      console.error('❌ Navigation: navigateTo function not available');\n      alert('Navigation error: Page navigation is not available. Please refresh and try again.');\n      return;\n    }\n    \n    try {\n      navigateTo(page, params);\n      setIsMobileMenuOpen(false); // Close mobile menu after navigation\n    } catch (error) {\n      console.error('❌ Navigation: Navigation failed:', error);\n      alert('Navigation failed. Please try again.');\n    }\n  };\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  const handleLogout = () => {\n    console.log('🚪 Navigation: User logging out');\n    try {\n      if (logout && typeof logout === 'function') {\n        logout();\n        setIsMobileMenuOpen(false);\n        // Navigate to home after logout\n        handleNavigationClick('home');\n      } else {\n        console.error('❌ Navigation: Logout function not available');\n        alert('Logout failed. Please refresh the page.');\n      }\n    } catch (error) {\n      console.error('❌ Navigation: Logout error:', error);\n      alert('Logout failed. Please try again.');\n    }\n  };\n\n  // LIVE SEARCH FUNCTIONALITY\n  const performLiveSearch = async (query) => {\n    if (!query.trim() || query.length < 2) {\n      setSearchResults([]);\n      setShowDropdown(false);\n      return;\n    }\n\n    setIsSearching(true);\n    \n    try {\n      console.log('🔍 Live search for:', query);\n      \n      // Parallel fetch from all backend endpoints for comprehensive search\n      const [teamsRes, playersRes, eventsRes, matchesRes, forumsRes, newsRes] = await Promise.allSettled([\n        api.get('/teams'),\n        api.get('/players'), \n        api.get('/events'),\n        api.get('/matches'),\n        api.get('/forums/threads'),\n        api.get('/news')\n      ]);\n      \n      const searchTerm = query.toLowerCase();\n      const results = [];\n      \n      // Process teams\n      if (teamsRes.status === 'fulfilled') {\n        const teams = teamsRes.value?.data?.data || teamsRes.value?.data || [];\n        teams.filter(team => \n          team.name?.toLowerCase().includes(searchTerm) ||\n          team.short_name?.toLowerCase().includes(searchTerm)\n        ).slice(0, 3).forEach(team => {\n          results.push({\n            id: team.id,\n            type: 'team',\n            title: team.name,\n            subtitle: team.short_name,\n            icon: '👥',\n            data: team\n          });\n        });\n      }\n      \n      // Process players\n      if (playersRes.status === 'fulfilled') {\n        const players = playersRes.value?.data?.data || playersRes.value?.data || [];\n        players.filter(player =>\n          player.name?.toLowerCase().includes(searchTerm) ||\n          player.username?.toLowerCase().includes(searchTerm)\n        ).slice(0, 3).forEach(player => {\n          results.push({\n            id: player.id,\n            type: 'player',\n            title: player.name || player.username,\n            subtitle: player.team_name || 'Free Agent',\n            icon: '🎮',\n            data: player\n          });\n        });\n      }\n      \n      // Process matches\n      if (matchesRes.status === 'fulfilled') {\n        const matches = matchesRes.value?.data?.data || matchesRes.value?.data || [];\n        matches.filter(match =>\n          match.team1?.name?.toLowerCase().includes(searchTerm) ||\n          match.team2?.name?.toLowerCase().includes(searchTerm)\n        ).slice(0, 2).forEach(match => {\n          results.push({\n            id: match.id,\n            type: 'match',\n            title: `${match.team1?.name} vs ${match.team2?.name}`,\n            subtitle: match.event?.name || 'Match',\n            icon: '⚔️',\n            data: match\n          });\n        });\n      }\n      \n      // Process events\n      if (eventsRes.status === 'fulfilled') {\n        const events = eventsRes.value?.data?.data || eventsRes.value?.data || [];\n        events.filter(event =>\n          event.name?.toLowerCase().includes(searchTerm)\n        ).slice(0, 2).forEach(event => {\n          results.push({\n            id: event.id,\n            type: 'event',\n            title: event.name,\n            subtitle: event.location || 'Tournament',\n            icon: '🏆',\n            data: event\n          });\n        });\n      }\n      \n      // Process forum threads\n      if (forumsRes.status === 'fulfilled') {\n        const threads = forumsRes.value?.data?.data || forumsRes.value?.data || [];\n        threads.filter(thread =>\n          thread.title?.toLowerCase().includes(searchTerm)\n        ).slice(0, 2).forEach(thread => {\n          results.push({\n            id: thread.id,\n            type: 'forum',\n            title: thread.title,\n            subtitle: `by ${thread.user_name || 'Anonymous'}`,\n            icon: '💬',\n            data: thread\n          });\n        });\n      }\n      \n      setSearchResults(results.slice(0, 10)); // Limit to 10 total results\n      setShowDropdown(results.length > 0);\n      \n    } catch (error) {\n      console.error('❌ Live search error:', error);\n      setSearchResults([]);\n      setShowDropdown(false);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Debounced search effect\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (searchQuery.trim()) {\n        performLiveSearch(searchQuery);\n      }\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  // Click outside to close dropdown\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target) &&\n          searchRef.current && !searchRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Handle search result click\n  const handleResultClick = (result) => {\n    console.log('🔗 Search result clicked:', result);\n    \n    switch (result.type) {\n      case 'team':\n        handleNavigationClick('team-detail', { id: result.id });\n        break;\n      case 'player':\n        handleNavigationClick('player-detail', { id: result.id });\n        break;\n      case 'match':\n        handleNavigationClick('match-detail', { id: result.id });\n        break;\n      case 'event':\n        handleNavigationClick('event-detail', { id: result.id });\n        break;\n      case 'forum':\n        handleNavigationClick('thread-detail', { id: result.id });\n        break;\n      case 'news':\n        handleNavigationClick('news-detail', { id: result.id });\n        break;\n      default:\n        break;\n    }\n    \n    setShowDropdown(false);\n    setSearchQuery('');\n  };\n\n  const handleAuthClick = () => {\n    console.log('🔑 Navigation: Auth button clicked');\n    if (onAuthClick && typeof onAuthClick === 'function') {\n      onAuthClick();\n    } else {\n      console.error('❌ Navigation: onAuthClick function not available');\n      alert('Authentication modal is not available. Please refresh the page.');\n    }\n  };\n\n  const handleThemeToggle = () => {\n    console.log('🎨 Navigation: Theme toggle clicked');\n    try {\n      if (toggleTheme && typeof toggleTheme === 'function') {\n        toggleTheme();\n      } else {\n        console.error('❌ Navigation: toggleTheme function not available');\n      }\n    } catch (error) {\n      console.error('❌ Navigation: Theme toggle error:', error);\n    }\n  };\n\n  const handleDashboardClick = () => {\n    console.log('📊 Navigation: Dashboard button clicked, user role check:', { \n      isAdmin: isAdmin() || false, \n      user: user?.role || 'none' \n    });\n    \n    try {\n      const dashboardPage = isAdmin() ? 'admin-dashboard' : 'user-dashboard';\n      handleNavigationClick(dashboardPage);\n    } catch (error) {\n      console.error('❌ Navigation: Dashboard navigation error:', error);\n      alert('Dashboard access failed. Please try again.');\n    }\n  };\n\n  // FIXED: Remove news from navigation per requirements\n  const navigationItems = [\n    { id: 'forums', label: 'Forums' },\n    { id: 'matches', label: 'Matches' },\n    { id: 'events', label: 'Events' },\n    { id: 'rankings', label: 'Rankings' }\n  ];\n\n  return (\n    <nav className=\"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-14\">\n          {/* Logo Section - Far Left */}\n          <div className=\"flex-shrink-0\">\n            <div \n              className=\"cursor-pointer group\"\n              onClick={() => handleNavigationClick('home')}\n            >\n              <div className=\"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform\">\n                MRVL\n              </div>\n            </div>\n          </div>\n\n          {/* Centered Navigation - VLR.gg style */}\n          <div className=\"hidden lg:flex items-center justify-center flex-1\">\n            <div className=\"flex items-center space-x-8\">\n              {navigationItems.map(item => (\n                <button\n                  key={item.id}\n                  onClick={() => handleNavigationClick(item.id)}\n                  className={`px-3 py-2 text-sm font-medium transition-colors whitespace-nowrap ${\n                    currentPage === item.id\n                      ? 'text-red-600 dark:text-red-400 border-b-2 border-red-600 dark:border-red-400'\n                      : 'text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400'\n                  }`}\n                >\n                  {item.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Right Side Actions */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Search Bar - VLR.gg style with Live Dropdown */}\n            <div className=\"hidden md:flex items-center\">\n              <div className=\"relative w-48\">\n                <input\n                  ref={searchRef}\n                  type=\"text\"\n                  placeholder=\"Search\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  onFocus={() => searchQuery.trim() && setShowDropdown(true)}\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter' && searchQuery.trim()) {\n                      handleNavigationClick('search', { query: searchQuery.trim() });\n                      setShowDropdown(false);\n                      setSearchQuery('');\n                    }\n                  }}\n                  className=\"w-full px-3 py-1.5 pl-8 pr-3 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500\"\n                />\n                <div className=\"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none\">\n                  {isSearching ? (\n                    <div className=\"w-4 h-4 border-2 border-gray-400 border-t-red-500 rounded-full animate-spin\"></div>\n                  ) : (\n                    <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                    </svg>\n                  )}\n                </div>\n                \n                {/* Live Search Dropdown */}\n                {showDropdown && searchResults.length > 0 && (\n                  <div \n                    ref={dropdownRef}\n                    className=\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto\"\n                  >\n                    {searchResults.map((result, index) => (\n                      <button\n                        key={`${result.type}-${result.id}`}\n                        onClick={() => handleResultClick(result)}\n                        className=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0\"\n                      >\n                        <span className=\"text-base\">{result.icon}</span>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n                            {result.title}\n                          </div>\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\n                            {result.subtitle}\n                          </div>\n                        </div>\n                        <div className=\"text-xs text-gray-400 dark:text-gray-500 capitalize\">\n                          {result.type}\n                        </div>\n                      </button>\n                    ))}\n                    \n                    {/* Show All Results Link */}\n                    <button\n                      onClick={() => {\n                        handleNavigationClick('search', { query: searchQuery.trim() });\n                        setShowDropdown(false);\n                        setSearchQuery('');\n                      }}\n                      className=\"w-full px-3 py-2 text-center text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-t border-gray-200 dark:border-gray-600 font-medium\"\n                    >\n                      View all results for \"{searchQuery}\" →\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Theme Toggle */}\n            <button\n              onClick={handleThemeToggle}\n              className=\"p-1.5 rounded text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors h-8 w-8 flex items-center justify-center\"\n              aria-label=\"Toggle theme\"\n            >\n              {theme === 'dark' ? '☀️' : '🌙'}\n            </button>\n\n            {/* User Section */}\n            {user ? (\n              <div className=\"flex items-center space-x-2\">\n                {/* Dashboard Link */}\n                <button\n                  onClick={handleDashboardClick}\n                  className={`px-2 py-1.5 text-sm font-medium transition-colors whitespace-nowrap ${\n                    ['user-dashboard', 'admin-dashboard'].includes(currentPage)\n                      ? 'text-blue-600 dark:text-blue-400'\n                      : 'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400'\n                  }`}\n                >\n                  Dashboard\n                </button>\n\n                {/* User Profile - Compact */}\n                <div className=\"flex items-center space-x-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm\">\n                  <div className=\"w-5 h-5 bg-red-500 rounded text-white text-xs flex items-center justify-center font-bold\">\n                    {user.name?.charAt(0) || 'U'}\n                  </div>\n                  <div className=\"hidden sm:block\">\n                    <div className=\"text-xs font-medium text-gray-900 dark:text-white\">\n                      {user.name}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Logout */}\n                <button\n                  onClick={handleLogout}\n                  className=\"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n                  aria-label=\"Logout\"\n                >\n                  Logout\n                </button>\n              </div>\n            ) : (\n              <button\n                onClick={handleAuthClick}\n                className=\"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded text-sm transition-colors\"\n              >\n                Sign In\n              </button>\n            )}\n\n            {/* Mobile menu button */}\n            <button\n              onClick={toggleMobileMenu}\n              className=\"lg:hidden p-1.5 rounded text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors h-8 w-8 flex items-center justify-center\"\n              aria-label=\"Toggle mobile menu\"\n            >\n              {isMobileMenuOpen ? '✕' : '☰'}\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Search Bar with Live Dropdown */}\n        <div className=\"md:hidden px-4 pb-3\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              placeholder=\"Search\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              onFocus={() => searchQuery.trim() && setShowDropdown(true)}\n              onKeyPress={(e) => {\n                if (e.key === 'Enter' && searchQuery.trim()) {\n                  handleNavigationClick('search', { query: searchQuery.trim() });\n                  setShowDropdown(false);\n                  setSearchQuery('');\n                }\n              }}\n              className=\"w-full px-3 py-2 pl-8 pr-3 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500\"\n            />\n            <div className=\"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none\">\n              {isSearching ? (\n                <div className=\"w-4 h-4 border-2 border-gray-400 border-t-red-500 rounded-full animate-spin\"></div>\n              ) : (\n                <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              )}\n            </div>\n            \n            {/* Mobile Live Search Dropdown */}\n            {showDropdown && searchResults.length > 0 && (\n              <div className=\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto\">\n                {searchResults.map((result, index) => (\n                  <button\n                    key={`mobile-${result.type}-${result.id}`}\n                    onClick={() => handleResultClick(result)}\n                    className=\"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0\"\n                  >\n                    <span className=\"text-base\">{result.icon}</span>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n                        {result.title}\n                      </div>\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\n                        {result.subtitle}\n                      </div>\n                    </div>\n                    <div className=\"text-xs text-gray-400 dark:text-gray-500 capitalize\">\n                      {result.type}\n                    </div>\n                  </button>\n                ))}\n                \n                {/* Show All Results Link */}\n                <button\n                  onClick={() => {\n                    handleNavigationClick('search', { query: searchQuery.trim() });\n                    setShowDropdown(false);\n                    setSearchQuery('');\n                  }}\n                  className=\"w-full px-3 py-2 text-center text-sm text-red-600 dark:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-t border-gray-200 dark:border-gray-600 font-medium\"\n                >\n                  View all results for \"{searchQuery}\" →\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Navigation Menu - FIXED: All buttons work properly */}\n      {isMobileMenuOpen && (\n        <div className=\"lg:hidden\">\n          <div className=\"px-4 pt-2 pb-4 space-y-1 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600\">\n            {navigationItems.map(item => (\n              <button\n                key={item.id}\n                onClick={() => handleNavigationClick(item.id)}\n                className={`w-full text-left px-3 py-2 text-sm font-medium transition-colors ${\n                  currentPage === item.id\n                    ? 'text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20'\n                    : 'text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700'\n                }`}\n              >\n                {item.label}\n              </button>\n            ))}\n            \n            {user && (\n              <>\n                <div className=\"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2\">\n                  <button\n                    onClick={handleDashboardClick}\n                    className={`w-full text-left px-3 py-2 text-sm font-medium transition-colors ${\n                      ['user-dashboard', 'admin-dashboard'].includes(currentPage)\n                        ? 'text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20'\n                        : 'text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    }`}\n                  >\n                    Dashboard\n                  </button>\n                  <button\n                    onClick={handleLogout}\n                    className=\"w-full text-left px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\n                  >\n                    Logout\n                  </button>\n                </div>\n              </>\n            )}\n            \n            {!user && (\n              <div className=\"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2\">\n                <button\n                  onClick={handleAuthClick}\n                  className=\"w-full text-left px-3 py-2 text-sm font-medium bg-red-600 text-white hover:bg-red-700 transition-colors rounded\"\n                >\n                  Sign In\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n}\n\nexport default Navigation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}