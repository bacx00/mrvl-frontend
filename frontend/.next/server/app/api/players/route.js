(()=>{var e={};e.id=664,e.ids=[664],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3966:(e,a,t)=>{"use strict";t.r(a),t.d(a,{patchFetch:()=>v,routeModule:()=>h,serverHooks:()=>k,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>f});var r={};t.r(r),t.d(r,{GET:()=>g,POST:()=>p});var n=t(6559),s=t(8088),o=t(7719),i=t(2190);!function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}();let l=Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).object({page:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):1),limit:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):20),role:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["dps","tank","support","flex","igl","all"]).optional().default("all"),team:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional(),region:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["americas","emea","apac","global","all"]).optional().default("all"),search:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional(),sortBy:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["ranking","winrate","kd","damage","name"]).optional().default("ranking"),sortOrder:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["asc","desc"]).optional().default("asc"),minRank:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):1),maxRank:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):100)}),c=[{id:"101",name:"TenZ",fullName:"Tyson Ngo",team:{id:"1",name:"Sentinels",shortName:"SEN",logo:"/teams/sentinels-logo.png",region:"americas"},role:"dps",country:"Canada",region:"americas",age:23,avatar:"/players/tenz.png",heroPool:["Iron Man","Spider-Man","Black Panther"],primaryHero:"Iron Man",stats:{matches:32,winRate:81.2,averageDamage:184,eliminations:22.7,deaths:12.6,kd:1.8,assists:6.8,firstElimRate:28.4,clutchSuccess:67.5,ultimateSuccess:89.3},ranking:1,previousRank:1,rankChange:0,peakRank:1,achievements:["Champions 2025 MVP","Most eliminations record (42)","Highest damage average"],social:{twitter:"https://twitter.com/TenZOfficial",twitch:"https://twitch.tv/TenZ",instagram:"https://instagram.com/TenZOfficial"},contract:{salary:"undisclosed",expires:"2026-12-31",buyout:"undisclosed"},marketValue:"high",status:"active",lastPlayed:new Date(Date.now()-1728e5).toISOString()},{id:"102",name:"ShahZaM",fullName:"Shahzeb Khan",team:{id:"1",name:"Sentinels",shortName:"SEN",logo:"/teams/sentinels-logo.png",region:"americas"},role:"igl",country:"United States",region:"americas",age:28,avatar:"/players/shahzam.png",heroPool:["Doctor Strange","Storm","Luna Snow"],primaryHero:"Doctor Strange",stats:{matches:32,winRate:81.2,averageDamage:142,eliminations:16.3,deaths:11.2,kd:1.45,assists:12.1,firstElimRate:18.6,clutchSuccess:54.2,ultimateSuccess:76.8},ranking:12,previousRank:15,rankChange:3,peakRank:8,achievements:["Best IGL Americas 2025","Tactical Innovation Award","Leadership Excellence"],social:{twitter:"https://twitter.com/ShahZaMk",twitch:"https://twitch.tv/ShahZaM",instagram:"https://instagram.com/ShahZaMk"},contract:{salary:"undisclosed",expires:"2025-11-30",buyout:"undisclosed"},marketValue:"medium",status:"active",lastPlayed:new Date(Date.now()-1728e5).toISOString()},{id:"201",name:"Boaster",fullName:"Jake Howlett",team:{id:"2",name:"FNATIC",shortName:"FNC",logo:"/teams/fnatic-logo.png",region:"emea"},role:"igl",country:"United Kingdom",region:"emea",age:25,avatar:"/players/boaster.png",heroPool:["Doctor Strange","Luna Snow","Storm"],primaryHero:"Doctor Strange",stats:{matches:34,winRate:79.4,averageDamage:126,eliminations:14.2,deaths:10.9,kd:1.3,assists:12.6,firstElimRate:12.8,clutchSuccess:48.9,ultimateSuccess:82.1},ranking:8,previousRank:9,rankChange:1,peakRank:5,achievements:["EMEA Champions 2025","Most assists tournament record","Tactical Mastermind Award"],social:{twitter:"https://twitter.com/boaster",twitch:"https://twitch.tv/boaster",instagram:"https://instagram.com/boastergg"},contract:{salary:"undisclosed",expires:"2026-06-30",buyout:"undisclosed"},marketValue:"high",status:"active",lastPlayed:new Date(Date.now()-864e5).toISOString()},{id:"301",name:"Meteor",fullName:"Park Min-Seok",team:{id:"3",name:"Gen.G",shortName:"GEN",logo:"/teams/geng-logo.png",region:"apac"},role:"dps",country:"South Korea",region:"apac",age:22,avatar:"/players/meteor.png",heroPool:["Iron Man","Luna Snow","Captain America"],primaryHero:"Iron Man",stats:{matches:29,winRate:79.3,averageDamage:176,eliminations:21.3,deaths:12.5,kd:1.7,assists:5.9,firstElimRate:26.1,clutchSuccess:71.2,ultimateSuccess:85.7},ranking:3,previousRank:4,rankChange:1,peakRank:2,achievements:["APAC MVP 2025","Rising Star Award","Mechanical Excellence"],social:{twitter:"https://twitter.com/Meteor_GG",twitch:"https://twitch.tv/MeteorGG",instagram:"https://instagram.com/meteor_official"},contract:{salary:"undisclosed",expires:"2027-01-31",buyout:"undisclosed"},marketValue:"very-high",status:"active",lastPlayed:new Date(Date.now()-432e5).toISOString()},{id:"401",name:"leaf",fullName:"Nathan Orf",team:{id:"4",name:"Cloud9",shortName:"C9",logo:"/teams/cloud9-logo.png",region:"americas"},role:"dps",country:"United States",region:"americas",age:20,avatar:"/players/leaf.png",heroPool:["Black Panther","Spider-Man","Captain America"],primaryHero:"Black Panther",stats:{matches:31,winRate:70.9,averageDamage:168,eliminations:19.8,deaths:13.2,kd:1.5,assists:5.2,firstElimRate:24.8,clutchSuccess:58.3,ultimateSuccess:79.6},ranking:5,previousRank:6,rankChange:1,peakRank:3,achievements:["Rookie of the Year 2024","Breakout Player Award","Consistency Excellence"],social:{twitter:"https://twitter.com/leaf_fps",twitch:"https://twitch.tv/leaf",instagram:"https://instagram.com/leaf_fps"},contract:{salary:"undisclosed",expires:"2026-03-31",buyout:"undisclosed"},marketValue:"high",status:"active",lastPlayed:new Date(Date.now()-648e5).toISOString()}],m=[],d=0,u=new Map;async function g(e){try{var a,t,r;let n;let s=e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"unknown";if(!function(e){let a=Date.now(),t=u.get(e);return!t||a>t.resetTime?(u.set(e,{count:1,resetTime:a+6e4}),!0):!(t.count>=100)&&(t.count++,!0)}(s))return i.NextResponse.json({error:"Rate limit exceeded. Please try again later."},{status:429});let{searchParams:o}=new URL(e.url),g=Object.fromEntries(o.entries());try{n=l.parse(g)}catch(e){if(e instanceof Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).ZodError)return i.NextResponse.json({error:"Invalid query parameters",details:e.errors},{status:400})}let p=Date.now();m.length>0&&p-d<3e5?console.log("[CACHE] Serving players from cache"):(m=[...c],d=p,console.log("[CACHE] Refreshed players cache"));let h=function(e,a){let t=[...e];if("all"!==a.role&&(t=t.filter(e=>e.role===a.role)),"all"!==a.region&&(t=t.filter(e=>e.region===a.region)),a.team){let e=a.team.toLowerCase();t=t.filter(t=>t.team.id===a.team||t.team.name.toLowerCase().includes(e)||t.team.shortName.toLowerCase().includes(e))}return t=t.filter(e=>e.ranking>=a.minRank&&e.ranking<=a.maxRank),a.search&&(t=function(e,a){let t=a.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(t)||e.fullName.toLowerCase().includes(t)||e.team.name.toLowerCase().includes(t)||e.country.toLowerCase().includes(t)||e.heroPool.some(e=>e.toLowerCase().includes(t)))}(t,a.search)),t}(m,n);a=h,t=n.sortBy,r=n.sortOrder,h=a.sort((e,a)=>{let n,s;switch(t){case"ranking":default:n=e.ranking,s=a.ranking;break;case"winrate":n=e.stats.winRate,s=a.stats.winRate;break;case"kd":n=e.stats.kd,s=a.stats.kd;break;case"damage":n=e.stats.averageDamage,s=a.stats.averageDamage;break;case"name":n=e.name.toLowerCase(),s=a.name.toLowerCase()}return"desc"===r?n>s?-1:+(n<s):n<s?-1:+(n>s)});let w=function(e,a,t){let r=(a-1)*t,n=r+t;return{players:e.slice(r,n),pagination:{currentPage:a,totalPages:Math.ceil(e.length/t),totalPlayers:e.length,hasNextPage:n<e.length,hasPreviousPage:a>1,limit:t}}}(h,n.page,n.limit),f=function(){let e=c.reduce((e,a)=>({winRate:e.winRate+a.stats.winRate,kd:e.kd+a.stats.kd,damage:e.damage+a.stats.averageDamage}),{winRate:0,kd:0,damage:0}),a=c.length;return{totalPlayers:a,averageStats:{winRate:Math.round(e.winRate/a*100)/100,kd:Math.round(e.kd/a*100)/100,damage:Math.round(e.damage/a)},regionDistribution:c.reduce((e,a)=>(e[a.region]=(e[a.region]||0)+1,e),{}),roleDistribution:c.reduce((e,a)=>(e[a.role]=(e[a.role]||0)+1,e),{}),topPerformers:{highestKD:c.sort((e,a)=>a.stats.kd-e.stats.kd)[0],highestWinRate:c.sort((e,a)=>a.stats.winRate-e.stats.winRate)[0],highestDamage:c.sort((e,a)=>a.stats.averageDamage-e.stats.averageDamage)[0]}}}(),k=e.headers.get("user-agent")||"",v=/Mobile|Android|iPhone|iPad/.test(k);return v&&(w.players=w.players.map(e=>({id:e.id,name:e.name,team:{name:e.team.shortName||e.team.name,logo:e.team.logo},role:e.role,country:e.country,avatar:e.avatar,primaryHero:e.primaryHero,stats:{winRate:e.stats.winRate,kd:e.stats.kd,averageDamage:e.stats.averageDamage},ranking:e.ranking,rankChange:e.rankChange}))),i.NextResponse.json({success:!0,data:w.players,pagination:w.pagination,filters:{applied:n,available:{role:["dps","tank","support","flex","igl"],region:["americas","emea","apac","global"],sortBy:["ranking","winrate","kd","damage","name"],sortOrder:["asc","desc"]}},stats:f,meta:{timestamp:new Date().toISOString(),cached:p-d<3e5,mobile:v}})}catch(e){return console.error("Players API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e){try{let{playerIds:a}=await e.json();if(!a||!Array.isArray(a)||a.length<2)return i.NextResponse.json({error:"At least 2 player IDs required for comparison"},{status:400});if(a.length>5)return i.NextResponse.json({error:"Maximum 5 players can be compared at once"},{status:400});let t=a.map(e=>c.find(a=>a.id===e)).filter(Boolean);if(t.length!==a.length)return i.NextResponse.json({error:"One or more players not found"},{status:404});let r={players:t,headToHead:{winRate:{highest:t.sort((e,a)=>a.stats.winRate-e.stats.winRate)[0],lowest:t.sort((e,a)=>e.stats.winRate-a.stats.winRate)[0]},kd:{highest:t.sort((e,a)=>a.stats.kd-e.stats.kd)[0],lowest:t.sort((e,a)=>e.stats.kd-a.stats.kd)[0]},damage:{highest:t.sort((e,a)=>a.stats.averageDamage-e.stats.averageDamage)[0],lowest:t.sort((e,a)=>e.stats.averageDamage-a.stats.averageDamage)[0]}},commonStats:["winRate","kd","averageDamage","eliminations","assists"],analysis:`Comparing ${t.length} players across key performance metrics`};return console.log(`[COMPARISON] Generated comparison for players: ${a.join(", ")}`),i.NextResponse.json({success:!0,comparison:r,meta:{timestamp:new Date().toISOString(),playersCompared:t.length}})}catch(e){return console.error("Player comparison error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/players/route",pathname:"/api/players",filename:"route",bundlePath:"app/api/players/route"},resolvedPagePath:"/var/www/mrvl-frontend/frontend/src/app/api/players/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:w,workUnitAsyncStorage:f,serverHooks:k}=h;function v(){return(0,o.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:f})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[447,580],()=>t(3966));module.exports=r})();