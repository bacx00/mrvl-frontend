(()=>{var e={};e.id=52,e.ids=[52],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1712:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>k,routeModule:()=>h,serverHooks:()=>v,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>w});var n={};a.r(n),a.d(n,{GET:()=>d,POST:()=>m});var o=a(6559),r=a(8088),s=a(7719),i=a(2190);!function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}();let c=Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).object({page:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):1),limit:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):20),region:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["americas","emea","apac","global","all"]).optional().default("all"),search:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional(),sortBy:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["ranking","name","winrate","points"]).optional().default("ranking"),sortOrder:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["asc","desc"]).optional().default("asc"),minRank:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):1),maxRank:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):100),includeStats:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>"true"===e)}),l=[{id:"1",name:"Sentinels",shortName:"SEN",tag:"SEN",logo:"/teams/sentinels-logo.png",bannerImage:"/teams/sentinels-banner.jpg",country:"United States",region:"americas",city:"Los Angeles",founded:"2018-04-01",ranking:1,previousRank:1,rankChange:0,peakRank:1,rankingPoints:1250,verified:!0,status:"active",organization:{name:"Sentinels",website:"https://sentinels.gg",ceo:"Rob Moore",headquarters:"Los Angeles, CA"},socials:{twitter:"https://twitter.com/Sentinels",website:"https://sentinels.gg",discord:"https://discord.gg/sentinels",youtube:"https://youtube.com/sentinels",instagram:"https://instagram.com/sentinels"},roster:[{id:"101",name:"TenZ",role:"dps",country:"Canada",joinDate:"2023-12-15",captain:!1,substitute:!1},{id:"102",name:"ShahZaM",role:"igl",country:"United States",joinDate:"2023-12-15",captain:!0,substitute:!1},{id:"103",name:"SicK",role:"flex",country:"United States",joinDate:"2023-12-15",captain:!1,substitute:!1},{id:"104",name:"dapr",role:"support",country:"United States",joinDate:"2023-12-15",captain:!1,substitute:!1},{id:"105",name:"zombs",role:"support",country:"United States",joinDate:"2023-12-15",captain:!1,substitute:!1}],coaching:{headCoach:"rawkus",assistantCoach:"kaplan",analyst:"tenz_coach"},stats:{matchesPlayed:32,matchesWon:26,matchesLost:6,winRate:81.25,mapWinRate:78.4,averageRating:1.23,averageMapScore:{won:13,lost:9},currentStreak:{type:"win",count:5},bestMap:"Asgard",worstMap:"Sakaar"},achievements:[{title:"Champions Tour 2025: Americas",placement:"1st",date:"2025-05-10",prize:1e5},{title:"Marvel Rivals Championship Spring",placement:"2nd",date:"2025-04-15",prize:75e3},{title:"MRVL Invitational 2025",placement:"1st",date:"2025-03-01",prize:5e4}],sponsors:[{name:"Red Bull",logo:"/sponsors/redbull-logo.png",tier:"title"},{name:"Logitech",logo:"/sponsors/logitech-logo.png",tier:"official"}],fanStats:{followers:1234567,engagement:8.5,merchandise:"available"},marketValue:"very-high",lastActivity:new Date(Date.now()-1728e5).toISOString(),nextMatch:{opponent:"FNATIC",date:"2025-05-25T18:00:00.000Z",event:"Marvel Rivals Championship"}},{id:"2",name:"FNATIC",shortName:"FNC",tag:"FNC",logo:"/teams/fnatic-logo.png",bannerImage:"/teams/fnatic-banner.jpg",country:"United Kingdom",region:"emea",city:"London",founded:"2004-07-23",ranking:2,previousRank:3,rankChange:1,peakRank:1,rankingPoints:1205,verified:!0,status:"active",organization:{name:"Fnatic",website:"https://fnatic.com",ceo:"Sam Mathews",headquarters:"London, UK"},socials:{twitter:"https://twitter.com/FNATIC",website:"https://fnatic.com",discord:"https://discord.gg/fnatic",youtube:"https://youtube.com/fnatic",instagram:"https://instagram.com/fnatic"},roster:[{id:"201",name:"Boaster",role:"igl",country:"United Kingdom",joinDate:"2023-11-20",captain:!0,substitute:!1},{id:"202",name:"Derke",role:"dps",country:"Finland",joinDate:"2023-11-20",captain:!1,substitute:!1},{id:"203",name:"Alfajer",role:"dps",country:"Turkey",joinDate:"2023-11-20",captain:!1,substitute:!1},{id:"204",name:"Chronicle",role:"flex",country:"Russia",joinDate:"2023-11-20",captain:!1,substitute:!1},{id:"205",name:"Leo",role:"support",country:"Sweden",joinDate:"2023-11-20",captain:!1,substitute:!1}],coaching:{headCoach:"mini",assistantCoach:"elmapuddy",analyst:"fnatic_analyst"},stats:{matchesPlayed:34,matchesWon:27,matchesLost:7,winRate:79.41,mapWinRate:76.5,averageRating:1.18,averageMapScore:{won:13,lost:8},currentStreak:{type:"win",count:3},bestMap:"Wakanda",worstMap:"New York"},achievements:[{title:"Champions Tour 2025: EMEA",placement:"1st",date:"2025-05-18",prize:8e4},{title:"Marvel Rivals Championship Spring",placement:"4th",date:"2025-04-15",prize:4e4},{title:"MRVL EMEA Masters",placement:"1st",date:"2025-03-20",prize:6e4}],sponsors:[{name:"BMW",logo:"/sponsors/bmw-logo.png",tier:"title"},{name:"Monster Energy",logo:"/sponsors/monster-logo.png",tier:"official"}],fanStats:{followers:987654,engagement:7.8,merchandise:"available"},marketValue:"high",lastActivity:new Date(Date.now()-864e5).toISOString(),nextMatch:{opponent:"Sentinels",date:"2025-05-25T18:00:00.000Z",event:"Marvel Rivals Championship"}},{id:"3",name:"Gen.G",shortName:"GEN",tag:"GEN",logo:"/teams/geng-logo.png",bannerImage:"/teams/geng-banner.jpg",country:"South Korea",region:"apac",city:"Seoul",founded:"2017-05-01",ranking:3,previousRank:4,rankChange:1,peakRank:2,rankingPoints:1180,verified:!0,status:"active",organization:{name:"Gen.G Esports",website:"https://geng.gg",ceo:"Chris Park",headquarters:"Seoul, South Korea"},socials:{twitter:"https://twitter.com/GenG",website:"https://geng.gg",discord:"https://discord.gg/geng",youtube:"https://youtube.com/geng",instagram:"https://instagram.com/geng"},roster:[{id:"301",name:"Meteor",role:"dps",country:"South Korea",joinDate:"2024-01-10",captain:!1,substitute:!1},{id:"302",name:"Algo",role:"flex",country:"South Korea",joinDate:"2024-01-10",captain:!0,substitute:!1},{id:"303",name:"Secret",role:"support",country:"South Korea",joinDate:"2024-01-10",captain:!1,substitute:!1},{id:"304",name:"Munchkin",role:"dps",country:"South Korea",joinDate:"2024-01-10",captain:!1,substitute:!1},{id:"305",name:"eKo",role:"support",country:"South Korea",joinDate:"2024-01-10",captain:!1,substitute:!1}],coaching:{headCoach:"geng_coach",assistantCoach:"geng_assistant",analyst:"geng_analyst"},stats:{matchesPlayed:29,matchesWon:23,matchesLost:6,winRate:79.31,mapWinRate:75.8,averageRating:1.15,averageMapScore:{won:13,lost:10},currentStreak:{type:"win",count:4},bestMap:"Tokyo",worstMap:"Asgard"},achievements:[{title:"Champions Tour 2025: APAC",placement:"1st",date:"2025-05-20",prize:75e3},{title:"Marvel Rivals Championship Spring",placement:"3rd",date:"2025-04-15",prize:5e4},{title:"MRVL APAC Open",placement:"1st",date:"2025-02-28",prize:35e3}],sponsors:[{name:"Samsung",logo:"/sponsors/samsung-logo.png",tier:"title"},{name:"ASUS",logo:"/sponsors/asus-logo.png",tier:"official"}],fanStats:{followers:756432,engagement:9.2,merchandise:"available"},marketValue:"high",lastActivity:new Date(Date.now()-432e5).toISOString(),nextMatch:{opponent:"DRX",date:"2025-05-30T16:00:00.000Z",event:"Champions Tour 2025: APAC Finals"}}],g=[],u=0,p=new Map;async function d(e){try{var t,a,n,o,r;let s,d;let m=e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"unknown";if(!function(e){let t=Date.now(),a=p.get(e);return!a||t>a.resetTime?(p.set(e,{count:1,resetTime:t+6e4}),!0):!(a.count>=80)&&(a.count++,!0)}(m))return i.NextResponse.json({error:"Rate limit exceeded. Please try again later."},{status:429});let{searchParams:h}=new URL(e.url),f=Object.fromEntries(h.entries());try{s=c.parse(f)}catch(e){if(e instanceof Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).ZodError)return i.NextResponse.json({error:"Invalid query parameters",details:e.errors},{status:400})}let w=Date.now();g.length>0&&w-u<3e5?console.log("[CACHE] Serving teams from cache"):(g=[...l],u=w,console.log("[CACHE] Refreshed teams cache"));let v=(t=g,a=s,d=[...t],"all"!==a.region&&(d=d.filter(e=>e.region===a.region)),d=d.filter(e=>e.ranking>=a.minRank&&e.ranking<=a.maxRank),a.search&&(d=function(e,t){let a=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(a)||e.shortName.toLowerCase().includes(a)||e.tag.toLowerCase().includes(a)||e.country.toLowerCase().includes(a)||e.city.toLowerCase().includes(a)||e.roster.some(e=>e.name.toLowerCase().includes(a)))}(d,a.search)),d);n=v,o=s.sortBy,r=s.sortOrder,v=n.sort((e,t)=>{let a,n;switch(o){case"ranking":default:a=e.ranking,n=t.ranking;break;case"name":a=e.name.toLowerCase(),n=t.name.toLowerCase();break;case"winrate":a=e.stats.winRate,n=t.stats.winRate;break;case"points":a=e.rankingPoints,n=t.rankingPoints}return"desc"===r?a>n?-1:+(a<n):a<n?-1:+(a>n)});let k=function(e,t,a){let n=(t-1)*a,o=n+a;return{teams:e.slice(n,o),pagination:{currentPage:t,totalPages:Math.ceil(e.length/a),totalTeams:e.length,hasNextPage:o<e.length,hasPreviousPage:t>1,limit:a}}}(v,s.page,s.limit),y=function(){let e=l.length,t=l.reduce((e,t)=>({winRate:e.winRate+t.stats.winRate,ranking:e.ranking+t.ranking,points:e.points+t.rankingPoints}),{winRate:0,ranking:0,points:0});return{totalTeams:e,averageStats:{winRate:Math.round(t.winRate/e*100)/100,ranking:Math.round(t.ranking/e),points:Math.round(t.points/e)},regionDistribution:l.reduce((e,t)=>(e[t.region]=(e[t.region]||0)+1,e),{}),topPerformers:{highestWinRate:l.sort((e,t)=>t.stats.winRate-e.stats.winRate)[0],mostMatches:l.sort((e,t)=>t.stats.matchesPlayed-e.stats.matchesPlayed)[0],highestRated:l.sort((e,t)=>t.stats.averageRating-e.stats.averageRating)[0]},recentActivity:l.sort((e,t)=>new Date(t.lastActivity).getTime()-new Date(e.lastActivity).getTime()).slice(0,5)}}(),b=e.headers.get("user-agent")||"",R=/Mobile|Android|iPhone|iPad/.test(b);return R&&!s.includeStats&&(k.teams=k.teams.map(e=>({id:e.id,name:e.name,shortName:e.shortName,tag:e.tag,logo:e.logo,country:e.country,region:e.region,ranking:e.ranking,rankChange:e.rankChange,rankingPoints:e.rankingPoints,stats:{winRate:e.stats.winRate,matchesPlayed:e.stats.matchesPlayed},nextMatch:e.nextMatch}))),i.NextResponse.json({success:!0,data:k.teams,pagination:k.pagination,filters:{applied:s,available:{region:["americas","emea","apac","global"],sortBy:["ranking","name","winrate","points"],sortOrder:["asc","desc"]}},stats:y,meta:{timestamp:new Date().toISOString(),cached:w-u<3e5,mobile:R}})}catch(e){return console.error("Teams API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function m(e){try{let t=await e.json();for(let e of["name","tag","region","country"])if(!t[e])return i.NextResponse.json({error:`Missing required field: ${e}`},{status:400});let a={id:String(l.length+1),name:t.name,shortName:t.shortName||t.name,tag:t.tag.toUpperCase(),logo:t.logo||"/teams/default-logo.png",bannerImage:t.bannerImage||"/teams/default-banner.jpg",country:t.country,region:t.region,city:t.city||"",founded:t.founded||new Date().toISOString().split("T")[0],ranking:l.length+1,previousRank:l.length+1,rankChange:0,peakRank:l.length+1,rankingPoints:0,verified:!1,status:"active",organization:t.organization||{},socials:t.socials||{},roster:t.roster||[],coaching:t.coaching||{},stats:{matchesPlayed:0,matchesWon:0,matchesLost:0,winRate:0,mapWinRate:0,averageRating:0,averageMapScore:{won:0,lost:0},currentStreak:{type:"none",count:0}},achievements:[],sponsors:t.sponsors||[],fanStats:{followers:0,engagement:0,merchandise:"unavailable"},marketValue:"low",lastActivity:new Date().toISOString(),nextMatch:null};return l.push(a),g=[],u=0,console.log(`[ADMIN] New team created: ${a.name}`),i.NextResponse.json({success:!0,message:"Team created successfully",team:a},{status:201})}catch(e){return console.error("Create team error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let h=new o.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/teams/route",pathname:"/api/teams",filename:"route",bundlePath:"app/api/teams/route"},resolvedPagePath:"/var/www/mrvl-frontend/frontend/src/app/api/teams/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:f,workUnitAsyncStorage:w,serverHooks:v}=h;function k(){return(0,s.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:w})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[447,580],()=>a(1712));module.exports=n})();