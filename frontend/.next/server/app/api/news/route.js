(()=>{var e={};e.id=635,e.ids=[635],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>y,routeModule:()=>h,serverHooks:()=>v,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>f});var r={};a.r(r),a.d(r,{GET:()=>g,POST:()=>p});var n=a(6559),s=a(8088),o=a(7719),i=a(2190);!function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}();let l=Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).object({page:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):1),limit:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>e?parseInt(e):10),category:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["patch-notes","esports","community","development","all"]).optional().default("all"),featured:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional().transform(e=>"true"===e),search:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().optional(),sortBy:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["date","views","engagement"]).optional().default("date"),sortOrder:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["asc","desc"]).optional().default("desc")}),c=[{id:"news-001",title:"Season 2 Launch: Major Hero Balance Changes",slug:"season-2-launch-hero-balance-changes",excerpt:"Season 2 brings significant balance changes to Iron Man, Storm, and other popular heroes. Get the full breakdown of what changed.",content:"# Season 2 Hero Balance Changes\n\nSeason 2 is finally here with major updates to hero balance...",category:"patch-notes",featuredImage:"/news/season-2-balance.jpg",thumbnailImage:"/news/season-2-balance-thumb.jpg",author:{id:"dev-team",name:"MRVL Dev Team",avatar:"/avatars/dev-team.png",role:"developer",verified:!0},publishedAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),readTime:5,isFeatured:!0,isBreaking:!1,tags:["season-2","balance","iron-man","storm","patch-notes"],stats:{views:15423,likes:892,shares:156,comments:234},seo:{metaTitle:"Season 2 Launch: Major Hero Balance Changes | MRVL.net",metaDescription:"Complete breakdown of Season 2 hero balance changes including Iron Man nerfs and Storm buffs.",keywords:["season 2","hero balance","iron man","storm","patch notes"]},socialMedia:{twitterCard:"summary_large_image",ogImage:"/news/season-2-balance-og.jpg"}},{id:"news-002",title:"Champions 2025 Format Revealed: $1M Prize Pool",slug:"champions-2025-format-revealed-1m-prize-pool",excerpt:"The biggest Marvel Rivals tournament ever announced with a massive $1 million prize pool and innovative format.",content:"# Champions 2025: The Ultimate Competition\n\nWe're excited to announce Champions 2025...",category:"esports",featuredImage:"/news/champions-2025.jpg",thumbnailImage:"/news/champions-2025-thumb.jpg",author:{id:"esports-team",name:"MRVL Esports",avatar:"/avatars/esports-team.png",role:"esports",verified:!0},publishedAt:new Date(Date.now()-216e5).toISOString(),updatedAt:new Date(Date.now()-216e5).toISOString(),readTime:8,isFeatured:!0,isBreaking:!0,tags:["champions-2025","tournament","esports","prize-pool","1-million"],stats:{views:28947,likes:1567,shares:423,comments:567},seo:{metaTitle:"Champions 2025 Format Revealed: $1M Prize Pool | MRVL.net",metaDescription:"The biggest Marvel Rivals tournament ever with $1M prize pool. Get all the details on format, teams, and dates.",keywords:["champions 2025","tournament","esports","1 million prize pool"]},socialMedia:{twitterCard:"summary_large_image",ogImage:"/news/champions-2025-og.jpg"}},{id:"news-003",title:"Community Spotlight: Best Plays of the Week",slug:"community-spotlight-best-plays-week-47",excerpt:"Check out the most incredible plays submitted by our community this week, featuring amazing clutches and team coordination.",content:"# Week 47: Community Highlights\n\nThis week brought some absolutely incredible plays...",category:"community",featuredImage:"/news/community-plays.jpg",thumbnailImage:"/news/community-plays-thumb.jpg",author:{id:"community-team",name:"Community Team",avatar:"/avatars/community-team.png",role:"community",verified:!0},publishedAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString(),readTime:3,isFeatured:!1,isBreaking:!1,tags:["community","highlights","plays","week-47","clutches"],stats:{views:8234,likes:423,shares:67,comments:89},seo:{metaTitle:"Community Spotlight: Best Plays of the Week | MRVL.net",metaDescription:"Amazing community plays featuring incredible clutches and team coordination from Week 47.",keywords:["community highlights","best plays","clutches","marvel rivals"]},socialMedia:{twitterCard:"summary_large_image",ogImage:"/news/community-plays-og.jpg"}},{id:"news-004",title:"Developer Insights: Building the New Ranked System",slug:"developer-insights-building-new-ranked-system",excerpt:"Behind-the-scenes look at how our team designed and implemented the new competitive ranking system.",content:"# Building a Better Ranked Experience\n\nCreating a fair and engaging ranked system...",category:"development",featuredImage:"/news/ranked-system.jpg",thumbnailImage:"/news/ranked-system-thumb.jpg",author:{id:"lead-dev",name:"Sarah Chen",avatar:"/avatars/sarah-chen.png",role:"lead-developer",verified:!0,bio:"Lead Game Designer at NetEase Games"},publishedAt:new Date(Date.now()-2592e5).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString(),readTime:12,isFeatured:!1,isBreaking:!1,tags:["development","ranked-system","competitive","behind-the-scenes","design"],stats:{views:12456,likes:678,shares:134,comments:156},seo:{metaTitle:"Developer Insights: Building the New Ranked System | MRVL.net",metaDescription:"Exclusive behind-the-scenes look at designing Marvel Rivals' new competitive ranking system.",keywords:["developer insights","ranked system","competitive","game design"]},socialMedia:{twitterCard:"summary_large_image",ogImage:"/news/ranked-system-og.jpg"}},{id:"news-005",title:"TenZ Joins Content Creator Program",slug:"tenz-joins-content-creator-program",excerpt:"Former Sentinels star TenZ announces partnership with MRVL as official content creator and community ambassador.",content:"# TenZ: From Pro Player to Content Creator\n\nWe're thrilled to announce that TenZ...",category:"community",featuredImage:"/news/tenz-creator.jpg",thumbnailImage:"/news/tenz-creator-thumb.jpg",author:{id:"pr-team",name:"MRVL PR Team",avatar:"/avatars/pr-team.png",role:"pr",verified:!0},publishedAt:new Date(Date.now()-432e6).toISOString(),updatedAt:new Date(Date.now()-432e6).toISOString(),readTime:4,isFeatured:!1,isBreaking:!1,tags:["tenz","content-creator","community","partnership","announcement"],stats:{views:19834,likes:1234,shares:289,comments:445},seo:{metaTitle:"TenZ Joins MRVL Content Creator Program | MRVL.net",metaDescription:"Former Sentinels pro TenZ becomes official MRVL content creator and community ambassador.",keywords:["tenz","content creator","community ambassador","partnership"]},socialMedia:{twitterCard:"summary_large_image",ogImage:"/news/tenz-creator-og.jpg"}}],m=[],d=0,u=new Map;async function g(e){try{var t,a,r,n,s;let o,g;let p=e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"unknown";if(!function(e){let t=Date.now(),a=u.get(e);return!a||t>a.resetTime?(u.set(e,{count:1,resetTime:t+6e4}),!0):!(a.count>=60)&&(a.count++,!0)}(p))return i.NextResponse.json({error:"Rate limit exceeded. Please try again later."},{status:429});let{searchParams:h}=new URL(e.url),w=Object.fromEntries(h.entries());try{o=l.parse(w)}catch(e){if(e instanceof Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).ZodError)return i.NextResponse.json({error:"Invalid query parameters",details:e.errors},{status:400})}let f=Date.now();m.length>0&&f-d<3e5?console.log("[CACHE] Serving news from cache"):(m=[...c],d=f,console.log("[CACHE] Refreshed news cache"));let v=(t=m,a=o,g=[...t],"all"!==a.category&&(g=g.filter(e=>e.category===a.category)),a.featured&&(g=g.filter(e=>e.isFeatured)),a.search&&(g=function(e,t){let a=t.toLowerCase();return e.filter(e=>e.title.toLowerCase().includes(a)||e.excerpt.toLowerCase().includes(a)||e.tags.some(e=>e.toLowerCase().includes(a))||e.author.name.toLowerCase().includes(a))}(g,a.search)),g);r=v,n=o.sortBy,s=o.sortOrder,v=r.sort((e,t)=>{let a,r;switch(n){case"date":default:a=new Date(e.publishedAt).getTime(),r=new Date(t.publishedAt).getTime();break;case"views":a=e.stats.views,r=t.stats.views;break;case"engagement":a=e.stats.likes+e.stats.shares+e.stats.comments,r=t.stats.likes+t.stats.shares+t.stats.comments}return"desc"===s?a>r?-1:+(a<r):a<r?-1:+(a>r)});let y=function(e,t,a){let r=(t-1)*a,n=r+a;return{articles:e.slice(r,n),pagination:{currentPage:t,totalPages:Math.ceil(e.length/a),totalArticles:e.length,hasNextPage:n<e.length,hasPreviousPage:t>1,limit:a}}}(v,o.page,o.limit),b=e.headers.get("user-agent")||"",k=/Mobile|Android|iPhone|iPad/.test(b);k&&(y.articles=y.articles.map(e=>({id:e.id,title:e.title,excerpt:e.excerpt.substring(0,120)+"...",category:e.category,thumbnailImage:e.thumbnailImage,author:{name:e.author.name,verified:e.author.verified},publishedAt:e.publishedAt,readTime:e.readTime,isFeatured:e.isFeatured,isBreaking:e.isBreaking,tags:e.tags.slice(0,3),stats:{views:e.stats.views,likes:e.stats.likes}})));let O=m.reduce((e,t)=>(e[t.category]||(e[t.category]=0),e[t.category]++,e),{});return i.NextResponse.json({success:!0,data:y.articles,pagination:y.pagination,filters:{applied:o,available:{category:["patch-notes","esports","community","development"],sortBy:["date","views","engagement"],sortOrder:["asc","desc"]}},categoryStats:O,featured:m.filter(e=>e.isFeatured).slice(0,3),breaking:m.filter(e=>e.isBreaking).slice(0,2),meta:{timestamp:new Date().toISOString(),cached:f-d<3e5,mobile:k}})}catch(e){return console.error("News API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e){try{let t=await e.json();for(let e of["title","excerpt","content","category","authorId"])if(!t[e])return i.NextResponse.json({error:`Missing required field: ${e}`},{status:400});let a={id:`news-${Date.now()}`,title:t.title,slug:t.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),excerpt:t.excerpt,content:t.content,category:t.category,featuredImage:t.featuredImage||"/news/default.jpg",thumbnailImage:t.thumbnailImage||"/news/default-thumb.jpg",author:t.author||{id:t.authorId,name:"MRVL Team",avatar:"/avatars/default.png",verified:!0},publishedAt:t.publishedAt||new Date().toISOString(),updatedAt:new Date().toISOString(),readTime:Math.ceil(t.content.split(" ").length/200),isFeatured:t.isFeatured||!1,isBreaking:t.isBreaking||!1,tags:t.tags||[],stats:{views:0,likes:0,shares:0,comments:0},seo:t.seo||{},socialMedia:t.socialMedia||{}};return c.unshift(a),m=[],d=0,console.log(`[ADMIN] New article created: ${a.title}`),i.NextResponse.json({success:!0,message:"Article created successfully",article:a},{status:201})}catch(e){return console.error("Create article error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/news/route",pathname:"/api/news",filename:"route",bundlePath:"app/api/news/route"},resolvedPagePath:"/var/www/mrvl-frontend/frontend/src/app/api/news/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:w,workUnitAsyncStorage:f,serverHooks:v}=h;function y(){return(0,o.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:f})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[447,580],()=>a(3471));module.exports=r})();