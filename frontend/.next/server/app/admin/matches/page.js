(()=>{var e={};e.id=280,e.ids=[280],e.modules={440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},796:(e,t,s)=>{Promise.resolve().then(s.bind(s,9024))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},3010:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/mrvl-frontend/frontend/src/app/admin/matches/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/mrvl-frontend/frontend/src/app/admin/matches/page.tsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(7413),a=s(2202),n=s.n(a),o=s(4988),d=s.n(o);s(1135);let i={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${n().variable} ${d().variable} antialiased`,children:e})})}},4716:(e,t,s)=>{Promise.resolve().then(s.bind(s,3010))},5701:()=>{},6167:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=s(5239),a=s(8088),n=s(8170),o=s.n(n),d=s(893),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let l={children:["",{children:["admin",{children:["matches",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3010)),"/var/www/mrvl-frontend/frontend/src/app/admin/matches/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/var/www/mrvl-frontend/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/var/www/mrvl-frontend/frontend/src/app/admin/matches/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/matches/page",pathname:"/admin/matches",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6189:(e,t,s)=>{"use strict";var r=s(5773);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},7108:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},9024:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(687),a=s(3210),n=s(6189),o=s(5814),d=s.n(o);function i(){(0,n.useRouter)();let{user:e}=Object(function(){var e=Error("Cannot find module '@/context/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}())(),[t,s]=(0,a.useState)([]),[o,i]=(0,a.useState)([]),[l,c]=(0,a.useState)({team1_id:"",team2_id:"",score1:"",score2:"",date:new Date().toISOString().slice(0,16),format:"bo3",status:"upcoming",event_name:""}),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[j,g]=(0,a.useState)(!1),[w,N]=(0,a.useState)({}),y=()=>{let e={};return l.team1_id||(e.team1_id="Team 1 is required"),l.team2_id||(e.team2_id="Team 2 is required"),l.team1_id===l.team2_id&&l.team1_id&&(e.team2_id="Team 2 must be different from Team 1"),l.date||(e.date="Date & Time is required"),l.event_name||(e.event_name="Event name is required"),"completed"===l.status&&((!l.score1||isNaN(parseInt(l.score1)))&&(e.score1="Valid score is required"),(!l.score2||isNaN(parseInt(l.score2)))&&(e.score2="Valid score is required")),N(e),0===Object.keys(e).length},_=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:s})),w[t]&&N(e=>{let s={...e};return delete s[t],s})},P=async e=>{if(e.preventDefault(),y())try{u(null);let e={id:p&&b?b:o.length+1,team1:t.find(e=>e.id.toString()===l.team1_id),team2:t.find(e=>e.id.toString()===l.team2_id),date:l.date,format:l.format,status:l.status,event_name:l.event_name};"completed"===l.status&&(e.score1=parseInt(l.score1),e.score2=parseInt(l.score2)),p&&b?(i(t=>t.map(t=>t.id===b?e:t)),u({type:"success",text:"Match updated successfully!"})):(i(t=>[...t,e]),u({type:"success",text:"Match created successfully!"})),c({team1_id:"",team2_id:"",score1:"",score2:"",date:new Date().toISOString().slice(0,16),format:"bo3",status:"upcoming",event_name:""}),f(!1),v(null),g(!1)}catch(e){console.error("Error submitting match:",e),u({type:"error",text:"Failed to save match. Please try again."})}},S=e=>{c({team1_id:e.team1.id.toString(),team2_id:e.team2.id.toString(),score1:e.score1?.toString()||"",score2:e.score2?.toString()||"",date:e.date,format:e.format,status:e.status,event_name:e.event_name}),f(!0),v(e.id),g(!0)},C=e=>{window.confirm("Are you sure you want to delete this match?")&&(i(t=>t.filter(t=>t.id!==e)),u({type:"success",text:"Match deleted successfully!"}))},k=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return x?(0,r.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#fa4454]"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Matches"}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)(d(),{href:"/admin",className:"bg-[#2b3d4d] hover:bg-[#354c5f] text-white px-4 py-2 rounded text-sm transition-colors",children:"Back to Dashboard"}),(0,r.jsx)("button",{onClick:()=>g(!j),className:"bg-[#fa4454] hover:bg-[#e03a49] text-white px-4 py-2 rounded text-sm transition-colors",children:j?"Hide Form":"Add New Match"})]})]}),m&&(0,r.jsx)("div",{className:`mb-6 p-4 rounded ${"success"===m.type?"bg-green-800/30 border border-green-500 text-green-100":"bg-red-800/30 border border-red-500 text-red-100"}`,children:m.text}),j&&(0,r.jsxs)("div",{className:"bg-[#1a242d] border border-[#2b3d4d] rounded-lg p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:p?"Edit Match":"Add New Match"}),(0,r.jsxs)("form",{onSubmit:P,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Team 1"}),(0,r.jsxs)("select",{name:"team1_id",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.team1_id?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.team1_id,onChange:_,children:[(0,r.jsx)("option",{value:"",children:"Select Team 1"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},`t1-${e.id}`))]}),w.team1_id&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.team1_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Team 2"}),(0,r.jsxs)("select",{name:"team2_id",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.team2_id?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.team2_id,onChange:_,children:[(0,r.jsx)("option",{value:"",children:"Select Team 2"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},`t2-${e.id}`))]}),w.team2_id&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.team2_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Date & Time"}),(0,r.jsx)("input",{type:"datetime-local",name:"date",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.date?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.date,onChange:_}),w.date&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.date})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Event Name"}),(0,r.jsx)("input",{type:"text",name:"event_name",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.event_name?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.event_name,onChange:_,placeholder:"e.g. Marvel Rivals Championship"}),w.event_name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.event_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Format"}),(0,r.jsxs)("select",{name:"format",className:"w-full bg-[#0f1923] border border-[#2b3d4d] rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454]",value:l.format,onChange:_,children:[(0,r.jsx)("option",{value:"bo1",children:"Best of 1"}),(0,r.jsx)("option",{value:"bo3",children:"Best of 3"}),(0,r.jsx)("option",{value:"bo5",children:"Best of 5"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Status"}),(0,r.jsxs)("select",{name:"status",className:"w-full bg-[#0f1923] border border-[#2b3d4d] rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454]",value:l.status,onChange:_,children:[(0,r.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,r.jsx)("option",{value:"live",children:"Live"}),(0,r.jsx)("option",{value:"completed",children:"Completed"})]})]})]}),"completed"===l.status&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Team 1 Score"}),(0,r.jsx)("input",{type:"number",name:"score1",min:"0",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.score1?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.score1,onChange:_}),w.score1&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.score1})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-1",children:"Team 2 Score"}),(0,r.jsx)("input",{type:"number",name:"score2",min:"0",className:`w-full bg-[#0f1923] border rounded-md shadow-sm px-4 py-2 text-white focus:outline-none focus:ring-[#fa4454] focus:border-[#fa4454] ${w.score2?"border-[#fa4454]":"border-[#2b3d4d]"}`,value:l.score2,onChange:_}),w.score2&&(0,r.jsx)("p",{className:"mt-1 text-sm text-[#fa4454]",children:w.score2})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{c({team1_id:"",team2_id:"",score1:"",score2:"",date:new Date().toISOString().slice(0,16),format:"bo3",status:"upcoming",event_name:""}),f(!1),v(null),g(!1),N({})},className:"bg-[#2b3d4d] hover:bg-[#354c5f] text-white px-4 py-2 rounded text-sm transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"bg-[#fa4454] hover:bg-[#e03a49] text-white px-4 py-2 rounded text-sm transition-colors",children:p?"Update Match":"Create Match"})]})]})]}),(0,r.jsxs)("div",{className:"bg-[#1a242d] border border-[#2b3d4d] rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Match List"}),0===o.length?(0,r.jsx)("div",{className:"text-center py-6 text-[#768894]",children:"No matches found. Create your first match using the form above."}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full table-auto",children:[(0,r.jsx)("thead",{className:"bg-[#0f1923] text-[#768894] text-left",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 rounded-tl-md",children:"Teams"}),(0,r.jsx)("th",{className:"px-4 py-2",children:"Event"}),(0,r.jsx)("th",{className:"px-4 py-2",children:"Format"}),(0,r.jsx)("th",{className:"px-4 py-2",children:"Date & Time"}),(0,r.jsx)("th",{className:"px-4 py-2",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-2",children:"Score"}),(0,r.jsx)("th",{className:"px-4 py-2 rounded-tr-md",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-[#2b3d4d]",children:o.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[#20303d]",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"font-medium",children:[e.team1.name," vs ",e.team2.name]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm",children:e.event_name})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"uppercase text-sm",children:e.format})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm",children:k(e.date)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:`px-2 py-1 text-white text-xs rounded ${"live"===e.status?"bg-red-500":"upcoming"===e.status?"bg-blue-500":"bg-green-500"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:"completed"===e.status?(0,r.jsxs)("div",{className:"font-medium",children:[e.score1," - ",e.score2]}):(0,r.jsx)("div",{className:"text-[#768894] text-sm",children:"-"})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>S(e),className:"p-1 text-[#768894] hover:text-white",title:"Edit match",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,r.jsx)("button",{onClick:()=>C(e.id),className:"p-1 text-[#768894] hover:text-[#fa4454]",title:"Delete match",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})]})]})}!function(){var e=Error("Cannot find module '@/context/AuthContext'");throw e.code="MODULE_NOT_FOUND",e}()},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9253:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9492:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,169,658,814],()=>s(6167));module.exports=r})();